# GitHub Issue Tracking Workflow

**Purpose**: Automatically create GitHub issues after task analysis to maintain comprehensive project tracking and enable easy reference for future work.

## Workflow Configuration

### When to Execute
- **Trigger**: After completing any significant task analysis
- **Scope**: All tasks involving code analysis, feature development, bug investigation, or system improvements
- **Frequency**: Once per completed task or analysis session

### GitHub Issue Creation Process

#### 1. Task Analysis Summary
After completing task analysis, gather:
- **Task Description**: What was analyzed or completed
- **Key Findings**: Important discoveries, patterns, or insights
- **Implementation Details**: Changes made, files affected, approaches used
- **Recommendations**: Next steps, improvements, or follow-up actions
- **Related Context**: Dependencies, risks, or considerations

#### 2. Issue Template Structure

```markdown
## 📋 Task Analysis Summary

**Completed**: [Date/Time]
**Type**: [Analysis/Implementation/Investigation/Enhancement]
**Priority**: [Low/Medium/High/Critical]

### 🎯 Original Task
[Brief description of what was requested or analyzed]

### 🔍 Analysis Results
[Key findings, discoveries, or conclusions from the analysis]

### ⚙️ Implementation Details
- **Files Modified**: [List of changed files]
- **Approach Used**: [Technical approach or methodology]
- **Tools/Commands**: [Key commands or tools used]
- **Performance Impact**: [Any performance considerations]

### 📊 Metrics & Outcomes
- **Time Investment**: [Estimated time spent]
- **Complexity**: [Low/Medium/High]
- **Success Criteria**: [How success was measured]
- **Quality Score**: [Subjective assessment if applicable]

### 🔗 Related Information
- **Branch**: [Git branch if applicable]
- **PR/Commit**: [Related pull requests or commits]
- **Dependencies**: [Related tasks or requirements]
- **Documentation**: [Links to relevant docs or specs]

### 🚀 Next Steps & Recommendations
1. [Immediate follow-up actions]
2. [Future improvements or optimizations]
3. [Monitoring or validation needed]
4. [Documentation updates required]

### 🏷️ Labels
[Suggested labels: analysis, enhancement, technical-debt, documentation, etc.]

### 👥 Assignees
[Who should be notified or assigned for follow-up]

---
*🤖 Auto-generated by Claude Flow workflow*
*Session ID: [Unique session identifier]*
*Generated: [Timestamp]*
```

#### 3. GitHub CLI Command Template

```bash
# Create GitHub issue with analysis results
gh issue create \
  --title "📊 Task Analysis: [Brief Task Description]" \
  --body-file /tmp/issue-template.md \
  --label "analysis,claude-flow,task-tracking" \
  --assignee "@me" \
  --milestone "Analysis Tracking"
```

## Implementation Examples

### Example 1: Code Analysis Task
```bash
# After analyzing codebase performance
gh issue create \
  --title "📊 Performance Analysis: Database Query Optimization" \
  --body "$(cat <<'EOF'
## 📋 Task Analysis Summary

**Completed**: 2024-01-19 14:30 UTC
**Type**: Analysis/Optimization
**Priority**: Medium

### 🎯 Original Task
Analyze database query performance and identify optimization opportunities

### 🔍 Analysis Results
- Identified 12 slow queries averaging >500ms response time
- Found missing indexes on frequently queried columns
- Discovered N+1 query patterns in user profile loading

### ⚙️ Implementation Details
- **Files Analyzed**: backend/src/models/*.ts, backend/src/services/database/
- **Approach Used**: Query profiling with PostgreSQL EXPLAIN ANALYZE
- **Tools/Commands**: `npm run db:profile`, custom query analysis scripts
- **Performance Impact**: Potential 60-70% query time reduction

### 📊 Metrics & Outcomes
- **Time Investment**: 2.5 hours
- **Complexity**: Medium
- **Queries Analyzed**: 45 total
- **Optimization Opportunities**: 12 identified

### 🔗 Related Information
- **Branch**: feature/database-optimization-analysis
- **Documentation**: docs/database/performance-analysis.md
- **Related PRs**: Pending optimization implementation

### 🚀 Next Steps & Recommendations
1. Implement identified database indexes
2. Refactor N+1 query patterns to use JOIN operations
3. Add query performance monitoring to CI/CD pipeline
4. Update database documentation with performance guidelines

### 🏷️ Labels
analysis, database, performance, optimization, backend

---
*🤖 Auto-generated by Claude Flow workflow*
*Session ID: cf-analysis-20240119-1430*
*Generated: 2024-01-19T14:30:00Z*
EOF
)" \
  --label "analysis,database,performance,claude-flow" \
  --assignee "@me"
```

### Example 2: Feature Implementation Task
```bash
# After implementing new feature
gh issue create \
  --title "📊 Implementation: User Authentication Enhancement" \
  --body "$(cat <<'EOF'
## 📋 Task Analysis Summary

**Completed**: 2024-01-19 16:45 UTC
**Type**: Implementation/Enhancement
**Priority**: High

### 🎯 Original Task
Implement multi-factor authentication with TOTP support

### 🔍 Analysis Results
- Successfully integrated TOTP-based 2FA
- Added backup codes for account recovery
- Implemented session management improvements
- Enhanced security validation throughout auth flow

### ⚙️ Implementation Details
- **Files Modified**: 
  - backend/src/auth/mfa.ts (new)
  - backend/src/auth/session.ts
  - frontend/src/components/auth/MFASetup.tsx (new)
  - database/migrations/add-mfa-support.sql
- **Approach Used**: Industry-standard TOTP with QR code generation
- **Tools/Commands**: speakeasy library, qrcode generation, jest tests
- **Performance Impact**: Minimal - auth flow +50ms average

### 📊 Metrics & Outcomes
- **Time Investment**: 6 hours
- **Complexity**: High
- **Test Coverage**: 95% for new MFA components
- **Security Enhancement**: Significant improvement in account security

### 🔗 Related Information
- **Branch**: feature/multi-factor-authentication
- **PR**: #123 - Multi-Factor Authentication Implementation
- **Commit**: a1b2c3d - Add comprehensive MFA support
- **Documentation**: docs/security/mfa-implementation.md

### 🚀 Next Steps & Recommendations
1. Deploy to staging environment for user testing
2. Create user documentation for MFA setup process
3. Monitor authentication success rates post-deployment
4. Consider adding hardware key support in future iteration

### 🏷️ Labels
enhancement, authentication, security, frontend, backend

---
*🤖 Auto-generated by Claude Flow workflow*
*Session ID: cf-impl-20240119-1645*
*Generated: 2024-01-19T16:45:00Z*
EOF
)" \
  --label "enhancement,authentication,security,claude-flow" \
  --assignee "@me" \
  --milestone "Security Enhancements"
```

## Automation Integration

### Hook Integration
Add to `.claude/hooks/post-task.sh`:
```bash
#!/bin/bash
# Auto-create GitHub issue after task completion

TASK_SUMMARY="$1"
TASK_TYPE="$2"
SESSION_ID="$3"

# Generate issue template
cat > /tmp/claude-issue-template.md <<EOF
## 📋 Task Analysis Summary
**Completed**: $(date -u +"%Y-%m-%d %H:%M UTC")
**Type**: ${TASK_TYPE}
**Priority**: Medium

### 🎯 Original Task
${TASK_SUMMARY}

[Additional details will be filled by Claude Flow analysis]

---
*🤖 Auto-generated by Claude Flow workflow*
*Session ID: ${SESSION_ID}*
*Generated: $(date -u +"%Y-%m-%dT%H:%M:%SZ")*
EOF

# Create GitHub issue
if command -v gh &> /dev/null; then
    gh issue create \
        --title "📊 Task Analysis: ${TASK_SUMMARY}" \
        --body-file /tmp/claude-issue-template.md \
        --label "analysis,claude-flow,auto-generated" \
        --assignee "@me"
    
    echo "✅ GitHub issue created for task: ${TASK_SUMMARY}"
else
    echo "⚠️  GitHub CLI not available - skipping issue creation"
fi

# Cleanup
rm -f /tmp/claude-issue-template.md
```

### Claude Flow Memory Integration
```javascript
// Store task analysis for issue creation
mcp__claude-flow__memory_store({
  "key": "github_issue_queue/${sessionId}",
  "value": {
    "task_summary": "...",
    "analysis_results": "...", 
    "implementation_details": "...",
    "recommendations": "...",
    "created_at": new Date().toISOString()
  },
  "namespace": "workflows/",
  "ttl": 604800 // 7 days
})
```

## Configuration Options

### Issue Labels
Customize in `.claude/settings.json`:
```json
{
  "github_issue_tracking": {
    "enabled": true,
    "default_labels": ["analysis", "claude-flow", "task-tracking"],
    "auto_assign": true,
    "milestone": "Analysis Tracking",
    "template_path": ".claude/workflows/issue-template.md"
  }
}
```

### Repository Settings
```json
{
  "github": {
    "repository": "tbowman01/prompt-card-system",
    "issue_prefix": "📊 Task Analysis:",
    "assignee": "@me",
    "default_milestone": "Continuous Improvement"
  }
}
```

## Usage Instructions

1. **Enable Workflow**: Ensure this file exists in `.claude/workflows/`
2. **Install GitHub CLI**: Make sure `gh` command is available and authenticated
3. **Configure Repository**: Set default repository in GitHub CLI
4. **Customize Template**: Modify the issue template to fit your needs
5. **Test Creation**: Manually test issue creation with sample data

## Best Practices

- **Consistent Labeling**: Use standardized labels for easy filtering
- **Meaningful Titles**: Include enough context for quick identification
- **Actionable Recommendations**: Always include clear next steps
- **Link Related Work**: Reference commits, PRs, and documentation
- **Regular Review**: Periodically review and close completed analysis issues
- **Template Evolution**: Update template based on team feedback and needs

This workflow ensures comprehensive tracking of all Claude Flow analysis tasks while maintaining project visibility and enabling easy reference for future development cycles.