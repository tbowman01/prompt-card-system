8b6a16111ffbc918ccb6211e146a53bd
'use strict';
const { getBooleanOption, cppdb } = require('../util');
module.exports = function pragma(source, options) {
    if (options == null) options = {};
    if (typeof source !== 'string') throw new TypeError('Expected first argument to be a string');
    if (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');
    const simple = getBooleanOption(options, 'simple');
    const stmt = this[cppdb].prepare(`PRAGMA ${source}`, this, true);
    return simple ? stmt.pluck().get() : stmt.all();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9ub2RlX21vZHVsZXMvYmV0dGVyLXNxbGl0ZTMvbGliL21ldGhvZHMvcHJhZ21hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHsgZ2V0Qm9vbGVhbk9wdGlvbiwgY3BwZGIgfSA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcmFnbWEoc291cmNlLCBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zID09IG51bGwpIG9wdGlvbnMgPSB7fTtcblx0aWYgKHR5cGVvZiBzb3VyY2UgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBhIHN0cmluZycpO1xuXHRpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYW4gb3B0aW9ucyBvYmplY3QnKTtcblx0Y29uc3Qgc2ltcGxlID0gZ2V0Qm9vbGVhbk9wdGlvbihvcHRpb25zLCAnc2ltcGxlJyk7XG5cblx0Y29uc3Qgc3RtdCA9IHRoaXNbY3BwZGJdLnByZXBhcmUoYFBSQUdNQSAke3NvdXJjZX1gLCB0aGlzLCB0cnVlKTtcblx0cmV0dXJuIHNpbXBsZSA/IHN0bXQucGx1Y2soKS5nZXQoKSA6IHN0bXQuYWxsKCk7XG59O1xuIl0sIm5hbWVzIjpbImdldEJvb2xlYW5PcHRpb24iLCJjcHBkYiIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJhZ21hIiwic291cmNlIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsInNpbXBsZSIsInN0bXQiLCJwcmVwYXJlIiwicGx1Y2siLCJnZXQiLCJhbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsTUFBTSxFQUFFQSxnQkFBZ0IsRUFBRUMsS0FBSyxFQUFFLEdBQUdDLFFBQVE7QUFFNUNDLE9BQU9DLE9BQU8sR0FBRyxTQUFTQyxPQUFPQyxNQUFNLEVBQUVDLE9BQU87SUFDL0MsSUFBSUEsV0FBVyxNQUFNQSxVQUFVLENBQUM7SUFDaEMsSUFBSSxPQUFPRCxXQUFXLFVBQVUsTUFBTSxJQUFJRSxVQUFVO0lBQ3BELElBQUksT0FBT0QsWUFBWSxVQUFVLE1BQU0sSUFBSUMsVUFBVTtJQUNyRCxNQUFNQyxTQUFTVCxpQkFBaUJPLFNBQVM7SUFFekMsTUFBTUcsT0FBTyxJQUFJLENBQUNULE1BQU0sQ0FBQ1UsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFTCxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzNELE9BQU9HLFNBQVNDLEtBQUtFLEtBQUssR0FBR0MsR0FBRyxLQUFLSCxLQUFLSSxHQUFHO0FBQzlDIn0=