{"version":3,"sources":["/workspaces/prompt-card-system/backend/src/tests/setup.ts"],"sourcesContent":["// Test setup for backend tests\nimport 'reflect-metadata';\n\n// Mock environment variables for testing\nprocess.env.NODE_ENV = 'test';\nprocess.env.JWT_SECRET = 'test-jwt-secret';\nprocess.env.DATABASE_PATH = ':memory:';\nprocess.env.LOG_LEVEL = 'error';\n\n// Mock console methods to reduce noise in tests\nconst originalConsole = { ...console };\n\nbeforeAll(() => {\n  // Suppress console output during tests unless LOG_LEVEL is debug\n  if (process.env.LOG_LEVEL !== 'debug') {\n    console.log = jest.fn();\n    console.info = jest.fn();\n    console.warn = jest.fn();\n    // Keep console.error for debugging failed tests\n  }\n});\n\nafterAll(() => {\n  // Restore console methods\n  Object.assign(console, originalConsole);\n});\n\n// Global test timeout\njest.setTimeout(30000);\n\n// Mock fetch for Node.js environment\nglobal.fetch = jest.fn();\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks();\n});"],"names":["process","env","NODE_ENV","JWT_SECRET","DATABASE_PATH","LOG_LEVEL","originalConsole","console","beforeAll","log","jest","fn","info","warn","afterAll","Object","assign","setTimeout","global","fetch","afterEach","clearAllMocks"],"mappings":"AAAA,+BAA+B;;;;;QACxB;AAEP,yCAAyC;AACzCA,QAAQC,GAAG,CAACC,QAAQ,GAAG;AACvBF,QAAQC,GAAG,CAACE,UAAU,GAAG;AACzBH,QAAQC,GAAG,CAACG,aAAa,GAAG;AAC5BJ,QAAQC,GAAG,CAACI,SAAS,GAAG;AAExB,gDAAgD;AAChD,MAAMC,kBAAkB;IAAE,GAAGC,OAAO;AAAC;AAErCC,UAAU;IACR,iEAAiE;IACjE,IAAIR,QAAQC,GAAG,CAACI,SAAS,KAAK,SAAS;QACrCE,QAAQE,GAAG,GAAGC,KAAKC,EAAE;QACrBJ,QAAQK,IAAI,GAAGF,KAAKC,EAAE;QACtBJ,QAAQM,IAAI,GAAGH,KAAKC,EAAE;IACtB,gDAAgD;IAClD;AACF;AAEAG,SAAS;IACP,0BAA0B;IAC1BC,OAAOC,MAAM,CAACT,SAASD;AACzB;AAEA,sBAAsB;AACtBI,KAAKO,UAAU,CAAC;AAEhB,qCAAqC;AACrCC,OAAOC,KAAK,GAAGT,KAAKC,EAAE;AAEtB,2BAA2B;AAC3BS,UAAU;IACRV,KAAKW,aAAa;AACpB"}