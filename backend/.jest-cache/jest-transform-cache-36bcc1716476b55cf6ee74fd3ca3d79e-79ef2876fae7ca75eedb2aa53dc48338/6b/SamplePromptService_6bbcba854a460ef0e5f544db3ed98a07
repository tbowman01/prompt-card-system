af489e96a9f39fb229cec122f966f87a
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get SamplePromptService () {
        return SamplePromptService;
    },
    get default () {
        return _default;
    }
});
const _connection = require("../database/connection");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
class SamplePromptService {
    static getInstance() {
        if (!SamplePromptService.instance) {
            SamplePromptService.instance = new SamplePromptService();
        }
        return SamplePromptService.instance;
    }
    /**
   * Get all predefined sample prompts
   */ getSamplePrompts() {
        return [
            {
                title: "Creative Story Generator",
                description: "Generate engaging creative stories based on specified genre, characters, and setting. Perfect for creative writing, content creation, and storytelling exercises.",
                prompt_template: `Write a {{genre}} story that takes place in {{setting}}. The main character is {{character_name}}, who is {{character_description}}. 

The story should:
- Be approximately {{word_count}} words long
- Include the theme of {{theme}}
- Have a clear beginning, middle, and end
- Be appropriate for {{target_audience}}

Style: {{writing_style}}

Create an engaging narrative that captures the reader's attention from the first sentence.`,
                variables: [
                    "genre",
                    "setting",
                    "character_name",
                    "character_description",
                    "word_count",
                    "theme",
                    "target_audience",
                    "writing_style"
                ],
                category: "creative",
                tags: [
                    "creative writing",
                    "storytelling",
                    "narrative",
                    "fiction"
                ]
            },
            {
                title: "Technical Documentation Assistant",
                description: "Create comprehensive technical documentation for software projects, APIs, and systems. Ideal for developers, technical writers, and project managers.",
                prompt_template: `Create technical documentation for {{project_name}}.

Project Type: {{project_type}}
Technology Stack: {{tech_stack}}
Target Audience: {{audience_level}}

Please include the following sections:

1. **Overview**
   - Brief description of {{project_name}}
   - Key features and capabilities
   - Use cases and benefits

2. **Getting Started**
   - Prerequisites and requirements
   - Installation instructions
   - Basic setup and configuration

3. **{{documentation_focus}}**
   - Detailed implementation guide
   - Code examples and best practices
   - Common patterns and conventions

4. **API Reference** (if applicable)
   - Endpoint documentation
   - Request/response examples
   - Error handling and status codes

5. **Troubleshooting**
   - Common issues and solutions
   - Debugging tips
   - FAQ section

Format: Use clear markdown formatting with code blocks, tables, and examples where appropriate.
Tone: {{tone}} and suitable for {{audience_level}} developers.`,
                variables: [
                    "project_name",
                    "project_type",
                    "tech_stack",
                    "audience_level",
                    "documentation_focus",
                    "tone"
                ],
                category: "technical",
                tags: [
                    "documentation",
                    "technical writing",
                    "API",
                    "software",
                    "development"
                ]
            },
            {
                title: "Data Analysis Query Builder",
                description: "Generate comprehensive data analysis queries and insights for business intelligence, research, and decision-making processes.",
                prompt_template: `Perform a data analysis on {{dataset_name}} with the following specifications:

**Analysis Objective:** {{analysis_goal}}
**Data Source:** {{data_source}}
**Time Period:** {{time_period}}
**Key Metrics:** {{key_metrics}}

Please provide:

1. **Data Exploration**
   - Overview of the dataset structure
   - Key variables and their distributions
   - Data quality assessment and missing values

2. **Statistical Analysis**
   - Descriptive statistics for {{key_metrics}}
   - Correlation analysis between variables
   - Trend analysis over {{time_period}}

3. **Insights and Findings**
   - Key patterns and relationships discovered
   - Significant trends or anomalies
   - Business implications of findings

4. **Query Examples**
   - SQL/Python code for key calculations
   - Visualization recommendations
   - Data filtering and aggregation methods

5. **Recommendations**
   - Actionable insights based on analysis
   - Further analysis suggestions
   - Data collection improvements

Analysis Level: {{complexity_level}}
Output Format: {{output_format}}
Include visualizations: {{include_charts}}`,
                variables: [
                    "dataset_name",
                    "analysis_goal",
                    "data_source",
                    "time_period",
                    "key_metrics",
                    "complexity_level",
                    "output_format",
                    "include_charts"
                ],
                category: "analytics",
                tags: [
                    "data analysis",
                    "business intelligence",
                    "statistics",
                    "SQL",
                    "insights"
                ]
            },
            {
                title: "Problem-Solving Framework",
                description: "Systematic approach to analyzing and solving complex problems using structured thinking methodologies. Great for consulting, project management, and strategic planning.",
                prompt_template: `Analyze and provide a solution framework for the following problem:

**Problem Statement:** {{problem_description}}
**Context:** {{problem_context}}
**Stakeholders:** {{stakeholders}}
**Constraints:** {{constraints}}
**Timeline:** {{timeline}}

Using the {{methodology}} approach, please provide:

1. **Problem Definition**
   - Root cause analysis
   - Problem scope and boundaries
   - Impact assessment on {{stakeholders}}

2. **Solution Framework**
   - Multiple solution alternatives
   - Pros and cons for each approach
   - Resource requirements and feasibility

3. **Implementation Plan**
   - Step-by-step action plan
   - Timeline and milestones
   - Risk assessment and mitigation strategies

4. **Success Metrics**
   - Key performance indicators
   - Measurement methods
   - Success criteria definition

5. **Recommendations**
   - Preferred solution with justification
   - Next steps and immediate actions
   - Long-term considerations

Analysis Depth: {{analysis_depth}}
Decision Framework: {{decision_criteria}}
Priority Level: {{priority_level}}`,
                variables: [
                    "problem_description",
                    "problem_context",
                    "stakeholders",
                    "constraints",
                    "timeline",
                    "methodology",
                    "analysis_depth",
                    "decision_criteria",
                    "priority_level"
                ],
                category: "problem-solving",
                tags: [
                    "problem solving",
                    "analysis",
                    "strategy",
                    "consulting",
                    "framework"
                ]
            },
            {
                title: "Code Generation Assistant",
                description: "Generate well-structured, documented code with best practices, error handling, and comprehensive testing. Perfect for rapid prototyping and development.",
                prompt_template: `Generate {{language}} code for the following requirements:

**Project:** {{project_name}}
**Functionality:** {{functionality_description}}
**Framework/Library:** {{framework}}
**Code Style:** {{coding_style}}

Requirements:
{{requirements}}

Please provide:

1. **Main Implementation**
   - Clean, well-structured code
   - Proper error handling and validation
   - Performance optimizations where applicable
   - Security best practices

2. **Documentation**
   - Comprehensive code comments
   - Function/method documentation
   - Usage examples
   - API documentation (if applicable)

3. **Testing**
   - Unit test cases
   - Integration test examples
   - Edge case handling
   - Mock data and fixtures

4. **Configuration**
   - Environment setup instructions
   - Dependencies and requirements
   - Configuration files (if needed)
   - Deployment considerations

Code Quality Standards:
- Follow {{coding_style}} conventions
- Include type hints/annotations (where applicable)
- Implement proper logging
- Handle edge cases and errors gracefully
- Optimize for {{performance_priority}}

Target Environment: {{target_environment}}
Complexity Level: {{complexity_level}}`,
                variables: [
                    "language",
                    "project_name",
                    "functionality_description",
                    "framework",
                    "coding_style",
                    "requirements",
                    "performance_priority",
                    "target_environment",
                    "complexity_level"
                ],
                category: "development",
                tags: [
                    "code generation",
                    "programming",
                    "development",
                    "testing",
                    "best practices"
                ]
            },
            {
                title: "Business Strategy Consultant",
                description: "Comprehensive business analysis and strategic planning assistant for market research, competitive analysis, and growth strategies.",
                prompt_template: `Provide a strategic business analysis for {{company_name}} in the {{industry}} industry.

**Company Profile:**
- Company: {{company_name}}
- Industry: {{industry}}
- Current Stage: {{business_stage}}
- Market Focus: {{target_market}}
- Key Challenge: {{primary_challenge}}

**Analysis Framework:**

1. **Market Analysis**
   - Industry overview and trends
   - Market size and growth potential
   - Key market drivers and barriers
   - Regulatory environment impact

2. **Competitive Landscape**
   - Direct and indirect competitors
   - Competitive advantages and gaps
   - Market positioning analysis
   - Pricing strategy comparison

3. **SWOT Analysis**
   - Internal strengths and capabilities
   - Areas for improvement
   - Market opportunities identification
   - Threat assessment and risk factors

4. **Strategic Recommendations**
   - Growth strategy options
   - Market entry/expansion strategies
   - Operational efficiency improvements
   - Innovation and differentiation opportunities

5. **Implementation Roadmap**
   - Priority initiatives and timeline
   - Resource allocation requirements
   - Key milestones and metrics
   - Risk mitigation strategies

**Specific Focus Areas:**
- {{focus_area_1}}
- {{focus_area_2}}
- {{focus_area_3}}

Analysis Depth: {{analysis_depth}}
Time Horizon: {{time_horizon}}
Budget Considerations: {{budget_range}}`,
                variables: [
                    "company_name",
                    "industry",
                    "business_stage",
                    "target_market",
                    "primary_challenge",
                    "focus_area_1",
                    "focus_area_2",
                    "focus_area_3",
                    "analysis_depth",
                    "time_horizon",
                    "budget_range"
                ],
                category: "business",
                tags: [
                    "business strategy",
                    "market analysis",
                    "consulting",
                    "competitive analysis",
                    "growth planning"
                ]
            }
        ];
    }
    /**
   * Initialize sample prompts in the database
   */ async initializeSamplePrompts() {
        if (this.initialized) {
            return;
        }
        try {
            const samplePrompts = this.getSamplePrompts();
            for (const sample of samplePrompts){
                // Check if prompt already exists
                const existing = await _connection.db.prepare(`
          SELECT id FROM prompt_cards WHERE title = ?
        `).get(sample.title);
                if (!existing) {
                    const result = await _connection.db.prepare(`
            INSERT INTO prompt_cards (title, description, prompt_template, variables)
            VALUES (?, ?, ?, ?)
          `).run(sample.title, sample.description, sample.prompt_template, JSON.stringify(sample.variables));
                    console.log(`Created sample prompt: ${sample.title} (ID: ${result.lastInsertRowid})`);
                }
            }
            this.initialized = true;
            console.log(`Sample prompts initialization completed`);
        } catch (error) {
            console.error('Failed to initialize sample prompts:', error);
            throw error;
        }
    }
    /**
   * Get sample prompts by category
   */ getSamplePromptsByCategory(category) {
        return this.getSamplePrompts().filter((prompt)=>prompt.category === category);
    }
    /**
   * Get all available categories
   */ getCategories() {
        const categories = this.getSamplePrompts().map((prompt)=>prompt.category);
        return [
            ...new Set(categories)
        ];
    }
    /**
   * Create a database prompt card from a sample prompt
   */ async createPromptFromSample(sampleTitle) {
        try {
            const sample = this.getSamplePrompts().find((p)=>p.title === sampleTitle);
            if (!sample) {
                throw new Error(`Sample prompt '${sampleTitle}' not found`);
            }
            // Check if already exists
            const existing = await _connection.db.prepare(`
        SELECT * FROM prompt_cards WHERE title = ?
      `).get(sample.title);
            if (existing) {
                return {
                    ...existing,
                    variables: JSON.parse(existing.variables || '[]')
                };
            }
            // Create new prompt card
            const result = await _connection.db.prepare(`
        INSERT INTO prompt_cards (title, description, prompt_template, variables)
        VALUES (?, ?, ?, ?)
      `).run(sample.title, sample.description, sample.prompt_template, JSON.stringify(sample.variables));
            const newCard = await _connection.db.prepare(`
        SELECT * FROM prompt_cards WHERE id = ?
      `).get(result.lastInsertRowid);
            return {
                ...newCard,
                variables: JSON.parse(newCard.variables || '[]')
            };
        } catch (error) {
            console.error('Failed to create prompt from sample:', error);
            throw error;
        }
    }
    /**
   * Get sample prompt preview without creating in database
   */ getSamplePromptPreview(title) {
        return this.getSamplePrompts().find((p)=>p.title === title) || null;
    }
    /**
   * Validate sample prompt template
   */ validateSamplePrompt(sample) {
        const errors = [];
        // Check required fields
        if (!sample.title?.trim()) {
            errors.push('Title is required');
        }
        if (!sample.prompt_template?.trim()) {
            errors.push('Prompt template is required');
        }
        if (!sample.description?.trim()) {
            errors.push('Description is required');
        }
        // Check variables are used in template
        if (sample.variables && sample.variables.length > 0) {
            const templateVariables = this.extractVariablesFromTemplate(sample.prompt_template);
            const unusedVariables = sample.variables.filter((v)=>!templateVariables.includes(v));
            const undeclaredVariables = templateVariables.filter((v)=>!sample.variables.includes(v));
            if (unusedVariables.length > 0) {
                errors.push(`Unused variables declared: ${unusedVariables.join(', ')}`);
            }
            if (undeclaredVariables.length > 0) {
                errors.push(`Variables used but not declared: ${undeclaredVariables.join(', ')}`);
            }
        }
        return {
            isValid: errors.length === 0,
            errors
        };
    }
    /**
   * Extract variables from template
   */ extractVariablesFromTemplate(template) {
        const matches = template.match(/\{\{(\w+)\}\}/g) || [];
        return [
            ...new Set(matches.map((match)=>match.replace(/\{\{|\}\}/g, '')))
        ];
    }
    /**
   * Get sample prompt statistics
   */ getSamplePromptStats() {
        const samples = this.getSamplePrompts();
        const categories = this.getCategories();
        return {
            totalSamples: samples.length,
            categories: categories.length,
            categoriesBreakdown: categories.map((cat)=>({
                    category: cat,
                    count: samples.filter((s)=>s.category === cat).length
                })),
            averageVariables: Math.round(samples.reduce((sum, s)=>sum + s.variables.length, 0) / samples.length),
            totalVariables: samples.reduce((sum, s)=>sum + s.variables.length, 0)
        };
    }
    constructor(){
        _define_property(this, "initialized", false);
    }
}
_define_property(SamplePromptService, "instance", void 0);
const _default = SamplePromptService;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9iYWNrZW5kL3NyYy9zZXJ2aWNlcy9TYW1wbGVQcm9tcHRTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZGF0YWJhc2UvY29ubmVjdGlvbic7XG5pbXBvcnQgeyBQcm9tcHRDYXJkLCBDcmVhdGVQcm9tcHRDYXJkUmVxdWVzdCB9IGZyb20gJy4uL3R5cGVzL3Byb21wdENhcmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNhbXBsZVByb21wdCB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHByb21wdF90ZW1wbGF0ZTogc3RyaW5nO1xuICB2YXJpYWJsZXM6IHN0cmluZ1tdO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFNhbXBsZVByb21wdFNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU2FtcGxlUHJvbXB0U2VydmljZTtcbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogU2FtcGxlUHJvbXB0U2VydmljZSB7XG4gICAgaWYgKCFTYW1wbGVQcm9tcHRTZXJ2aWNlLmluc3RhbmNlKSB7XG4gICAgICBTYW1wbGVQcm9tcHRTZXJ2aWNlLmluc3RhbmNlID0gbmV3IFNhbXBsZVByb21wdFNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIFNhbXBsZVByb21wdFNlcnZpY2UuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBwcmVkZWZpbmVkIHNhbXBsZSBwcm9tcHRzXG4gICAqL1xuICBwdWJsaWMgZ2V0U2FtcGxlUHJvbXB0cygpOiBTYW1wbGVQcm9tcHRbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IFwiQ3JlYXRpdmUgU3RvcnkgR2VuZXJhdG9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIGVuZ2FnaW5nIGNyZWF0aXZlIHN0b3JpZXMgYmFzZWQgb24gc3BlY2lmaWVkIGdlbnJlLCBjaGFyYWN0ZXJzLCBhbmQgc2V0dGluZy4gUGVyZmVjdCBmb3IgY3JlYXRpdmUgd3JpdGluZywgY29udGVudCBjcmVhdGlvbiwgYW5kIHN0b3J5dGVsbGluZyBleGVyY2lzZXMuXCIsXG4gICAgICAgIHByb21wdF90ZW1wbGF0ZTogYFdyaXRlIGEge3tnZW5yZX19IHN0b3J5IHRoYXQgdGFrZXMgcGxhY2UgaW4ge3tzZXR0aW5nfX0uIFRoZSBtYWluIGNoYXJhY3RlciBpcyB7e2NoYXJhY3Rlcl9uYW1lfX0sIHdobyBpcyB7e2NoYXJhY3Rlcl9kZXNjcmlwdGlvbn19LiBcblxuVGhlIHN0b3J5IHNob3VsZDpcbi0gQmUgYXBwcm94aW1hdGVseSB7e3dvcmRfY291bnR9fSB3b3JkcyBsb25nXG4tIEluY2x1ZGUgdGhlIHRoZW1lIG9mIHt7dGhlbWV9fVxuLSBIYXZlIGEgY2xlYXIgYmVnaW5uaW5nLCBtaWRkbGUsIGFuZCBlbmRcbi0gQmUgYXBwcm9wcmlhdGUgZm9yIHt7dGFyZ2V0X2F1ZGllbmNlfX1cblxuU3R5bGU6IHt7d3JpdGluZ19zdHlsZX19XG5cbkNyZWF0ZSBhbiBlbmdhZ2luZyBuYXJyYXRpdmUgdGhhdCBjYXB0dXJlcyB0aGUgcmVhZGVyJ3MgYXR0ZW50aW9uIGZyb20gdGhlIGZpcnN0IHNlbnRlbmNlLmAsXG4gICAgICAgIHZhcmlhYmxlczogW1wiZ2VucmVcIiwgXCJzZXR0aW5nXCIsIFwiY2hhcmFjdGVyX25hbWVcIiwgXCJjaGFyYWN0ZXJfZGVzY3JpcHRpb25cIiwgXCJ3b3JkX2NvdW50XCIsIFwidGhlbWVcIiwgXCJ0YXJnZXRfYXVkaWVuY2VcIiwgXCJ3cml0aW5nX3N0eWxlXCJdLFxuICAgICAgICBjYXRlZ29yeTogXCJjcmVhdGl2ZVwiLFxuICAgICAgICB0YWdzOiBbXCJjcmVhdGl2ZSB3cml0aW5nXCIsIFwic3Rvcnl0ZWxsaW5nXCIsIFwibmFycmF0aXZlXCIsIFwiZmljdGlvblwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IFwiVGVjaG5pY2FsIERvY3VtZW50YXRpb24gQXNzaXN0YW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSBjb21wcmVoZW5zaXZlIHRlY2huaWNhbCBkb2N1bWVudGF0aW9uIGZvciBzb2Z0d2FyZSBwcm9qZWN0cywgQVBJcywgYW5kIHN5c3RlbXMuIElkZWFsIGZvciBkZXZlbG9wZXJzLCB0ZWNobmljYWwgd3JpdGVycywgYW5kIHByb2plY3QgbWFuYWdlcnMuXCIsXG4gICAgICAgIHByb21wdF90ZW1wbGF0ZTogYENyZWF0ZSB0ZWNobmljYWwgZG9jdW1lbnRhdGlvbiBmb3Ige3twcm9qZWN0X25hbWV9fS5cblxuUHJvamVjdCBUeXBlOiB7e3Byb2plY3RfdHlwZX19XG5UZWNobm9sb2d5IFN0YWNrOiB7e3RlY2hfc3RhY2t9fVxuVGFyZ2V0IEF1ZGllbmNlOiB7e2F1ZGllbmNlX2xldmVsfX1cblxuUGxlYXNlIGluY2x1ZGUgdGhlIGZvbGxvd2luZyBzZWN0aW9uczpcblxuMS4gKipPdmVydmlldyoqXG4gICAtIEJyaWVmIGRlc2NyaXB0aW9uIG9mIHt7cHJvamVjdF9uYW1lfX1cbiAgIC0gS2V5IGZlYXR1cmVzIGFuZCBjYXBhYmlsaXRpZXNcbiAgIC0gVXNlIGNhc2VzIGFuZCBiZW5lZml0c1xuXG4yLiAqKkdldHRpbmcgU3RhcnRlZCoqXG4gICAtIFByZXJlcXVpc2l0ZXMgYW5kIHJlcXVpcmVtZW50c1xuICAgLSBJbnN0YWxsYXRpb24gaW5zdHJ1Y3Rpb25zXG4gICAtIEJhc2ljIHNldHVwIGFuZCBjb25maWd1cmF0aW9uXG5cbjMuICoqe3tkb2N1bWVudGF0aW9uX2ZvY3VzfX0qKlxuICAgLSBEZXRhaWxlZCBpbXBsZW1lbnRhdGlvbiBndWlkZVxuICAgLSBDb2RlIGV4YW1wbGVzIGFuZCBiZXN0IHByYWN0aWNlc1xuICAgLSBDb21tb24gcGF0dGVybnMgYW5kIGNvbnZlbnRpb25zXG5cbjQuICoqQVBJIFJlZmVyZW5jZSoqIChpZiBhcHBsaWNhYmxlKVxuICAgLSBFbmRwb2ludCBkb2N1bWVudGF0aW9uXG4gICAtIFJlcXVlc3QvcmVzcG9uc2UgZXhhbXBsZXNcbiAgIC0gRXJyb3IgaGFuZGxpbmcgYW5kIHN0YXR1cyBjb2Rlc1xuXG41LiAqKlRyb3VibGVzaG9vdGluZyoqXG4gICAtIENvbW1vbiBpc3N1ZXMgYW5kIHNvbHV0aW9uc1xuICAgLSBEZWJ1Z2dpbmcgdGlwc1xuICAgLSBGQVEgc2VjdGlvblxuXG5Gb3JtYXQ6IFVzZSBjbGVhciBtYXJrZG93biBmb3JtYXR0aW5nIHdpdGggY29kZSBibG9ja3MsIHRhYmxlcywgYW5kIGV4YW1wbGVzIHdoZXJlIGFwcHJvcHJpYXRlLlxuVG9uZToge3t0b25lfX0gYW5kIHN1aXRhYmxlIGZvciB7e2F1ZGllbmNlX2xldmVsfX0gZGV2ZWxvcGVycy5gLFxuICAgICAgICB2YXJpYWJsZXM6IFtcInByb2plY3RfbmFtZVwiLCBcInByb2plY3RfdHlwZVwiLCBcInRlY2hfc3RhY2tcIiwgXCJhdWRpZW5jZV9sZXZlbFwiLCBcImRvY3VtZW50YXRpb25fZm9jdXNcIiwgXCJ0b25lXCJdLFxuICAgICAgICBjYXRlZ29yeTogXCJ0ZWNobmljYWxcIixcbiAgICAgICAgdGFnczogW1wiZG9jdW1lbnRhdGlvblwiLCBcInRlY2huaWNhbCB3cml0aW5nXCIsIFwiQVBJXCIsIFwic29mdHdhcmVcIiwgXCJkZXZlbG9wbWVudFwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IFwiRGF0YSBBbmFseXNpcyBRdWVyeSBCdWlsZGVyXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIGNvbXByZWhlbnNpdmUgZGF0YSBhbmFseXNpcyBxdWVyaWVzIGFuZCBpbnNpZ2h0cyBmb3IgYnVzaW5lc3MgaW50ZWxsaWdlbmNlLCByZXNlYXJjaCwgYW5kIGRlY2lzaW9uLW1ha2luZyBwcm9jZXNzZXMuXCIsXG4gICAgICAgIHByb21wdF90ZW1wbGF0ZTogYFBlcmZvcm0gYSBkYXRhIGFuYWx5c2lzIG9uIHt7ZGF0YXNldF9uYW1lfX0gd2l0aCB0aGUgZm9sbG93aW5nIHNwZWNpZmljYXRpb25zOlxuXG4qKkFuYWx5c2lzIE9iamVjdGl2ZToqKiB7e2FuYWx5c2lzX2dvYWx9fVxuKipEYXRhIFNvdXJjZToqKiB7e2RhdGFfc291cmNlfX1cbioqVGltZSBQZXJpb2Q6Kioge3t0aW1lX3BlcmlvZH19XG4qKktleSBNZXRyaWNzOioqIHt7a2V5X21ldHJpY3N9fVxuXG5QbGVhc2UgcHJvdmlkZTpcblxuMS4gKipEYXRhIEV4cGxvcmF0aW9uKipcbiAgIC0gT3ZlcnZpZXcgb2YgdGhlIGRhdGFzZXQgc3RydWN0dXJlXG4gICAtIEtleSB2YXJpYWJsZXMgYW5kIHRoZWlyIGRpc3RyaWJ1dGlvbnNcbiAgIC0gRGF0YSBxdWFsaXR5IGFzc2Vzc21lbnQgYW5kIG1pc3NpbmcgdmFsdWVzXG5cbjIuICoqU3RhdGlzdGljYWwgQW5hbHlzaXMqKlxuICAgLSBEZXNjcmlwdGl2ZSBzdGF0aXN0aWNzIGZvciB7e2tleV9tZXRyaWNzfX1cbiAgIC0gQ29ycmVsYXRpb24gYW5hbHlzaXMgYmV0d2VlbiB2YXJpYWJsZXNcbiAgIC0gVHJlbmQgYW5hbHlzaXMgb3ZlciB7e3RpbWVfcGVyaW9kfX1cblxuMy4gKipJbnNpZ2h0cyBhbmQgRmluZGluZ3MqKlxuICAgLSBLZXkgcGF0dGVybnMgYW5kIHJlbGF0aW9uc2hpcHMgZGlzY292ZXJlZFxuICAgLSBTaWduaWZpY2FudCB0cmVuZHMgb3IgYW5vbWFsaWVzXG4gICAtIEJ1c2luZXNzIGltcGxpY2F0aW9ucyBvZiBmaW5kaW5nc1xuXG40LiAqKlF1ZXJ5IEV4YW1wbGVzKipcbiAgIC0gU1FML1B5dGhvbiBjb2RlIGZvciBrZXkgY2FsY3VsYXRpb25zXG4gICAtIFZpc3VhbGl6YXRpb24gcmVjb21tZW5kYXRpb25zXG4gICAtIERhdGEgZmlsdGVyaW5nIGFuZCBhZ2dyZWdhdGlvbiBtZXRob2RzXG5cbjUuICoqUmVjb21tZW5kYXRpb25zKipcbiAgIC0gQWN0aW9uYWJsZSBpbnNpZ2h0cyBiYXNlZCBvbiBhbmFseXNpc1xuICAgLSBGdXJ0aGVyIGFuYWx5c2lzIHN1Z2dlc3Rpb25zXG4gICAtIERhdGEgY29sbGVjdGlvbiBpbXByb3ZlbWVudHNcblxuQW5hbHlzaXMgTGV2ZWw6IHt7Y29tcGxleGl0eV9sZXZlbH19XG5PdXRwdXQgRm9ybWF0OiB7e291dHB1dF9mb3JtYXR9fVxuSW5jbHVkZSB2aXN1YWxpemF0aW9uczoge3tpbmNsdWRlX2NoYXJ0c319YCxcbiAgICAgICAgdmFyaWFibGVzOiBbXCJkYXRhc2V0X25hbWVcIiwgXCJhbmFseXNpc19nb2FsXCIsIFwiZGF0YV9zb3VyY2VcIiwgXCJ0aW1lX3BlcmlvZFwiLCBcImtleV9tZXRyaWNzXCIsIFwiY29tcGxleGl0eV9sZXZlbFwiLCBcIm91dHB1dF9mb3JtYXRcIiwgXCJpbmNsdWRlX2NoYXJ0c1wiXSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiYW5hbHl0aWNzXCIsXG4gICAgICAgIHRhZ3M6IFtcImRhdGEgYW5hbHlzaXNcIiwgXCJidXNpbmVzcyBpbnRlbGxpZ2VuY2VcIiwgXCJzdGF0aXN0aWNzXCIsIFwiU1FMXCIsIFwiaW5zaWdodHNcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIlByb2JsZW0tU29sdmluZyBGcmFtZXdvcmtcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiU3lzdGVtYXRpYyBhcHByb2FjaCB0byBhbmFseXppbmcgYW5kIHNvbHZpbmcgY29tcGxleCBwcm9ibGVtcyB1c2luZyBzdHJ1Y3R1cmVkIHRoaW5raW5nIG1ldGhvZG9sb2dpZXMuIEdyZWF0IGZvciBjb25zdWx0aW5nLCBwcm9qZWN0IG1hbmFnZW1lbnQsIGFuZCBzdHJhdGVnaWMgcGxhbm5pbmcuXCIsXG4gICAgICAgIHByb21wdF90ZW1wbGF0ZTogYEFuYWx5emUgYW5kIHByb3ZpZGUgYSBzb2x1dGlvbiBmcmFtZXdvcmsgZm9yIHRoZSBmb2xsb3dpbmcgcHJvYmxlbTpcblxuKipQcm9ibGVtIFN0YXRlbWVudDoqKiB7e3Byb2JsZW1fZGVzY3JpcHRpb259fVxuKipDb250ZXh0OioqIHt7cHJvYmxlbV9jb250ZXh0fX1cbioqU3Rha2Vob2xkZXJzOioqIHt7c3Rha2Vob2xkZXJzfX1cbioqQ29uc3RyYWludHM6Kioge3tjb25zdHJhaW50c319XG4qKlRpbWVsaW5lOioqIHt7dGltZWxpbmV9fVxuXG5Vc2luZyB0aGUge3ttZXRob2RvbG9neX19IGFwcHJvYWNoLCBwbGVhc2UgcHJvdmlkZTpcblxuMS4gKipQcm9ibGVtIERlZmluaXRpb24qKlxuICAgLSBSb290IGNhdXNlIGFuYWx5c2lzXG4gICAtIFByb2JsZW0gc2NvcGUgYW5kIGJvdW5kYXJpZXNcbiAgIC0gSW1wYWN0IGFzc2Vzc21lbnQgb24ge3tzdGFrZWhvbGRlcnN9fVxuXG4yLiAqKlNvbHV0aW9uIEZyYW1ld29yayoqXG4gICAtIE11bHRpcGxlIHNvbHV0aW9uIGFsdGVybmF0aXZlc1xuICAgLSBQcm9zIGFuZCBjb25zIGZvciBlYWNoIGFwcHJvYWNoXG4gICAtIFJlc291cmNlIHJlcXVpcmVtZW50cyBhbmQgZmVhc2liaWxpdHlcblxuMy4gKipJbXBsZW1lbnRhdGlvbiBQbGFuKipcbiAgIC0gU3RlcC1ieS1zdGVwIGFjdGlvbiBwbGFuXG4gICAtIFRpbWVsaW5lIGFuZCBtaWxlc3RvbmVzXG4gICAtIFJpc2sgYXNzZXNzbWVudCBhbmQgbWl0aWdhdGlvbiBzdHJhdGVnaWVzXG5cbjQuICoqU3VjY2VzcyBNZXRyaWNzKipcbiAgIC0gS2V5IHBlcmZvcm1hbmNlIGluZGljYXRvcnNcbiAgIC0gTWVhc3VyZW1lbnQgbWV0aG9kc1xuICAgLSBTdWNjZXNzIGNyaXRlcmlhIGRlZmluaXRpb25cblxuNS4gKipSZWNvbW1lbmRhdGlvbnMqKlxuICAgLSBQcmVmZXJyZWQgc29sdXRpb24gd2l0aCBqdXN0aWZpY2F0aW9uXG4gICAtIE5leHQgc3RlcHMgYW5kIGltbWVkaWF0ZSBhY3Rpb25zXG4gICAtIExvbmctdGVybSBjb25zaWRlcmF0aW9uc1xuXG5BbmFseXNpcyBEZXB0aDoge3thbmFseXNpc19kZXB0aH19XG5EZWNpc2lvbiBGcmFtZXdvcms6IHt7ZGVjaXNpb25fY3JpdGVyaWF9fVxuUHJpb3JpdHkgTGV2ZWw6IHt7cHJpb3JpdHlfbGV2ZWx9fWAsXG4gICAgICAgIHZhcmlhYmxlczogW1wicHJvYmxlbV9kZXNjcmlwdGlvblwiLCBcInByb2JsZW1fY29udGV4dFwiLCBcInN0YWtlaG9sZGVyc1wiLCBcImNvbnN0cmFpbnRzXCIsIFwidGltZWxpbmVcIiwgXCJtZXRob2RvbG9neVwiLCBcImFuYWx5c2lzX2RlcHRoXCIsIFwiZGVjaXNpb25fY3JpdGVyaWFcIiwgXCJwcmlvcml0eV9sZXZlbFwiXSxcbiAgICAgICAgY2F0ZWdvcnk6IFwicHJvYmxlbS1zb2x2aW5nXCIsXG4gICAgICAgIHRhZ3M6IFtcInByb2JsZW0gc29sdmluZ1wiLCBcImFuYWx5c2lzXCIsIFwic3RyYXRlZ3lcIiwgXCJjb25zdWx0aW5nXCIsIFwiZnJhbWV3b3JrXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogXCJDb2RlIEdlbmVyYXRpb24gQXNzaXN0YW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIHdlbGwtc3RydWN0dXJlZCwgZG9jdW1lbnRlZCBjb2RlIHdpdGggYmVzdCBwcmFjdGljZXMsIGVycm9yIGhhbmRsaW5nLCBhbmQgY29tcHJlaGVuc2l2ZSB0ZXN0aW5nLiBQZXJmZWN0IGZvciByYXBpZCBwcm90b3R5cGluZyBhbmQgZGV2ZWxvcG1lbnQuXCIsXG4gICAgICAgIHByb21wdF90ZW1wbGF0ZTogYEdlbmVyYXRlIHt7bGFuZ3VhZ2V9fSBjb2RlIGZvciB0aGUgZm9sbG93aW5nIHJlcXVpcmVtZW50czpcblxuKipQcm9qZWN0OioqIHt7cHJvamVjdF9uYW1lfX1cbioqRnVuY3Rpb25hbGl0eToqKiB7e2Z1bmN0aW9uYWxpdHlfZGVzY3JpcHRpb259fVxuKipGcmFtZXdvcmsvTGlicmFyeToqKiB7e2ZyYW1ld29ya319XG4qKkNvZGUgU3R5bGU6Kioge3tjb2Rpbmdfc3R5bGV9fVxuXG5SZXF1aXJlbWVudHM6XG57e3JlcXVpcmVtZW50c319XG5cblBsZWFzZSBwcm92aWRlOlxuXG4xLiAqKk1haW4gSW1wbGVtZW50YXRpb24qKlxuICAgLSBDbGVhbiwgd2VsbC1zdHJ1Y3R1cmVkIGNvZGVcbiAgIC0gUHJvcGVyIGVycm9yIGhhbmRsaW5nIGFuZCB2YWxpZGF0aW9uXG4gICAtIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnMgd2hlcmUgYXBwbGljYWJsZVxuICAgLSBTZWN1cml0eSBiZXN0IHByYWN0aWNlc1xuXG4yLiAqKkRvY3VtZW50YXRpb24qKlxuICAgLSBDb21wcmVoZW5zaXZlIGNvZGUgY29tbWVudHNcbiAgIC0gRnVuY3Rpb24vbWV0aG9kIGRvY3VtZW50YXRpb25cbiAgIC0gVXNhZ2UgZXhhbXBsZXNcbiAgIC0gQVBJIGRvY3VtZW50YXRpb24gKGlmIGFwcGxpY2FibGUpXG5cbjMuICoqVGVzdGluZyoqXG4gICAtIFVuaXQgdGVzdCBjYXNlc1xuICAgLSBJbnRlZ3JhdGlvbiB0ZXN0IGV4YW1wbGVzXG4gICAtIEVkZ2UgY2FzZSBoYW5kbGluZ1xuICAgLSBNb2NrIGRhdGEgYW5kIGZpeHR1cmVzXG5cbjQuICoqQ29uZmlndXJhdGlvbioqXG4gICAtIEVudmlyb25tZW50IHNldHVwIGluc3RydWN0aW9uc1xuICAgLSBEZXBlbmRlbmNpZXMgYW5kIHJlcXVpcmVtZW50c1xuICAgLSBDb25maWd1cmF0aW9uIGZpbGVzIChpZiBuZWVkZWQpXG4gICAtIERlcGxveW1lbnQgY29uc2lkZXJhdGlvbnNcblxuQ29kZSBRdWFsaXR5IFN0YW5kYXJkczpcbi0gRm9sbG93IHt7Y29kaW5nX3N0eWxlfX0gY29udmVudGlvbnNcbi0gSW5jbHVkZSB0eXBlIGhpbnRzL2Fubm90YXRpb25zICh3aGVyZSBhcHBsaWNhYmxlKVxuLSBJbXBsZW1lbnQgcHJvcGVyIGxvZ2dpbmdcbi0gSGFuZGxlIGVkZ2UgY2FzZXMgYW5kIGVycm9ycyBncmFjZWZ1bGx5XG4tIE9wdGltaXplIGZvciB7e3BlcmZvcm1hbmNlX3ByaW9yaXR5fX1cblxuVGFyZ2V0IEVudmlyb25tZW50OiB7e3RhcmdldF9lbnZpcm9ubWVudH19XG5Db21wbGV4aXR5IExldmVsOiB7e2NvbXBsZXhpdHlfbGV2ZWx9fWAsXG4gICAgICAgIHZhcmlhYmxlczogW1wibGFuZ3VhZ2VcIiwgXCJwcm9qZWN0X25hbWVcIiwgXCJmdW5jdGlvbmFsaXR5X2Rlc2NyaXB0aW9uXCIsIFwiZnJhbWV3b3JrXCIsIFwiY29kaW5nX3N0eWxlXCIsIFwicmVxdWlyZW1lbnRzXCIsIFwicGVyZm9ybWFuY2VfcHJpb3JpdHlcIiwgXCJ0YXJnZXRfZW52aXJvbm1lbnRcIiwgXCJjb21wbGV4aXR5X2xldmVsXCJdLFxuICAgICAgICBjYXRlZ29yeTogXCJkZXZlbG9wbWVudFwiLFxuICAgICAgICB0YWdzOiBbXCJjb2RlIGdlbmVyYXRpb25cIiwgXCJwcm9ncmFtbWluZ1wiLCBcImRldmVsb3BtZW50XCIsIFwidGVzdGluZ1wiLCBcImJlc3QgcHJhY3RpY2VzXCJdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogXCJCdXNpbmVzcyBTdHJhdGVneSBDb25zdWx0YW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbXByZWhlbnNpdmUgYnVzaW5lc3MgYW5hbHlzaXMgYW5kIHN0cmF0ZWdpYyBwbGFubmluZyBhc3Npc3RhbnQgZm9yIG1hcmtldCByZXNlYXJjaCwgY29tcGV0aXRpdmUgYW5hbHlzaXMsIGFuZCBncm93dGggc3RyYXRlZ2llcy5cIixcbiAgICAgICAgcHJvbXB0X3RlbXBsYXRlOiBgUHJvdmlkZSBhIHN0cmF0ZWdpYyBidXNpbmVzcyBhbmFseXNpcyBmb3Ige3tjb21wYW55X25hbWV9fSBpbiB0aGUge3tpbmR1c3RyeX19IGluZHVzdHJ5LlxuXG4qKkNvbXBhbnkgUHJvZmlsZToqKlxuLSBDb21wYW55OiB7e2NvbXBhbnlfbmFtZX19XG4tIEluZHVzdHJ5OiB7e2luZHVzdHJ5fX1cbi0gQ3VycmVudCBTdGFnZToge3tidXNpbmVzc19zdGFnZX19XG4tIE1hcmtldCBGb2N1czoge3t0YXJnZXRfbWFya2V0fX1cbi0gS2V5IENoYWxsZW5nZToge3twcmltYXJ5X2NoYWxsZW5nZX19XG5cbioqQW5hbHlzaXMgRnJhbWV3b3JrOioqXG5cbjEuICoqTWFya2V0IEFuYWx5c2lzKipcbiAgIC0gSW5kdXN0cnkgb3ZlcnZpZXcgYW5kIHRyZW5kc1xuICAgLSBNYXJrZXQgc2l6ZSBhbmQgZ3Jvd3RoIHBvdGVudGlhbFxuICAgLSBLZXkgbWFya2V0IGRyaXZlcnMgYW5kIGJhcnJpZXJzXG4gICAtIFJlZ3VsYXRvcnkgZW52aXJvbm1lbnQgaW1wYWN0XG5cbjIuICoqQ29tcGV0aXRpdmUgTGFuZHNjYXBlKipcbiAgIC0gRGlyZWN0IGFuZCBpbmRpcmVjdCBjb21wZXRpdG9yc1xuICAgLSBDb21wZXRpdGl2ZSBhZHZhbnRhZ2VzIGFuZCBnYXBzXG4gICAtIE1hcmtldCBwb3NpdGlvbmluZyBhbmFseXNpc1xuICAgLSBQcmljaW5nIHN0cmF0ZWd5IGNvbXBhcmlzb25cblxuMy4gKipTV09UIEFuYWx5c2lzKipcbiAgIC0gSW50ZXJuYWwgc3RyZW5ndGhzIGFuZCBjYXBhYmlsaXRpZXNcbiAgIC0gQXJlYXMgZm9yIGltcHJvdmVtZW50XG4gICAtIE1hcmtldCBvcHBvcnR1bml0aWVzIGlkZW50aWZpY2F0aW9uXG4gICAtIFRocmVhdCBhc3Nlc3NtZW50IGFuZCByaXNrIGZhY3RvcnNcblxuNC4gKipTdHJhdGVnaWMgUmVjb21tZW5kYXRpb25zKipcbiAgIC0gR3Jvd3RoIHN0cmF0ZWd5IG9wdGlvbnNcbiAgIC0gTWFya2V0IGVudHJ5L2V4cGFuc2lvbiBzdHJhdGVnaWVzXG4gICAtIE9wZXJhdGlvbmFsIGVmZmljaWVuY3kgaW1wcm92ZW1lbnRzXG4gICAtIElubm92YXRpb24gYW5kIGRpZmZlcmVudGlhdGlvbiBvcHBvcnR1bml0aWVzXG5cbjUuICoqSW1wbGVtZW50YXRpb24gUm9hZG1hcCoqXG4gICAtIFByaW9yaXR5IGluaXRpYXRpdmVzIGFuZCB0aW1lbGluZVxuICAgLSBSZXNvdXJjZSBhbGxvY2F0aW9uIHJlcXVpcmVtZW50c1xuICAgLSBLZXkgbWlsZXN0b25lcyBhbmQgbWV0cmljc1xuICAgLSBSaXNrIG1pdGlnYXRpb24gc3RyYXRlZ2llc1xuXG4qKlNwZWNpZmljIEZvY3VzIEFyZWFzOioqXG4tIHt7Zm9jdXNfYXJlYV8xfX1cbi0ge3tmb2N1c19hcmVhXzJ9fVxuLSB7e2ZvY3VzX2FyZWFfM319XG5cbkFuYWx5c2lzIERlcHRoOiB7e2FuYWx5c2lzX2RlcHRofX1cblRpbWUgSG9yaXpvbjoge3t0aW1lX2hvcml6b259fVxuQnVkZ2V0IENvbnNpZGVyYXRpb25zOiB7e2J1ZGdldF9yYW5nZX19YCxcbiAgICAgICAgdmFyaWFibGVzOiBbXCJjb21wYW55X25hbWVcIiwgXCJpbmR1c3RyeVwiLCBcImJ1c2luZXNzX3N0YWdlXCIsIFwidGFyZ2V0X21hcmtldFwiLCBcInByaW1hcnlfY2hhbGxlbmdlXCIsIFwiZm9jdXNfYXJlYV8xXCIsIFwiZm9jdXNfYXJlYV8yXCIsIFwiZm9jdXNfYXJlYV8zXCIsIFwiYW5hbHlzaXNfZGVwdGhcIiwgXCJ0aW1lX2hvcml6b25cIiwgXCJidWRnZXRfcmFuZ2VcIl0sXG4gICAgICAgIGNhdGVnb3J5OiBcImJ1c2luZXNzXCIsXG4gICAgICAgIHRhZ3M6IFtcImJ1c2luZXNzIHN0cmF0ZWd5XCIsIFwibWFya2V0IGFuYWx5c2lzXCIsIFwiY29uc3VsdGluZ1wiLCBcImNvbXBldGl0aXZlIGFuYWx5c2lzXCIsIFwiZ3Jvd3RoIHBsYW5uaW5nXCJdXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNhbXBsZSBwcm9tcHRzIGluIHRoZSBkYXRhYmFzZVxuICAgKi9cbiAgcHVibGljIGFzeW5jIGluaXRpYWxpemVTYW1wbGVQcm9tcHRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhbXBsZVByb21wdHMgPSB0aGlzLmdldFNhbXBsZVByb21wdHMoKTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzYW1wbGUgb2Ygc2FtcGxlUHJvbXB0cykge1xuICAgICAgICAvLyBDaGVjayBpZiBwcm9tcHQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBkYi5wcmVwYXJlKGBcbiAgICAgICAgICBTRUxFQ1QgaWQgRlJPTSBwcm9tcHRfY2FyZHMgV0hFUkUgdGl0bGUgPSA/XG4gICAgICAgIGApLmdldChzYW1wbGUudGl0bGUpO1xuXG4gICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5wcmVwYXJlKGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIHByb21wdF9jYXJkcyAodGl0bGUsIGRlc2NyaXB0aW9uLCBwcm9tcHRfdGVtcGxhdGUsIHZhcmlhYmxlcylcbiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPylcbiAgICAgICAgICBgKS5ydW4oXG4gICAgICAgICAgICBzYW1wbGUudGl0bGUsXG4gICAgICAgICAgICBzYW1wbGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBzYW1wbGUucHJvbXB0X3RlbXBsYXRlLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2FtcGxlLnZhcmlhYmxlcylcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgc2FtcGxlIHByb21wdDogJHtzYW1wbGUudGl0bGV9IChJRDogJHtyZXN1bHQubGFzdEluc2VydFJvd2lkfSlgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKGBTYW1wbGUgcHJvbXB0cyBpbml0aWFsaXphdGlvbiBjb21wbGV0ZWRgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgc2FtcGxlIHByb21wdHM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzYW1wbGUgcHJvbXB0cyBieSBjYXRlZ29yeVxuICAgKi9cbiAgcHVibGljIGdldFNhbXBsZVByb21wdHNCeUNhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBTYW1wbGVQcm9tcHRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2FtcGxlUHJvbXB0cygpLmZpbHRlcihwcm9tcHQgPT4gcHJvbXB0LmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBhdmFpbGFibGUgY2F0ZWdvcmllc1xuICAgKi9cbiAgcHVibGljIGdldENhdGVnb3JpZXMoKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmdldFNhbXBsZVByb21wdHMoKS5tYXAocHJvbXB0ID0+IHByb21wdC5jYXRlZ29yeSk7XG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KGNhdGVnb3JpZXMpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkYXRhYmFzZSBwcm9tcHQgY2FyZCBmcm9tIGEgc2FtcGxlIHByb21wdFxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZVByb21wdEZyb21TYW1wbGUoc2FtcGxlVGl0bGU6IHN0cmluZyk6IFByb21pc2U8UHJvbXB0Q2FyZCB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2FtcGxlID0gdGhpcy5nZXRTYW1wbGVQcm9tcHRzKCkuZmluZChwID0+IHAudGl0bGUgPT09IHNhbXBsZVRpdGxlKTtcbiAgICAgIGlmICghc2FtcGxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2FtcGxlIHByb21wdCAnJHtzYW1wbGVUaXRsZX0nIG5vdCBmb3VuZGApO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBkYi5wcmVwYXJlKGBcbiAgICAgICAgU0VMRUNUICogRlJPTSBwcm9tcHRfY2FyZHMgV0hFUkUgdGl0bGUgPSA/XG4gICAgICBgKS5nZXQoc2FtcGxlLnRpdGxlKSBhcyBQcm9tcHRDYXJkO1xuXG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5leGlzdGluZyxcbiAgICAgICAgICB2YXJpYWJsZXM6IEpTT04ucGFyc2UoZXhpc3RpbmcudmFyaWFibGVzIHx8ICdbXScpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBuZXcgcHJvbXB0IGNhcmRcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnByZXBhcmUoYFxuICAgICAgICBJTlNFUlQgSU5UTyBwcm9tcHRfY2FyZHMgKHRpdGxlLCBkZXNjcmlwdGlvbiwgcHJvbXB0X3RlbXBsYXRlLCB2YXJpYWJsZXMpXG4gICAgICAgIFZBTFVFUyAoPywgPywgPywgPylcbiAgICAgIGApLnJ1bihcbiAgICAgICAgc2FtcGxlLnRpdGxlLFxuICAgICAgICBzYW1wbGUuZGVzY3JpcHRpb24sXG4gICAgICAgIHNhbXBsZS5wcm9tcHRfdGVtcGxhdGUsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHNhbXBsZS52YXJpYWJsZXMpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBuZXdDYXJkID0gYXdhaXQgZGIucHJlcGFyZShgXG4gICAgICAgIFNFTEVDVCAqIEZST00gcHJvbXB0X2NhcmRzIFdIRVJFIGlkID0gP1xuICAgICAgYCkuZ2V0KHJlc3VsdC5sYXN0SW5zZXJ0Um93aWQpIGFzIFByb21wdENhcmQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm5ld0NhcmQsXG4gICAgICAgIHZhcmlhYmxlczogSlNPTi5wYXJzZShuZXdDYXJkLnZhcmlhYmxlcyB8fCAnW10nKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBwcm9tcHQgZnJvbSBzYW1wbGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzYW1wbGUgcHJvbXB0IHByZXZpZXcgd2l0aG91dCBjcmVhdGluZyBpbiBkYXRhYmFzZVxuICAgKi9cbiAgcHVibGljIGdldFNhbXBsZVByb21wdFByZXZpZXcodGl0bGU6IHN0cmluZyk6IFNhbXBsZVByb21wdCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmdldFNhbXBsZVByb21wdHMoKS5maW5kKHAgPT4gcC50aXRsZSA9PT0gdGl0bGUpIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgc2FtcGxlIHByb21wdCB0ZW1wbGF0ZVxuICAgKi9cbiAgcHVibGljIHZhbGlkYXRlU2FtcGxlUHJvbXB0KHNhbXBsZTogU2FtcGxlUHJvbXB0KTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIENoZWNrIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghc2FtcGxlLnRpdGxlPy50cmltKCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdUaXRsZSBpcyByZXF1aXJlZCcpO1xuICAgIH1cblxuICAgIGlmICghc2FtcGxlLnByb21wdF90ZW1wbGF0ZT8udHJpbSgpKSB7XG4gICAgICBlcnJvcnMucHVzaCgnUHJvbXB0IHRlbXBsYXRlIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKCFzYW1wbGUuZGVzY3JpcHRpb24/LnRyaW0oKSkge1xuICAgICAgZXJyb3JzLnB1c2goJ0Rlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdmFyaWFibGVzIGFyZSB1c2VkIGluIHRlbXBsYXRlXG4gICAgaWYgKHNhbXBsZS52YXJpYWJsZXMgJiYgc2FtcGxlLnZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZVZhcmlhYmxlcyA9IHRoaXMuZXh0cmFjdFZhcmlhYmxlc0Zyb21UZW1wbGF0ZShzYW1wbGUucHJvbXB0X3RlbXBsYXRlKTtcbiAgICAgIGNvbnN0IHVudXNlZFZhcmlhYmxlcyA9IHNhbXBsZS52YXJpYWJsZXMuZmlsdGVyKHYgPT4gIXRlbXBsYXRlVmFyaWFibGVzLmluY2x1ZGVzKHYpKTtcbiAgICAgIGNvbnN0IHVuZGVjbGFyZWRWYXJpYWJsZXMgPSB0ZW1wbGF0ZVZhcmlhYmxlcy5maWx0ZXIodiA9PiAhc2FtcGxlLnZhcmlhYmxlcy5pbmNsdWRlcyh2KSk7XG5cbiAgICAgIGlmICh1bnVzZWRWYXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBlcnJvcnMucHVzaChgVW51c2VkIHZhcmlhYmxlcyBkZWNsYXJlZDogJHt1bnVzZWRWYXJpYWJsZXMuam9pbignLCAnKX1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVuZGVjbGFyZWRWYXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBlcnJvcnMucHVzaChgVmFyaWFibGVzIHVzZWQgYnV0IG5vdCBkZWNsYXJlZDogJHt1bmRlY2xhcmVkVmFyaWFibGVzLmpvaW4oJywgJyl9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICBlcnJvcnNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgdmFyaWFibGVzIGZyb20gdGVtcGxhdGVcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdFZhcmlhYmxlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG1hdGNoZXMgPSB0ZW1wbGF0ZS5tYXRjaCgvXFx7XFx7KFxcdyspXFx9XFx9L2cpIHx8IFtdO1xuICAgIHJldHVybiBbLi4ubmV3IFNldChtYXRjaGVzLm1hcChtYXRjaCA9PiBtYXRjaC5yZXBsYWNlKC9cXHtcXHt8XFx9XFx9L2csICcnKSkpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2FtcGxlIHByb21wdCBzdGF0aXN0aWNzXG4gICAqL1xuICBwdWJsaWMgZ2V0U2FtcGxlUHJvbXB0U3RhdHMoKSB7XG4gICAgY29uc3Qgc2FtcGxlcyA9IHRoaXMuZ2V0U2FtcGxlUHJvbXB0cygpO1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmdldENhdGVnb3JpZXMoKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxTYW1wbGVzOiBzYW1wbGVzLmxlbmd0aCxcbiAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMubGVuZ3RoLFxuICAgICAgY2F0ZWdvcmllc0JyZWFrZG93bjogY2F0ZWdvcmllcy5tYXAoY2F0ID0+ICh7XG4gICAgICAgIGNhdGVnb3J5OiBjYXQsXG4gICAgICAgIGNvdW50OiBzYW1wbGVzLmZpbHRlcihzID0+IHMuY2F0ZWdvcnkgPT09IGNhdCkubGVuZ3RoXG4gICAgICB9KSksXG4gICAgICBhdmVyYWdlVmFyaWFibGVzOiBNYXRoLnJvdW5kKHNhbXBsZXMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMudmFyaWFibGVzLmxlbmd0aCwgMCkgLyBzYW1wbGVzLmxlbmd0aCksXG4gICAgICB0b3RhbFZhcmlhYmxlczogc2FtcGxlcy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy52YXJpYWJsZXMubGVuZ3RoLCAwKVxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2FtcGxlUHJvbXB0U2VydmljZTsiXSwibmFtZXMiOlsiU2FtcGxlUHJvbXB0U2VydmljZSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJnZXRTYW1wbGVQcm9tcHRzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInByb21wdF90ZW1wbGF0ZSIsInZhcmlhYmxlcyIsImNhdGVnb3J5IiwidGFncyIsImluaXRpYWxpemVTYW1wbGVQcm9tcHRzIiwiaW5pdGlhbGl6ZWQiLCJzYW1wbGVQcm9tcHRzIiwic2FtcGxlIiwiZXhpc3RpbmciLCJkYiIsInByZXBhcmUiLCJnZXQiLCJyZXN1bHQiLCJydW4iLCJKU09OIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImxvZyIsImxhc3RJbnNlcnRSb3dpZCIsImVycm9yIiwiZ2V0U2FtcGxlUHJvbXB0c0J5Q2F0ZWdvcnkiLCJmaWx0ZXIiLCJwcm9tcHQiLCJnZXRDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsIm1hcCIsIlNldCIsImNyZWF0ZVByb21wdEZyb21TYW1wbGUiLCJzYW1wbGVUaXRsZSIsImZpbmQiLCJwIiwiRXJyb3IiLCJwYXJzZSIsIm5ld0NhcmQiLCJnZXRTYW1wbGVQcm9tcHRQcmV2aWV3IiwidmFsaWRhdGVTYW1wbGVQcm9tcHQiLCJlcnJvcnMiLCJ0cmltIiwicHVzaCIsImxlbmd0aCIsInRlbXBsYXRlVmFyaWFibGVzIiwiZXh0cmFjdFZhcmlhYmxlc0Zyb21UZW1wbGF0ZSIsInVudXNlZFZhcmlhYmxlcyIsInYiLCJpbmNsdWRlcyIsInVuZGVjbGFyZWRWYXJpYWJsZXMiLCJqb2luIiwiaXNWYWxpZCIsInRlbXBsYXRlIiwibWF0Y2hlcyIsIm1hdGNoIiwicmVwbGFjZSIsImdldFNhbXBsZVByb21wdFN0YXRzIiwic2FtcGxlcyIsInRvdGFsU2FtcGxlcyIsImNhdGVnb3JpZXNCcmVha2Rvd24iLCJjYXQiLCJjb3VudCIsInMiLCJhdmVyYWdlVmFyaWFibGVzIiwiTWF0aCIsInJvdW5kIiwicmVkdWNlIiwic3VtIiwidG90YWxWYXJpYWJsZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O1FBWWFBO2VBQUFBOztRQXFjYjtlQUFB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