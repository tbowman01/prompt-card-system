244959c112e7b111f5f20e85a5663109
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _supertest = /*#__PURE__*/ _interop_require_default(require("supertest"));
const _assert = /*#__PURE__*/ _interop_require_default(require("assert"));
const _server = /*#__PURE__*/ _interop_require_default(require("../../server"));
const _ReportService = require("../../services/reports/ReportService");
const _ReportGenerator = require("../../services/reports/generators/ReportGenerator");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Advanced Reporting System Integration Tests', ()=>{
    let reportService;
    let reportGenerator;
    const testReportId = 'test-report-123';
    const testCardId = 'test-card-report-456';
    beforeEach(async ()=>{
        reportService = new _ReportService.ReportService();
        reportGenerator = new _ReportGenerator.ReportGenerator();
        // Set up test data
        await reportService.createTestData(testCardId);
    });
    describe('Report Generation Integration', ()=>{
        it('should generate comprehensive test execution report', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'test_execution',
                cardId: testCardId,
                timeRange: {
                    start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
                    end: new Date().toISOString()
                },
                includeMetrics: true,
                includeCharts: true,
                includeAnalytics: true
            }).expect(200);
            (0, _assert.default)(response.body.success === true);
            expect(response.body.data).toHaveProperty('reportId');
            expect(response.body.data).toHaveProperty('status');
            expect(response.body.data.status).toBe('completed');
        });
        it('should generate performance analysis report', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'performance_analysis',
                cardId: testCardId,
                analysisType: 'comprehensive',
                includeRecommendations: true,
                includeBenchmarks: true
            }).expect(200);
            (0, _assert.default)(response.body.success === true);
            expect(response.body.data).toHaveProperty('reportId');
            expect(response.body.data).toHaveProperty('performanceMetrics');
            expect(response.body.data).toHaveProperty('recommendations');
        });
        it('should generate cost optimization report', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'cost_optimization',
                cardId: testCardId,
                includeCostBreakdown: true,
                includeOptimizationSuggestions: true,
                includeProjections: true
            }).expect(200);
            (0, _assert.default)(response.body.success === true);
            expect(response.body.data).toHaveProperty('reportId');
            expect(response.body.data).toHaveProperty('costAnalysis');
            expect(response.body.data).toHaveProperty('optimizationSuggestions');
        });
    });
    describe('Report Export Integration', ()=>{
        it('should export report to PDF format', async ()=>{
            // First generate a report
            const generateResponse = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'test_execution',
                cardId: testCardId,
                timeRange: {
                    start: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
                    end: new Date().toISOString()
                }
            }).expect(200);
            const reportId = generateResponse.body.data.reportId;
            // Export to PDF
            const exportResponse = await (0, _supertest.default)(_server.default).post(`/api/reports/${reportId}/export`).send({
                format: 'pdf',
                includeCharts: true,
                includeTableOfContents: true,
                theme: 'professional'
            }).expect(200);
            (0, _assert.default)(exportResponse.body.success === true);
            expect(exportResponse.body.data).toHaveProperty('downloadUrl');
            expect(exportResponse.body.data).toHaveProperty('fileName');
            expect(exportResponse.body.data.fileName).toContain('.pdf');
        });
        it('should export report to Excel format', async ()=>{
            // First generate a report
            const generateResponse = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'performance_analysis',
                cardId: testCardId
            }).expect(200);
            const reportId = generateResponse.body.data.reportId;
            // Export to Excel
            const exportResponse = await (0, _supertest.default)(_server.default).post(`/api/reports/${reportId}/export`).send({
                format: 'excel',
                includeCharts: true,
                includeRawData: true,
                separateSheets: true
            }).expect(200);
            (0, _assert.default)(exportResponse.body.success === true);
            expect(exportResponse.body.data).toHaveProperty('downloadUrl');
            expect(exportResponse.body.data).toHaveProperty('fileName');
            expect(exportResponse.body.data.fileName).toContain('.xlsx');
        });
        it('should export report to CSV format', async ()=>{
            // First generate a report
            const generateResponse = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'cost_optimization',
                cardId: testCardId
            }).expect(200);
            const reportId = generateResponse.body.data.reportId;
            // Export to CSV
            const exportResponse = await (0, _supertest.default)(_server.default).post(`/api/reports/${reportId}/export`).send({
                format: 'csv',
                includeHeaders: true,
                delimiter: ',',
                encoding: 'utf-8'
            }).expect(200);
            (0, _assert.default)(exportResponse.body.success === true);
            expect(exportResponse.body.data).toHaveProperty('downloadUrl');
            expect(exportResponse.body.data).toHaveProperty('fileName');
            expect(exportResponse.body.data.fileName).toContain('.csv');
        });
    });
    describe('Scheduled Reports Integration', ()=>{
        it('should create and manage scheduled reports', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/schedule').send({
                name: 'Weekly Performance Report',
                type: 'performance_analysis',
                cardId: testCardId,
                schedule: {
                    frequency: 'weekly',
                    dayOfWeek: 'monday',
                    time: '09:00',
                    timezone: 'UTC'
                },
                format: 'pdf',
                recipients: [
                    'test@example.com'
                ],
                includeCharts: true
            }).expect(200);
            (0, _assert.default)(response.body.success === true);
            expect(response.body.data).toHaveProperty('scheduleId');
            expect(response.body.data).toHaveProperty('nextExecution');
        });
        it('should handle scheduled report execution', async ()=>{
            // Create a scheduled report
            const scheduleResponse = await (0, _supertest.default)(_server.default).post('/api/reports/schedule').send({
                name: 'Daily Cost Report',
                type: 'cost_optimization',
                cardId: testCardId,
                schedule: {
                    frequency: 'daily',
                    time: '08:00'
                },
                format: 'excel'
            }).expect(200);
            const scheduleId = scheduleResponse.body.data.scheduleId;
            // Trigger scheduled report execution
            const executeResponse = await (0, _supertest.default)(_server.default).post(`/api/reports/schedule/${scheduleId}/execute`).expect(200);
            (0, _assert.default)(executeResponse.body.success === true);
            expect(executeResponse.body.data).toHaveProperty('reportId');
            expect(executeResponse.body.data).toHaveProperty('executionTime');
        });
    });
    describe('Report Templates Integration', ()=>{
        it('should create and use custom report templates', async ()=>{
            // Create custom template
            const templateResponse = await (0, _supertest.default)(_server.default).post('/api/reports/templates').send({
                name: 'Custom Performance Template',
                type: 'performance_analysis',
                sections: [
                    {
                        type: 'summary',
                        title: 'Executive Summary',
                        includeMetrics: true
                    },
                    {
                        type: 'charts',
                        title: 'Performance Trends',
                        chartTypes: [
                            'line',
                            'bar'
                        ]
                    },
                    {
                        type: 'table',
                        title: 'Detailed Results',
                        columns: [
                            'timestamp',
                            'success_rate',
                            'response_time'
                        ]
                    }
                ],
                styling: {
                    theme: 'corporate',
                    colors: [
                        '#1f77b4',
                        '#ff7f0e',
                        '#2ca02c'
                    ]
                }
            }).expect(200);
            const templateId = templateResponse.body.data.templateId;
            // Use template to generate report
            const reportResponse = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                templateId,
                cardId: testCardId,
                timeRange: {
                    start: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
                    end: new Date().toISOString()
                }
            }).expect(200);
            (0, _assert.default)(reportResponse.body.success === true);
            expect(reportResponse.body.data).toHaveProperty('reportId');
        });
    });
    describe('Error Handling and Edge Cases', ()=>{
        it('should handle missing card ID gracefully', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'test_execution',
                timeRange: {
                    start: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
                    end: new Date().toISOString()
                }
            }).expect(400);
            expect(response.body.error).toContain('Card ID is required');
        });
        it('should handle invalid report type', async ()=>{
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'invalid_type',
                cardId: testCardId
            }).expect(400);
            expect(response.body.error).toContain('Invalid report type');
        });
        it('should handle export failures gracefully', async ()=>{
            // Create a report first
            const generateResponse = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'test_execution',
                cardId: testCardId
            }).expect(200);
            const reportId = generateResponse.body.data.reportId;
            // Try to export with invalid format
            const exportResponse = await (0, _supertest.default)(_server.default).post(`/api/reports/${reportId}/export`).send({
                format: 'invalid_format'
            }).expect(400);
            expect(exportResponse.body.error).toContain('Invalid export format');
        });
    });
    describe('Performance and Scalability', ()=>{
        it('should handle large dataset report generation', async ()=>{
            // Generate report with large dataset
            const response = await (0, _supertest.default)(_server.default).post('/api/reports/generate').send({
                type: 'comprehensive_analysis',
                cardId: testCardId,
                timeRange: {
                    start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
                    end: new Date().toISOString()
                },
                includeAllMetrics: true,
                includeRawData: true
            }).expect(200);
            (0, _assert.default)(response.body.success === true);
            expect(response.body.data).toHaveProperty('reportId');
            // Verify the report was generated successfully
            const statusResponse = await (0, _supertest.default)(_server.default).get(`/api/reports/${response.body.data.reportId}/status`).expect(200);
            expect(statusResponse.body.data.status).toMatch(/^(completed|processing)$/);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9iYWNrZW5kL3NyYy90ZXN0cy9pbnRlZ3JhdGlvbi9yZXBvcnRpbmctaW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcnRlc3QnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IGFwcCBmcm9tICcuLi8uLi9zZXJ2ZXInO1xuaW1wb3J0IHsgUmVwb3J0U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3JlcG9ydHMvUmVwb3J0U2VydmljZSc7XG5pbXBvcnQgeyBSZXBvcnRHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9yZXBvcnRzL2dlbmVyYXRvcnMvUmVwb3J0R2VuZXJhdG9yJztcbmltcG9ydCB7IFBERkV4cG9ydGVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmVwb3J0cy9leHBvcnRlcnMvUERGRXhwb3J0ZXInO1xuaW1wb3J0IHsgRXhjZWxFeHBvcnRlciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3JlcG9ydHMvZXhwb3J0ZXJzL0V4Y2VsRXhwb3J0ZXInO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5kZXNjcmliZSgnQWR2YW5jZWQgUmVwb3J0aW5nIFN5c3RlbSBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgbGV0IHJlcG9ydFNlcnZpY2U6IFJlcG9ydFNlcnZpY2U7XG4gIGxldCByZXBvcnRHZW5lcmF0b3I6IFJlcG9ydEdlbmVyYXRvcjtcbiAgY29uc3QgdGVzdFJlcG9ydElkID0gJ3Rlc3QtcmVwb3J0LTEyMyc7XG4gIGNvbnN0IHRlc3RDYXJkSWQgPSAndGVzdC1jYXJkLXJlcG9ydC00NTYnO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIHJlcG9ydFNlcnZpY2UgPSBuZXcgUmVwb3J0U2VydmljZSgpO1xuICAgIHJlcG9ydEdlbmVyYXRvciA9IG5ldyBSZXBvcnRHZW5lcmF0b3IoKTtcbiAgICBcbiAgICAvLyBTZXQgdXAgdGVzdCBkYXRhXG4gICAgYXdhaXQgcmVwb3J0U2VydmljZS5jcmVhdGVUZXN0RGF0YSh0ZXN0Q2FyZElkKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlcG9ydCBHZW5lcmF0aW9uIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29tcHJlaGVuc2l2ZSB0ZXN0IGV4ZWN1dGlvbiByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICd0ZXN0X2V4ZWN1dGlvbicsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkLFxuICAgICAgICAgIHRpbWVSYW5nZToge1xuICAgICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGVuZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbmNsdWRlTWV0cmljczogdHJ1ZSxcbiAgICAgICAgICBpbmNsdWRlQ2hhcnRzOiB0cnVlLFxuICAgICAgICAgIGluY2x1ZGVBbmFseXRpY3M6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBhc3NlcnQocmVzcG9uc2UuYm9keS5zdWNjZXNzID09PSB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdyZXBvcnRJZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zdGF0dXMpLnRvQmUoJ2NvbXBsZXRlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwZXJmb3JtYW5jZSBhbmFseXNpcyByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdwZXJmb3JtYW5jZV9hbmFseXNpcycsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkLFxuICAgICAgICAgIGFuYWx5c2lzVHlwZTogJ2NvbXByZWhlbnNpdmUnLFxuICAgICAgICAgIGluY2x1ZGVSZWNvbW1lbmRhdGlvbnM6IHRydWUsXG4gICAgICAgICAgaW5jbHVkZUJlbmNobWFya3M6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBhc3NlcnQocmVzcG9uc2UuYm9keS5zdWNjZXNzID09PSB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdyZXBvcnRJZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3BlcmZvcm1hbmNlTWV0cmljcycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3JlY29tbWVuZGF0aW9ucycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjb3N0IG9wdGltaXphdGlvbiByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdjb3N0X29wdGltaXphdGlvbicsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkLFxuICAgICAgICAgIGluY2x1ZGVDb3N0QnJlYWtkb3duOiB0cnVlLFxuICAgICAgICAgIGluY2x1ZGVPcHRpbWl6YXRpb25TdWdnZXN0aW9uczogdHJ1ZSxcbiAgICAgICAgICBpbmNsdWRlUHJvamVjdGlvbnM6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBhc3NlcnQocmVzcG9uc2UuYm9keS5zdWNjZXNzID09PSB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdyZXBvcnRJZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2Nvc3RBbmFseXNpcycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ29wdGltaXphdGlvblN1Z2dlc3Rpb25zJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXBvcnQgRXhwb3J0IEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhwb3J0IHJlcG9ydCB0byBQREYgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gRmlyc3QgZ2VuZXJhdGUgYSByZXBvcnRcbiAgICAgIGNvbnN0IGdlbmVyYXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVwb3J0cy9nZW5lcmF0ZScpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAndGVzdF9leGVjdXRpb24nLFxuICAgICAgICAgIGNhcmRJZDogdGVzdENhcmRJZCxcbiAgICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGVuZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlcG9ydElkID0gZ2VuZXJhdGVSZXNwb25zZS5ib2R5LmRhdGEucmVwb3J0SWQ7XG5cbiAgICAgIC8vIEV4cG9ydCB0byBQREZcbiAgICAgIGNvbnN0IGV4cG9ydFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KGAvYXBpL3JlcG9ydHMvJHtyZXBvcnRJZH0vZXhwb3J0YClcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGZvcm1hdDogJ3BkZicsXG4gICAgICAgICAgaW5jbHVkZUNoYXJ0czogdHJ1ZSxcbiAgICAgICAgICBpbmNsdWRlVGFibGVPZkNvbnRlbnRzOiB0cnVlLFxuICAgICAgICAgIHRoZW1lOiAncHJvZmVzc2lvbmFsJ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGFzc2VydChleHBvcnRSZXNwb25zZS5ib2R5LnN1Y2Nlc3MgPT09IHRydWUpO1xuICAgICAgZXhwZWN0KGV4cG9ydFJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2Rvd25sb2FkVXJsJyk7XG4gICAgICBleHBlY3QoZXhwb3J0UmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnZmlsZU5hbWUnKTtcbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5ib2R5LmRhdGEuZmlsZU5hbWUpLnRvQ29udGFpbignLnBkZicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBleHBvcnQgcmVwb3J0IHRvIEV4Y2VsIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEZpcnN0IGdlbmVyYXRlIGEgcmVwb3J0XG4gICAgICBjb25zdCBnZW5lcmF0ZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMvZ2VuZXJhdGUnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgdHlwZTogJ3BlcmZvcm1hbmNlX2FuYWx5c2lzJyxcbiAgICAgICAgICBjYXJkSWQ6IHRlc3RDYXJkSWRcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXBvcnRJZCA9IGdlbmVyYXRlUmVzcG9uc2UuYm9keS5kYXRhLnJlcG9ydElkO1xuXG4gICAgICAvLyBFeHBvcnQgdG8gRXhjZWxcbiAgICAgIGNvbnN0IGV4cG9ydFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KGAvYXBpL3JlcG9ydHMvJHtyZXBvcnRJZH0vZXhwb3J0YClcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGZvcm1hdDogJ2V4Y2VsJyxcbiAgICAgICAgICBpbmNsdWRlQ2hhcnRzOiB0cnVlLFxuICAgICAgICAgIGluY2x1ZGVSYXdEYXRhOiB0cnVlLFxuICAgICAgICAgIHNlcGFyYXRlU2hlZXRzOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgYXNzZXJ0KGV4cG9ydFJlc3BvbnNlLmJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSk7XG4gICAgICBleHBlY3QoZXhwb3J0UmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnZG93bmxvYWRVcmwnKTtcbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdmaWxlTmFtZScpO1xuICAgICAgZXhwZWN0KGV4cG9ydFJlc3BvbnNlLmJvZHkuZGF0YS5maWxlTmFtZSkudG9Db250YWluKCcueGxzeCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBleHBvcnQgcmVwb3J0IHRvIENTViBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBGaXJzdCBnZW5lcmF0ZSBhIHJlcG9ydFxuICAgICAgY29uc3QgZ2VuZXJhdGVSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdjb3N0X29wdGltaXphdGlvbicsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVwb3J0SWQgPSBnZW5lcmF0ZVJlc3BvbnNlLmJvZHkuZGF0YS5yZXBvcnRJZDtcblxuICAgICAgLy8gRXhwb3J0IHRvIENTVlxuICAgICAgY29uc3QgZXhwb3J0UmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoYC9hcGkvcmVwb3J0cy8ke3JlcG9ydElkfS9leHBvcnRgKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZm9ybWF0OiAnY3N2JyxcbiAgICAgICAgICBpbmNsdWRlSGVhZGVyczogdHJ1ZSxcbiAgICAgICAgICBkZWxpbWl0ZXI6ICcsJyxcbiAgICAgICAgICBlbmNvZGluZzogJ3V0Zi04J1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGFzc2VydChleHBvcnRSZXNwb25zZS5ib2R5LnN1Y2Nlc3MgPT09IHRydWUpO1xuICAgICAgZXhwZWN0KGV4cG9ydFJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2Rvd25sb2FkVXJsJyk7XG4gICAgICBleHBlY3QoZXhwb3J0UmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnZmlsZU5hbWUnKTtcbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5ib2R5LmRhdGEuZmlsZU5hbWUpLnRvQ29udGFpbignLmNzdicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2NoZWR1bGVkIFJlcG9ydHMgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYW5kIG1hbmFnZSBzY2hlZHVsZWQgcmVwb3J0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMvc2NoZWR1bGUnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgbmFtZTogJ1dlZWtseSBQZXJmb3JtYW5jZSBSZXBvcnQnLFxuICAgICAgICAgIHR5cGU6ICdwZXJmb3JtYW5jZV9hbmFseXNpcycsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkLFxuICAgICAgICAgIHNjaGVkdWxlOiB7XG4gICAgICAgICAgICBmcmVxdWVuY3k6ICd3ZWVrbHknLFxuICAgICAgICAgICAgZGF5T2ZXZWVrOiAnbW9uZGF5JyxcbiAgICAgICAgICAgIHRpbWU6ICcwOTowMCcsXG4gICAgICAgICAgICB0aW1lem9uZTogJ1VUQydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvcm1hdDogJ3BkZicsXG4gICAgICAgICAgcmVjaXBpZW50czogWyd0ZXN0QGV4YW1wbGUuY29tJ10sXG4gICAgICAgICAgaW5jbHVkZUNoYXJ0czogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGFzc2VydChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MgPT09IHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3NjaGVkdWxlSWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCduZXh0RXhlY3V0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzY2hlZHVsZWQgcmVwb3J0IGV4ZWN1dGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIHNjaGVkdWxlZCByZXBvcnRcbiAgICAgIGNvbnN0IHNjaGVkdWxlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVwb3J0cy9zY2hlZHVsZScpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICBuYW1lOiAnRGFpbHkgQ29zdCBSZXBvcnQnLFxuICAgICAgICAgIHR5cGU6ICdjb3N0X29wdGltaXphdGlvbicsXG4gICAgICAgICAgY2FyZElkOiB0ZXN0Q2FyZElkLFxuICAgICAgICAgIHNjaGVkdWxlOiB7XG4gICAgICAgICAgICBmcmVxdWVuY3k6ICdkYWlseScsXG4gICAgICAgICAgICB0aW1lOiAnMDg6MDAnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3JtYXQ6ICdleGNlbCdcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBzY2hlZHVsZUlkID0gc2NoZWR1bGVSZXNwb25zZS5ib2R5LmRhdGEuc2NoZWR1bGVJZDtcblxuICAgICAgLy8gVHJpZ2dlciBzY2hlZHVsZWQgcmVwb3J0IGV4ZWN1dGlvblxuICAgICAgY29uc3QgZXhlY3V0ZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KGAvYXBpL3JlcG9ydHMvc2NoZWR1bGUvJHtzY2hlZHVsZUlkfS9leGVjdXRlYClcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBhc3NlcnQoZXhlY3V0ZVJlc3BvbnNlLmJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSk7XG4gICAgICBleHBlY3QoZXhlY3V0ZVJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3JlcG9ydElkJyk7XG4gICAgICBleHBlY3QoZXhlY3V0ZVJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2V4ZWN1dGlvblRpbWUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlcG9ydCBUZW1wbGF0ZXMgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYW5kIHVzZSBjdXN0b20gcmVwb3J0IHRlbXBsYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBjdXN0b20gdGVtcGxhdGVcbiAgICAgIGNvbnN0IHRlbXBsYXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVwb3J0cy90ZW1wbGF0ZXMnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgbmFtZTogJ0N1c3RvbSBQZXJmb3JtYW5jZSBUZW1wbGF0ZScsXG4gICAgICAgICAgdHlwZTogJ3BlcmZvcm1hbmNlX2FuYWx5c2lzJyxcbiAgICAgICAgICBzZWN0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnc3VtbWFyeScsXG4gICAgICAgICAgICAgIHRpdGxlOiAnRXhlY3V0aXZlIFN1bW1hcnknLFxuICAgICAgICAgICAgICBpbmNsdWRlTWV0cmljczogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2NoYXJ0cycsXG4gICAgICAgICAgICAgIHRpdGxlOiAnUGVyZm9ybWFuY2UgVHJlbmRzJyxcbiAgICAgICAgICAgICAgY2hhcnRUeXBlczogWydsaW5lJywgJ2JhciddXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICAgICAgICB0aXRsZTogJ0RldGFpbGVkIFJlc3VsdHMnLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBbJ3RpbWVzdGFtcCcsICdzdWNjZXNzX3JhdGUnLCAncmVzcG9uc2VfdGltZSddXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdHlsaW5nOiB7XG4gICAgICAgICAgICB0aGVtZTogJ2NvcnBvcmF0ZScsXG4gICAgICAgICAgICBjb2xvcnM6IFsnIzFmNzdiNCcsICcjZmY3ZjBlJywgJyMyY2EwMmMnXVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZUlkID0gdGVtcGxhdGVSZXNwb25zZS5ib2R5LmRhdGEudGVtcGxhdGVJZDtcblxuICAgICAgLy8gVXNlIHRlbXBsYXRlIHRvIGdlbmVyYXRlIHJlcG9ydFxuICAgICAgY29uc3QgcmVwb3J0UmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVwb3J0cy9nZW5lcmF0ZScpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICB0ZW1wbGF0ZUlkLFxuICAgICAgICAgIGNhcmRJZDogdGVzdENhcmRJZCxcbiAgICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGVuZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGFzc2VydChyZXBvcnRSZXNwb25zZS5ib2R5LnN1Y2Nlc3MgPT09IHRydWUpO1xuICAgICAgZXhwZWN0KHJlcG9ydFJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3JlcG9ydElkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBhbmQgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIGNhcmQgSUQgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMvZ2VuZXJhdGUnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgdHlwZTogJ3Rlc3RfZXhlY3V0aW9uJyxcbiAgICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGVuZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0NvbnRhaW4oJ0NhcmQgSUQgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgcmVwb3J0IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdpbnZhbGlkX3R5cGUnLFxuICAgICAgICAgIGNhcmRJZDogdGVzdENhcmRJZFxuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0NvbnRhaW4oJ0ludmFsaWQgcmVwb3J0IHR5cGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGV4cG9ydCBmYWlsdXJlcyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGEgcmVwb3J0IGZpcnN0XG4gICAgICBjb25zdCBnZW5lcmF0ZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMvZ2VuZXJhdGUnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgdHlwZTogJ3Rlc3RfZXhlY3V0aW9uJyxcbiAgICAgICAgICBjYXJkSWQ6IHRlc3RDYXJkSWRcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXBvcnRJZCA9IGdlbmVyYXRlUmVzcG9uc2UuYm9keS5kYXRhLnJlcG9ydElkO1xuXG4gICAgICAvLyBUcnkgdG8gZXhwb3J0IHdpdGggaW52YWxpZCBmb3JtYXRcbiAgICAgIGNvbnN0IGV4cG9ydFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KGAvYXBpL3JlcG9ydHMvJHtyZXBvcnRJZH0vZXhwb3J0YClcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGZvcm1hdDogJ2ludmFsaWRfZm9ybWF0J1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5ib2R5LmVycm9yKS50b0NvbnRhaW4oJ0ludmFsaWQgZXhwb3J0IGZvcm1hdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIFNjYWxhYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGRhdGFzZXQgcmVwb3J0IGdlbmVyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBHZW5lcmF0ZSByZXBvcnQgd2l0aCBsYXJnZSBkYXRhc2V0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9yZXBvcnRzL2dlbmVyYXRlJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdjb21wcmVoZW5zaXZlX2FuYWx5c2lzJyxcbiAgICAgICAgICBjYXJkSWQ6IHRlc3RDYXJkSWQsXG4gICAgICAgICAgdGltZVJhbmdlOiB7XG4gICAgICAgICAgICBzdGFydDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSwgLy8gMzAgZGF5c1xuICAgICAgICAgICAgZW5kOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGluY2x1ZGVBbGxNZXRyaWNzOiB0cnVlLFxuICAgICAgICAgIGluY2x1ZGVSYXdEYXRhOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgYXNzZXJ0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgncmVwb3J0SWQnKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSByZXBvcnQgd2FzIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHlcbiAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvcmVwb3J0cy8ke3Jlc3BvbnNlLmJvZHkuZGF0YS5yZXBvcnRJZH0vc3RhdHVzYClcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3Qoc3RhdHVzUmVzcG9uc2UuYm9keS5kYXRhLnN0YXR1cykudG9NYXRjaCgvXihjb21wbGV0ZWR8cHJvY2Vzc2luZykkLyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwicmVwb3J0U2VydmljZSIsInJlcG9ydEdlbmVyYXRvciIsInRlc3RSZXBvcnRJZCIsInRlc3RDYXJkSWQiLCJiZWZvcmVFYWNoIiwiUmVwb3J0U2VydmljZSIsIlJlcG9ydEdlbmVyYXRvciIsImNyZWF0ZVRlc3REYXRhIiwiaXQiLCJyZXNwb25zZSIsInJlcXVlc3QiLCJhcHAiLCJwb3N0Iiwic2VuZCIsInR5cGUiLCJjYXJkSWQiLCJ0aW1lUmFuZ2UiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJ0b0lTT1N0cmluZyIsImVuZCIsImluY2x1ZGVNZXRyaWNzIiwiaW5jbHVkZUNoYXJ0cyIsImluY2x1ZGVBbmFseXRpY3MiLCJleHBlY3QiLCJhc3NlcnQiLCJib2R5Iiwic3VjY2VzcyIsImRhdGEiLCJ0b0hhdmVQcm9wZXJ0eSIsInN0YXR1cyIsInRvQmUiLCJhbmFseXNpc1R5cGUiLCJpbmNsdWRlUmVjb21tZW5kYXRpb25zIiwiaW5jbHVkZUJlbmNobWFya3MiLCJpbmNsdWRlQ29zdEJyZWFrZG93biIsImluY2x1ZGVPcHRpbWl6YXRpb25TdWdnZXN0aW9ucyIsImluY2x1ZGVQcm9qZWN0aW9ucyIsImdlbmVyYXRlUmVzcG9uc2UiLCJyZXBvcnRJZCIsImV4cG9ydFJlc3BvbnNlIiwiZm9ybWF0IiwiaW5jbHVkZVRhYmxlT2ZDb250ZW50cyIsInRoZW1lIiwiZmlsZU5hbWUiLCJ0b0NvbnRhaW4iLCJpbmNsdWRlUmF3RGF0YSIsInNlcGFyYXRlU2hlZXRzIiwiaW5jbHVkZUhlYWRlcnMiLCJkZWxpbWl0ZXIiLCJlbmNvZGluZyIsIm5hbWUiLCJzY2hlZHVsZSIsImZyZXF1ZW5jeSIsImRheU9mV2VlayIsInRpbWUiLCJ0aW1lem9uZSIsInJlY2lwaWVudHMiLCJzY2hlZHVsZVJlc3BvbnNlIiwic2NoZWR1bGVJZCIsImV4ZWN1dGVSZXNwb25zZSIsInRlbXBsYXRlUmVzcG9uc2UiLCJzZWN0aW9ucyIsInRpdGxlIiwiY2hhcnRUeXBlcyIsImNvbHVtbnMiLCJzdHlsaW5nIiwiY29sb3JzIiwidGVtcGxhdGVJZCIsInJlcG9ydFJlc3BvbnNlIiwiZXJyb3IiLCJpbmNsdWRlQWxsTWV0cmljcyIsInN0YXR1c1Jlc3BvbnNlIiwiZ2V0IiwidG9NYXRjaCJdLCJtYXBwaW5ncyI6Ijs7OztrRUFBb0I7K0RBQ0Q7K0RBQ0g7K0JBQ2M7aUNBQ0U7Ozs7OztBQU1oQ0EsU0FBUywrQ0FBK0M7SUFDdEQsSUFBSUM7SUFDSixJQUFJQztJQUNKLE1BQU1DLGVBQWU7SUFDckIsTUFBTUMsYUFBYTtJQUVuQkMsV0FBVztRQUNUSixnQkFBZ0IsSUFBSUssNEJBQWE7UUFDakNKLGtCQUFrQixJQUFJSyxnQ0FBZTtRQUVyQyxtQkFBbUI7UUFDbkIsTUFBTU4sY0FBY08sY0FBYyxDQUFDSjtJQUNyQztJQUVBSixTQUFTLGlD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