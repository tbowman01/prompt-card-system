{"version":3,"sources":["/workspaces/prompt-card-system/backend/src/tests/globalTeardown.ts"],"sourcesContent":["// Global test teardown - runs once after all tests\nimport fs from 'fs';\nimport path from 'path';\n\nexport default async function globalTeardown(): Promise<void> {\n  console.log('üß™ Cleaning up global test environment...');\n  \n  // Clean up test database\n  const testDbPath = process.env.DATABASE_PATH || path.join(__dirname, '../../data/test.sqlite');\n  \n  try {\n    if (fs.existsSync(testDbPath)) {\n      fs.unlinkSync(testDbPath);\n      console.log('‚úÖ Test database cleaned up');\n    }\n    \n    // Clean up WAL and SHM files if they exist\n    const walFile = testDbPath + '-wal';\n    const shmFile = testDbPath + '-shm';\n    \n    if (fs.existsSync(walFile)) fs.unlinkSync(walFile);\n    if (fs.existsSync(shmFile)) fs.unlinkSync(shmFile);\n    \n  } catch (error) {\n    console.error('‚ùå Error cleaning up test database:', error);\n  }\n  \n  console.log('‚úÖ Global test teardown complete');\n}"],"names":["globalTeardown","console","log","testDbPath","process","env","DATABASE_PATH","path","join","__dirname","fs","existsSync","unlinkSync","walFile","shmFile","error"],"mappings":"AAAA,mDAAmD;;;;;+BAInD;;;eAA8BA;;;2DAHf;6DACE;;;;;;AAEF,eAAeA;IAC5BC,QAAQC,GAAG,CAAC;IAEZ,yBAAyB;IACzB,MAAMC,aAAaC,QAAQC,GAAG,CAACC,aAAa,IAAIC,aAAI,CAACC,IAAI,CAACC,WAAW;IAErE,IAAI;QACF,IAAIC,WAAE,CAACC,UAAU,CAACR,aAAa;YAC7BO,WAAE,CAACE,UAAU,CAACT;YACdF,QAAQC,GAAG,CAAC;QACd;QAEA,2CAA2C;QAC3C,MAAMW,UAAUV,aAAa;QAC7B,MAAMW,UAAUX,aAAa;QAE7B,IAAIO,WAAE,CAACC,UAAU,CAACE,UAAUH,WAAE,CAACE,UAAU,CAACC;QAC1C,IAAIH,WAAE,CAACC,UAAU,CAACG,UAAUJ,WAAE,CAACE,UAAU,CAACE;IAE5C,EAAE,OAAOC,OAAO;QACdd,QAAQc,KAAK,CAAC,sCAAsCA;IACtD;IAEAd,QAAQC,GAAG,CAAC;AACd"}