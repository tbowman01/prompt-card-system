{"version":3,"sources":["/workspaces/prompt-card-system/backend/node_modules/better-sqlite3/lib/methods/function.js"],"sourcesContent":["'use strict';\nconst { getBooleanOption, cppdb } = require('../util');\n\nmodule.exports = function defineFunction(name, options, fn) {\n\t// Apply defaults\n\tif (options == null) options = {};\n\tif (typeof options === 'function') { fn = options; options = {}; }\n\n\t// Validate arguments\n\tif (typeof name !== 'string') throw new TypeError('Expected first argument to be a string');\n\tif (typeof fn !== 'function') throw new TypeError('Expected last argument to be a function');\n\tif (typeof options !== 'object') throw new TypeError('Expected second argument to be an options object');\n\tif (!name) throw new TypeError('User-defined function name cannot be an empty string');\n\n\t// Interpret options\n\tconst safeIntegers = 'safeIntegers' in options ? +getBooleanOption(options, 'safeIntegers') : 2;\n\tconst deterministic = getBooleanOption(options, 'deterministic');\n\tconst directOnly = getBooleanOption(options, 'directOnly');\n\tconst varargs = getBooleanOption(options, 'varargs');\n\tlet argCount = -1;\n\n\t// Determine argument count\n\tif (!varargs) {\n\t\targCount = fn.length;\n\t\tif (!Number.isInteger(argCount) || argCount < 0) throw new TypeError('Expected function.length to be a positive integer');\n\t\tif (argCount > 100) throw new RangeError('User-defined functions cannot have more than 100 arguments');\n\t}\n\n\tthis[cppdb].function(fn, name, argCount, safeIntegers, deterministic, directOnly);\n\treturn this;\n};\n"],"names":["getBooleanOption","cppdb","require","module","exports","defineFunction","name","options","fn","TypeError","safeIntegers","deterministic","directOnly","varargs","argCount","length","Number","isInteger","RangeError","function"],"mappings":"AAAA;AACA,MAAM,EAAEA,gBAAgB,EAAEC,KAAK,EAAE,GAAGC,QAAQ;AAE5CC,OAAOC,OAAO,GAAG,SAASC,eAAeC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IACzD,iBAAiB;IACjB,IAAID,WAAW,MAAMA,UAAU,CAAC;IAChC,IAAI,OAAOA,YAAY,YAAY;QAAEC,KAAKD;QAASA,UAAU,CAAC;IAAG;IAEjE,qBAAqB;IACrB,IAAI,OAAOD,SAAS,UAAU,MAAM,IAAIG,UAAU;IAClD,IAAI,OAAOD,OAAO,YAAY,MAAM,IAAIC,UAAU;IAClD,IAAI,OAAOF,YAAY,UAAU,MAAM,IAAIE,UAAU;IACrD,IAAI,CAACH,MAAM,MAAM,IAAIG,UAAU;IAE/B,oBAAoB;IACpB,MAAMC,eAAe,kBAAkBH,UAAU,CAACP,iBAAiBO,SAAS,kBAAkB;IAC9F,MAAMI,gBAAgBX,iBAAiBO,SAAS;IAChD,MAAMK,aAAaZ,iBAAiBO,SAAS;IAC7C,MAAMM,UAAUb,iBAAiBO,SAAS;IAC1C,IAAIO,WAAW,CAAC;IAEhB,2BAA2B;IAC3B,IAAI,CAACD,SAAS;QACbC,WAAWN,GAAGO,MAAM;QACpB,IAAI,CAACC,OAAOC,SAAS,CAACH,aAAaA,WAAW,GAAG,MAAM,IAAIL,UAAU;QACrE,IAAIK,WAAW,KAAK,MAAM,IAAII,WAAW;IAC1C;IAEA,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAACX,IAAIF,MAAMQ,UAAUJ,cAAcC,eAAeC;IACtE,OAAO,IAAI;AACZ"}