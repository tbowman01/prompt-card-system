{"file":"/workspaces/prompt-card-system/backend/src/tests/globalTeardown.ts","mappings":";;;;;AAIA,iCAwBC;AA5BD,mDAAmD;AACnD,4CAAoB;AACpB,gDAAwB;AAET,KAAK,UAAU,cAAc;IAC1C,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;IAEzD,yBAAyB;IACzB,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAwB,CAAC,CAAC;IAE/F,IAAI,CAAC;QACH,IAAI,YAAE,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,CAAC;YAC9B,YAAE,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAC1B,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC5C,CAAC;QAED,2CAA2C;QAC3C,MAAM,OAAO,GAAG,UAAU,GAAG,MAAM,CAAC;QACpC,MAAM,OAAO,GAAG,UAAU,GAAG,MAAM,CAAC;QAEpC,IAAI,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC;YAAE,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC;YAAE,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAErD,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;IAC7D,CAAC;IAED,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;AACjD,CAAC","names":[],"sources":["/workspaces/prompt-card-system/backend/src/tests/globalTeardown.ts"],"sourcesContent":["// Global test teardown - runs once after all tests\nimport fs from 'fs';\nimport path from 'path';\n\nexport default async function globalTeardown(): Promise<void> {\n  console.log('üß™ Cleaning up global test environment...');\n  \n  // Clean up test database\n  const testDbPath = process.env.DATABASE_PATH || path.join(__dirname, '../../data/test.sqlite');\n  \n  try {\n    if (fs.existsSync(testDbPath)) {\n      fs.unlinkSync(testDbPath);\n      console.log('‚úÖ Test database cleaned up');\n    }\n    \n    // Clean up WAL and SHM files if they exist\n    const walFile = testDbPath + '-wal';\n    const shmFile = testDbPath + '-shm';\n    \n    if (fs.existsSync(walFile)) fs.unlinkSync(walFile);\n    if (fs.existsSync(shmFile)) fs.unlinkSync(shmFile);\n    \n  } catch (error) {\n    console.error('‚ùå Error cleaning up test database:', error);\n  }\n  \n  console.log('‚úÖ Global test teardown complete');\n}"],"version":3}