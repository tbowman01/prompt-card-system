{"version":3,"names":["cov_2p996dl941","actualCoverage","s","exports","errorHandler","err","req","res","next","f","console","error","status","message","name","b","json","success","timestamp","Date","toISOString","path","method"],"sources":["/workspaces/prompt-card-system/backend/src/middleware/errorHandler.ts"],"sourcesContent":["import { Request, Response, NextFunction } from 'express';\n\nexport function errorHandler(\n  err: Error,\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  console.error('Error occurred:', err);\n  \n  // Default error response\n  let status = 500;\n  let message = 'Internal server error';\n  \n  // Handle specific error types\n  if (err.name === 'ValidationError') {\n    status = 400;\n    message = 'Validation failed';\n  } else if (err.name === 'SqliteError') {\n    status = 500;\n    message = 'Database error';\n  } else if (err.message) {\n    message = err.message;\n  }\n  \n  res.status(status).json({\n    success: false,\n    error: message,\n    timestamp: new Date().toISOString(),\n    path: req.path,\n    method: req.method\n  });\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoBI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;AAlBJC,OAAA,CAAAC,YAAA,GAAAA,YAAA;AAAA,SAAgBA,YAAYA,CAC1BC,GAAU,EACVC,GAAY,EACZC,GAAa,EACbC,IAAkB;EAAA;EAAAR,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAE,CAAA;EAElBQ,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEN,GAAG,CAAC;EAErC;EACA,IAAIO,MAAM;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA,OAAG,GAAG;EAChB,IAAIW,OAAO;EAAA;EAAA,CAAAb,cAAA,GAAAE,CAAA,OAAG,uBAAuB;EAErC;EAAA;EAAAF,cAAA,GAAAE,CAAA;EACA,IAAIG,GAAG,CAACS,IAAI,KAAK,iBAAiB,EAAE;IAAA;IAAAd,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IAClCU,MAAM,GAAG,GAAG;IAAC;IAAAZ,cAAA,GAAAE,CAAA;IACbW,OAAO,GAAG,mBAAmB;EAC/B,CAAC,MAAM;IAAA;IAAAb,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAE,CAAA;IAAA,IAAIG,GAAG,CAACS,IAAI,KAAK,aAAa,EAAE;MAAA;MAAAd,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACrCU,MAAM,GAAG,GAAG;MAAC;MAAAZ,cAAA,GAAAE,CAAA;MACbW,OAAO,GAAG,gBAAgB;IAC5B,CAAC,MAAM;MAAA;MAAAb,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,IAAIG,GAAG,CAACQ,OAAO,EAAE;QAAA;QAAAb,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACtBW,OAAO,GAAGR,GAAG,CAACQ,OAAO;MACvB,CAAC;MAAA;MAAA;QAAAb,cAAA,GAAAe,CAAA;MAAA;IAAD;EAAA;EAAC;EAAAf,cAAA,GAAAE,CAAA;EAEDK,GAAG,CAACK,MAAM,CAACA,MAAM,CAAC,CAACI,IAAI,CAAC;IACtBC,OAAO,EAAE,KAAK;IACdN,KAAK,EAAEE,OAAO;IACdK,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;IACnCC,IAAI,EAAEf,GAAG,CAACe,IAAI;IACdC,MAAM,EAAEhB,GAAG,CAACgB;GACb,CAAC;AACJ","ignoreList":[]}