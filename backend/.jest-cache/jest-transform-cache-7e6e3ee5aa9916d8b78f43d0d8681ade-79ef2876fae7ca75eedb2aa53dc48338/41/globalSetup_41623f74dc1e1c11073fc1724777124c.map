{"file":"/workspaces/prompt-card-system/backend/src/tests/globalSetup.ts","mappings":";;;;;AAKA,8BA4BC;AAjCD,iDAAiD;AACjD,uDAA4D;AAC5D,gDAAwB;AACxB,4CAAoB;AAEL,KAAK,UAAU,WAAW;IACvC,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;IAExD,iCAAiC;IACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC;IAC9B,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAwB,CAAC,CAAC;IAC3E,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,wBAAwB,CAAC;IAEtF,oCAAoC;IACpC,MAAM,WAAW,GAAG,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC5D,IAAI,CAAC,YAAE,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,CAAC;QAChC,YAAE,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IACjD,CAAC;IAED,sCAAsC;IACtC,IAAI,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC;QAC7C,YAAE,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC3C,CAAC;IAED,2BAA2B;IAC3B,IAAI,CAAC;QACH,IAAA,+BAAkB,GAAE,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAC7C,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;AAC9C,CAAC","names":[],"sources":["/workspaces/prompt-card-system/backend/src/tests/globalSetup.ts"],"sourcesContent":["// Global test setup - runs once before all tests\nimport { initializeDatabase } from '../database/connection';\nimport path from 'path';\nimport fs from 'fs';\n\nexport default async function globalSetup(): Promise<void> {\n  console.log('üß™ Setting up global test environment...');\n  \n  // Set test environment variables\n  process.env.NODE_ENV = 'test';\n  process.env.DATABASE_PATH = path.join(__dirname, '../../data/test.sqlite');\n  process.env.OLLAMA_BASE_URL = process.env.OLLAMA_BASE_URL || 'http://localhost:11434';\n  \n  // Ensure test data directory exists\n  const testDataDir = path.dirname(process.env.DATABASE_PATH);\n  if (!fs.existsSync(testDataDir)) {\n    fs.mkdirSync(testDataDir, { recursive: true });\n  }\n  \n  // Clean up any existing test database\n  if (fs.existsSync(process.env.DATABASE_PATH)) {\n    fs.unlinkSync(process.env.DATABASE_PATH);\n  }\n  \n  // Initialize test database\n  try {\n    initializeDatabase();\n    console.log('‚úÖ Test database initialized');\n  } catch (error) {\n    console.error('‚ùå Failed to initialize test database:', error);\n  }\n  \n  console.log('‚úÖ Global test setup complete');\n}"],"version":3}