a2a849adb5758554cd5dcc193e950f08
"use strict";

/* istanbul ignore next */
function cov_2n02p6kykf() {
  var path = "/workspaces/prompt-card-system/backend/src/services/testing/Semaphore.ts";
  var hash = "f5c9073fb557ebaf9922f8a0694549d21a7d77ec";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/prompt-card-system/backend/src/services/testing/Semaphore.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 55
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 31
        }
      },
      "3": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 30
        }
      },
      "4": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 33
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 33,
          column: 11
        }
      },
      "6": {
        start: {
          line: 18,
          column: 12
        },
        end: {
          line: 32,
          column: 13
        }
      },
      "7": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 36
        }
      },
      "8": {
        start: {
          line: 20,
          column: 32
        },
        end: {
          line: 20,
          column: 60
        }
      },
      "9": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 33
        }
      },
      "10": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 31,
          column: 19
        }
      },
      "11": {
        start: {
          line: 26,
          column: 24
        },
        end: {
          line: 26,
          column: 44
        }
      },
      "12": {
        start: {
          line: 27,
          column: 40
        },
        end: {
          line: 27,
          column: 68
        }
      },
      "13": {
        start: {
          line: 28,
          column: 24
        },
        end: {
          line: 28,
          column: 41
        }
      },
      "14": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 42,
          column: 9
        }
      },
      "15": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 40,
          column: 32
        }
      },
      "16": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 48
        }
      },
      "17": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 20
        }
      },
      "18": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 33
        }
      },
      "19": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 55,
          column: 40
        }
      },
      "20": {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 49
        }
      },
      "21": {
        start: {
          line: 64,
          column: 23
        },
        end: {
          line: 64,
          column: 28
        }
      },
      "22": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 75,
          column: 10
        }
      },
      "23": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 68,
          column: 13
        }
      },
      "24": {
        start: {
          line: 67,
          column: 16
        },
        end: {
          line: 67,
          column: 69
        }
      },
      "25": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 69,
          column: 28
        }
      },
      "26": {
        start: {
          line: 70,
          column: 12
        },
        end: {
          line: 70,
          column: 32
        }
      },
      "27": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 74,
          column: 13
        }
      },
      "28": {
        start: {
          line: 72,
          column: 31
        },
        end: {
          line: 72,
          column: 56
        }
      },
      "29": {
        start: {
          line: 73,
          column: 16
        },
        end: {
          line: 73,
          column: 33
        }
      },
      "30": {
        start: {
          line: 78,
          column: 0
        },
        end: {
          line: 78,
          column: 30
        }
      },
      "31": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 84,
          column: 24
        }
      },
      "32": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 85,
          column: 47
        }
      },
      "33": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 43
        }
      },
      "34": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 87,
          column: 39
        }
      },
      "35": {
        start: {
          line: 91,
          column: 29
        },
        end: {
          line: 91,
          column: 57
        }
      },
      "36": {
        start: {
          line: 92,
          column: 8
        },
        end: {
          line: 94,
          column: 9
        }
      },
      "37": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 93,
          column: 61
        }
      },
      "38": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 95,
          column: 31
        }
      },
      "39": {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 104,
          column: 31
        }
      },
      "40": {
        start: {
          line: 99,
          column: 33
        },
        end: {
          line: 99,
          column: 61
        }
      },
      "41": {
        start: {
          line: 100,
          column: 12
        },
        end: {
          line: 103,
          column: 13
        }
      },
      "42": {
        start: {
          line: 102,
          column: 16
        },
        end: {
          line: 102,
          column: 87
        }
      },
      "43": {
        start: {
          line: 107,
          column: 0
        },
        end: {
          line: 107,
          column: 46
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 8,
            column: 5
          }
        },
        loc: {
          start: {
            line: 8,
            column: 26
          },
          end: {
            line: 12,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 20
          },
          end: {
            line: 34,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 17,
            column: 27
          },
          end: {
            line: 17,
            column: 28
          }
        },
        loc: {
          start: {
            line: 17,
            column: 48
          },
          end: {
            line: 33,
            column: 9
          }
        },
        line: 17
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 25,
            column: 29
          },
          end: {
            line: 25,
            column: 30
          }
        },
        loc: {
          start: {
            line: 25,
            column: 35
          },
          end: {
            line: 29,
            column: 21
          }
        },
        line: 25
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 38,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        },
        loc: {
          start: {
            line: 38,
            column: 17
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 38
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 48,
            column: 5
          }
        },
        loc: {
          start: {
            line: 48,
            column: 22
          },
          end: {
            line: 50,
            column: 5
          }
        },
        line: 48
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 54,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        loc: {
          start: {
            line: 54,
            column: 22
          },
          end: {
            line: 56,
            column: 5
          }
        },
        line: 54
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 60,
            column: 5
          }
        },
        loc: {
          start: {
            line: 60,
            column: 24
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 60
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 63,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        },
        loc: {
          start: {
            line: 63,
            column: 28
          },
          end: {
            line: 76,
            column: 5
          }
        },
        line: 63
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 65,
            column: 15
          },
          end: {
            line: 65,
            column: 16
          }
        },
        loc: {
          start: {
            line: 65,
            column: 21
          },
          end: {
            line: 75,
            column: 9
          }
        },
        line: 65
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 83,
            column: 4
          },
          end: {
            line: 83,
            column: 5
          }
        },
        loc: {
          start: {
            line: 83,
            column: 65
          },
          end: {
            line: 88,
            column: 5
          }
        },
        line: 83
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 89,
            column: 4
          },
          end: {
            line: 89,
            column: 5
          }
        },
        loc: {
          start: {
            line: 89,
            column: 20
          },
          end: {
            line: 96,
            column: 5
          }
        },
        line: 89
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 97,
            column: 4
          },
          end: {
            line: 97,
            column: 5
          }
        },
        loc: {
          start: {
            line: 97,
            column: 30
          },
          end: {
            line: 105,
            column: 5
          }
        },
        line: 97
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 98,
            column: 20
          },
          end: {
            line: 98,
            column: 21
          }
        },
        loc: {
          start: {
            line: 98,
            column: 32
          },
          end: {
            line: 104,
            column: 9
          }
        },
        line: 98
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 32,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 32,
            column: 13
          }
        }, {
          start: {
            line: 23,
            column: 17
          },
          end: {
            line: 32,
            column: 13
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 39
      },
      "2": {
        loc: {
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 68,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 68,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "3": {
        loc: {
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 74,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 74,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "4": {
        loc: {
          start: {
            line: 83,
            column: 43
          },
          end: {
            line: 83,
            column: 63
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 83,
            column: 59
          },
          end: {
            line: 83,
            column: 63
          }
        }],
        line: 83
      },
      "5": {
        loc: {
          start: {
            line: 92,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 92,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 92
      },
      "6": {
        loc: {
          start: {
            line: 100,
            column: 12
          },
          end: {
            line: 103,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 12
          },
          end: {
            line: 103,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "7": {
        loc: {
          start: {
            line: 100,
            column: 16
          },
          end: {
            line: 100,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 100,
            column: 16
          },
          end: {
            line: 100,
            column: 29
          }
        }, {
          start: {
            line: 100,
            column: 33
          },
          end: {
            line: 100,
            column: 59
          }
        }],
        line: 100
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    inputSourceMap: {
      file: "/workspaces/prompt-card-system/backend/src/services/testing/Semaphore.ts",
      mappings: "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",
      names: [],
      sources: ["/workspaces/prompt-card-system/backend/src/services/testing/Semaphore.ts"],
      sourcesContent: ["/**\n * Semaphore implementation for controlling concurrency\n */\nexport class Semaphore {\n  private currentCount: number;\n  private maxCount: number;\n  private waitingQueue: Array<{\n    resolve: () => void;\n    reject: (error: Error) => void;\n  }> = [];\n\n  constructor(maxCount: number) {\n    this.currentCount = 0;\n    this.maxCount = maxCount;\n  }\n\n  /**\n   * Acquire a permit, resolving when one becomes available\n   */\n  async acquire(): Promise<() => void> {\n    return new Promise((resolve, reject) => {\n      if (this.currentCount < this.maxCount) {\n        this.currentCount++;\n        const release = this.createReleaseFunction();\n        resolve(release);\n      } else {\n        this.waitingQueue.push({\n          resolve: () => {\n            this.currentCount++;\n            const release = this.createReleaseFunction();\n            resolve(release);\n          },\n          reject\n        });\n      }\n    });\n  }\n\n  /**\n   * Try to acquire a permit without waiting\n   */\n  tryAcquire(): (() => void) | null {\n    if (this.currentCount < this.maxCount) {\n      this.currentCount++;\n      return this.createReleaseFunction();\n    }\n    return null;\n  }\n\n  /**\n   * Get current number of acquired permits\n   */\n  getCurrentCount(): number {\n    return this.currentCount;\n  }\n\n  /**\n   * Get number of waiting requests\n   */\n  getWaitingCount(): number {\n    return this.waitingQueue.length;\n  }\n\n  /**\n   * Get available permits\n   */\n  getAvailableCount(): number {\n    return this.maxCount - this.currentCount;\n  }\n\n  private createReleaseFunction(): () => void {\n    let released = false;\n    \n    return () => {\n      if (released) {\n        throw new Error('Semaphore permit already released');\n      }\n      \n      released = true;\n      this.currentCount--;\n      \n      if (this.waitingQueue.length > 0) {\n        const waiter = this.waitingQueue.shift()!;\n        waiter.resolve();\n      }\n    };\n  }\n}\n\n/**\n * Resource-aware semaphore that considers system resources\n */\nexport class ResourceSemaphore extends Semaphore {\n  private resourceChecker: () => Promise<boolean>;\n  private checkInterval: number;\n\n  constructor(\n    maxCount: number,\n    resourceChecker: () => Promise<boolean>,\n    checkInterval: number = 1000\n  ) {\n    super(maxCount);\n    this.resourceChecker = resourceChecker;\n    this.checkInterval = checkInterval;\n    this.startResourceMonitoring();\n  }\n\n  async acquire(): Promise<() => void> {\n    // Check resources before acquiring\n    const hasResources = await this.resourceChecker();\n    if (!hasResources) {\n      throw new Error('Insufficient system resources');\n    }\n    \n    return super.acquire();\n  }\n\n  private startResourceMonitoring(): void {\n    setInterval(async () => {\n      const hasResources = await this.resourceChecker();\n      if (!hasResources && this.getCurrentCount() > 0) {\n        // Log resource constraint but don't interrupt running tasks\n        console.warn('System resources constrained, new tasks will be queued');\n      }\n    }, this.checkInterval);\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f5c9073fb557ebaf9922f8a0694549d21a7d77ec"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2n02p6kykf = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2n02p6kykf();
cov_2n02p6kykf().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2n02p6kykf().s[1]++;
exports.ResourceSemaphore = exports.Semaphore = void 0;
/**
 * Semaphore implementation for controlling concurrency
 */
class Semaphore {
  constructor(maxCount) {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[0]++;
    cov_2n02p6kykf().s[2]++;
    this.waitingQueue = [];
    /* istanbul ignore next */
    cov_2n02p6kykf().s[3]++;
    this.currentCount = 0;
    /* istanbul ignore next */
    cov_2n02p6kykf().s[4]++;
    this.maxCount = maxCount;
  }
  /**
   * Acquire a permit, resolving when one becomes available
   */
  async acquire() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[1]++;
    cov_2n02p6kykf().s[5]++;
    return new Promise((resolve, reject) => {
      /* istanbul ignore next */
      cov_2n02p6kykf().f[2]++;
      cov_2n02p6kykf().s[6]++;
      if (this.currentCount < this.maxCount) {
        /* istanbul ignore next */
        cov_2n02p6kykf().b[0][0]++;
        cov_2n02p6kykf().s[7]++;
        this.currentCount++;
        const release =
        /* istanbul ignore next */
        (cov_2n02p6kykf().s[8]++, this.createReleaseFunction());
        /* istanbul ignore next */
        cov_2n02p6kykf().s[9]++;
        resolve(release);
      } else {
        /* istanbul ignore next */
        cov_2n02p6kykf().b[0][1]++;
        cov_2n02p6kykf().s[10]++;
        this.waitingQueue.push({
          resolve: () => {
            /* istanbul ignore next */
            cov_2n02p6kykf().f[3]++;
            cov_2n02p6kykf().s[11]++;
            this.currentCount++;
            const release =
            /* istanbul ignore next */
            (cov_2n02p6kykf().s[12]++, this.createReleaseFunction());
            /* istanbul ignore next */
            cov_2n02p6kykf().s[13]++;
            resolve(release);
          },
          reject
        });
      }
    });
  }
  /**
   * Try to acquire a permit without waiting
   */
  tryAcquire() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[4]++;
    cov_2n02p6kykf().s[14]++;
    if (this.currentCount < this.maxCount) {
      /* istanbul ignore next */
      cov_2n02p6kykf().b[1][0]++;
      cov_2n02p6kykf().s[15]++;
      this.currentCount++;
      /* istanbul ignore next */
      cov_2n02p6kykf().s[16]++;
      return this.createReleaseFunction();
    } else
    /* istanbul ignore next */
    {
      cov_2n02p6kykf().b[1][1]++;
    }
    cov_2n02p6kykf().s[17]++;
    return null;
  }
  /**
   * Get current number of acquired permits
   */
  getCurrentCount() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[5]++;
    cov_2n02p6kykf().s[18]++;
    return this.currentCount;
  }
  /**
   * Get number of waiting requests
   */
  getWaitingCount() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[6]++;
    cov_2n02p6kykf().s[19]++;
    return this.waitingQueue.length;
  }
  /**
   * Get available permits
   */
  getAvailableCount() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[7]++;
    cov_2n02p6kykf().s[20]++;
    return this.maxCount - this.currentCount;
  }
  createReleaseFunction() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[8]++;
    let released =
    /* istanbul ignore next */
    (cov_2n02p6kykf().s[21]++, false);
    /* istanbul ignore next */
    cov_2n02p6kykf().s[22]++;
    return () => {
      /* istanbul ignore next */
      cov_2n02p6kykf().f[9]++;
      cov_2n02p6kykf().s[23]++;
      if (released) {
        /* istanbul ignore next */
        cov_2n02p6kykf().b[2][0]++;
        cov_2n02p6kykf().s[24]++;
        throw new Error('Semaphore permit already released');
      } else
      /* istanbul ignore next */
      {
        cov_2n02p6kykf().b[2][1]++;
      }
      cov_2n02p6kykf().s[25]++;
      released = true;
      /* istanbul ignore next */
      cov_2n02p6kykf().s[26]++;
      this.currentCount--;
      /* istanbul ignore next */
      cov_2n02p6kykf().s[27]++;
      if (this.waitingQueue.length > 0) {
        /* istanbul ignore next */
        cov_2n02p6kykf().b[3][0]++;
        const waiter =
        /* istanbul ignore next */
        (cov_2n02p6kykf().s[28]++, this.waitingQueue.shift());
        /* istanbul ignore next */
        cov_2n02p6kykf().s[29]++;
        waiter.resolve();
      } else
      /* istanbul ignore next */
      {
        cov_2n02p6kykf().b[3][1]++;
      }
    };
  }
}
/* istanbul ignore next */
cov_2n02p6kykf().s[30]++;
exports.Semaphore = Semaphore;
/**
 * Resource-aware semaphore that considers system resources
 */
class ResourceSemaphore extends Semaphore {
  constructor(maxCount, resourceChecker, checkInterval =
  /* istanbul ignore next */
  (cov_2n02p6kykf().b[4][0]++, 1000)) {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[10]++;
    cov_2n02p6kykf().s[31]++;
    super(maxCount);
    /* istanbul ignore next */
    cov_2n02p6kykf().s[32]++;
    this.resourceChecker = resourceChecker;
    /* istanbul ignore next */
    cov_2n02p6kykf().s[33]++;
    this.checkInterval = checkInterval;
    /* istanbul ignore next */
    cov_2n02p6kykf().s[34]++;
    this.startResourceMonitoring();
  }
  async acquire() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[11]++;
    // Check resources before acquiring
    const hasResources =
    /* istanbul ignore next */
    (cov_2n02p6kykf().s[35]++, await this.resourceChecker());
    /* istanbul ignore next */
    cov_2n02p6kykf().s[36]++;
    if (!hasResources) {
      /* istanbul ignore next */
      cov_2n02p6kykf().b[5][0]++;
      cov_2n02p6kykf().s[37]++;
      throw new Error('Insufficient system resources');
    } else
    /* istanbul ignore next */
    {
      cov_2n02p6kykf().b[5][1]++;
    }
    cov_2n02p6kykf().s[38]++;
    return super.acquire();
  }
  startResourceMonitoring() {
    /* istanbul ignore next */
    cov_2n02p6kykf().f[12]++;
    cov_2n02p6kykf().s[39]++;
    setInterval(async () => {
      /* istanbul ignore next */
      cov_2n02p6kykf().f[13]++;
      const hasResources =
      /* istanbul ignore next */
      (cov_2n02p6kykf().s[40]++, await this.resourceChecker());
      /* istanbul ignore next */
      cov_2n02p6kykf().s[41]++;
      if (
      /* istanbul ignore next */
      (cov_2n02p6kykf().b[7][0]++, !hasResources) &&
      /* istanbul ignore next */
      (cov_2n02p6kykf().b[7][1]++, this.getCurrentCount() > 0)) {
        /* istanbul ignore next */
        cov_2n02p6kykf().b[6][0]++;
        cov_2n02p6kykf().s[42]++;
        // Log resource constraint but don't interrupt running tasks
        console.warn('System resources constrained, new tasks will be queued');
      } else
      /* istanbul ignore next */
      {
        cov_2n02p6kykf().b[6][1]++;
      }
    }, this.checkInterval);
  }
}
/* istanbul ignore next */
cov_2n02p6kykf().s[43]++;
exports.ResourceSemaphore = ResourceSemaphore;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm4wMnA2a3lrZiIsImFjdHVhbENvdmVyYWdlIiwicyIsIlNlbWFwaG9yZSIsImNvbnN0cnVjdG9yIiwibWF4Q291bnQiLCJmIiwid2FpdGluZ1F1ZXVlIiwiY3VycmVudENvdW50IiwiYWNxdWlyZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYiIsInJlbGVhc2UiLCJjcmVhdGVSZWxlYXNlRnVuY3Rpb24iLCJwdXNoIiwidHJ5QWNxdWlyZSIsImdldEN1cnJlbnRDb3VudCIsImdldFdhaXRpbmdDb3VudCIsImxlbmd0aCIsImdldEF2YWlsYWJsZUNvdW50IiwicmVsZWFzZWQiLCJFcnJvciIsIndhaXRlciIsInNoaWZ0IiwiZXhwb3J0cyIsIlJlc291cmNlU2VtYXBob3JlIiwicmVzb3VyY2VDaGVja2VyIiwiY2hlY2tJbnRlcnZhbCIsInN0YXJ0UmVzb3VyY2VNb25pdG9yaW5nIiwiaGFzUmVzb3VyY2VzIiwic2V0SW50ZXJ2YWwiLCJjb25zb2xlIiwid2FybiJdLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9iYWNrZW5kL3NyYy9zZXJ2aWNlcy90ZXN0aW5nL1NlbWFwaG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlbWFwaG9yZSBpbXBsZW1lbnRhdGlvbiBmb3IgY29udHJvbGxpbmcgY29uY3VycmVuY3lcbiAqL1xuZXhwb3J0IGNsYXNzIFNlbWFwaG9yZSB7XG4gIHByaXZhdGUgY3VycmVudENvdW50OiBudW1iZXI7XG4gIHByaXZhdGUgbWF4Q291bnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSB3YWl0aW5nUXVldWU6IEFycmF5PHtcbiAgICByZXNvbHZlOiAoKSA9PiB2b2lkO1xuICAgIHJlamVjdDogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbiAgfT4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihtYXhDb3VudDogbnVtYmVyKSB7XG4gICAgdGhpcy5jdXJyZW50Q291bnQgPSAwO1xuICAgIHRoaXMubWF4Q291bnQgPSBtYXhDb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3F1aXJlIGEgcGVybWl0LCByZXNvbHZpbmcgd2hlbiBvbmUgYmVjb21lcyBhdmFpbGFibGVcbiAgICovXG4gIGFzeW5jIGFjcXVpcmUoKTogUHJvbWlzZTwoKSA9PiB2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRDb3VudCA8IHRoaXMubWF4Q291bnQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Q291bnQrKztcbiAgICAgICAgY29uc3QgcmVsZWFzZSA9IHRoaXMuY3JlYXRlUmVsZWFzZUZ1bmN0aW9uKCk7XG4gICAgICAgIHJlc29sdmUocmVsZWFzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndhaXRpbmdRdWV1ZS5wdXNoKHtcbiAgICAgICAgICByZXNvbHZlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb3VudCsrO1xuICAgICAgICAgICAgY29uc3QgcmVsZWFzZSA9IHRoaXMuY3JlYXRlUmVsZWFzZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlbGVhc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVqZWN0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyeSB0byBhY3F1aXJlIGEgcGVybWl0IHdpdGhvdXQgd2FpdGluZ1xuICAgKi9cbiAgdHJ5QWNxdWlyZSgpOiAoKCkgPT4gdm9pZCkgfCBudWxsIHtcbiAgICBpZiAodGhpcy5jdXJyZW50Q291bnQgPCB0aGlzLm1heENvdW50KSB7XG4gICAgICB0aGlzLmN1cnJlbnRDb3VudCsrO1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUmVsZWFzZUZ1bmN0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IG51bWJlciBvZiBhY3F1aXJlZCBwZXJtaXRzXG4gICAqL1xuICBnZXRDdXJyZW50Q291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50Q291bnQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG51bWJlciBvZiB3YWl0aW5nIHJlcXVlc3RzXG4gICAqL1xuICBnZXRXYWl0aW5nQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy53YWl0aW5nUXVldWUubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhdmFpbGFibGUgcGVybWl0c1xuICAgKi9cbiAgZ2V0QXZhaWxhYmxlQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tYXhDb3VudCAtIHRoaXMuY3VycmVudENvdW50O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVSZWxlYXNlRnVuY3Rpb24oKTogKCkgPT4gdm9pZCB7XG4gICAgbGV0IHJlbGVhc2VkID0gZmFsc2U7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChyZWxlYXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbWFwaG9yZSBwZXJtaXQgYWxyZWFkeSByZWxlYXNlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZWxlYXNlZCA9IHRydWU7XG4gICAgICB0aGlzLmN1cnJlbnRDb3VudC0tO1xuICAgICAgXG4gICAgICBpZiAodGhpcy53YWl0aW5nUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB3YWl0ZXIgPSB0aGlzLndhaXRpbmdRdWV1ZS5zaGlmdCgpITtcbiAgICAgICAgd2FpdGVyLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogUmVzb3VyY2UtYXdhcmUgc2VtYXBob3JlIHRoYXQgY29uc2lkZXJzIHN5c3RlbSByZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc291cmNlU2VtYXBob3JlIGV4dGVuZHMgU2VtYXBob3JlIHtcbiAgcHJpdmF0ZSByZXNvdXJjZUNoZWNrZXI6ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIHByaXZhdGUgY2hlY2tJbnRlcnZhbDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1heENvdW50OiBudW1iZXIsXG4gICAgcmVzb3VyY2VDaGVja2VyOiAoKSA9PiBQcm9taXNlPGJvb2xlYW4+LFxuICAgIGNoZWNrSW50ZXJ2YWw6IG51bWJlciA9IDEwMDBcbiAgKSB7XG4gICAgc3VwZXIobWF4Q291bnQpO1xuICAgIHRoaXMucmVzb3VyY2VDaGVja2VyID0gcmVzb3VyY2VDaGVja2VyO1xuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IGNoZWNrSW50ZXJ2YWw7XG4gICAgdGhpcy5zdGFydFJlc291cmNlTW9uaXRvcmluZygpO1xuICB9XG5cbiAgYXN5bmMgYWNxdWlyZSgpOiBQcm9taXNlPCgpID0+IHZvaWQ+IHtcbiAgICAvLyBDaGVjayByZXNvdXJjZXMgYmVmb3JlIGFjcXVpcmluZ1xuICAgIGNvbnN0IGhhc1Jlc291cmNlcyA9IGF3YWl0IHRoaXMucmVzb3VyY2VDaGVja2VyKCk7XG4gICAgaWYgKCFoYXNSZXNvdXJjZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5zdWZmaWNpZW50IHN5c3RlbSByZXNvdXJjZXMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHN1cGVyLmFjcXVpcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRSZXNvdXJjZU1vbml0b3JpbmcoKTogdm9pZCB7XG4gICAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaGFzUmVzb3VyY2VzID0gYXdhaXQgdGhpcy5yZXNvdXJjZUNoZWNrZXIoKTtcbiAgICAgIGlmICghaGFzUmVzb3VyY2VzICYmIHRoaXMuZ2V0Q3VycmVudENvdW50KCkgPiAwKSB7XG4gICAgICAgIC8vIExvZyByZXNvdXJjZSBjb25zdHJhaW50IGJ1dCBkb24ndCBpbnRlcnJ1cHQgcnVubmluZyB0YXNrc1xuICAgICAgICBjb25zb2xlLndhcm4oJ1N5c3RlbSByZXNvdXJjZXMgY29uc3RyYWluZWQsIG5ldyB0YXNrcyB3aWxsIGJlIHF1ZXVlZCcpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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