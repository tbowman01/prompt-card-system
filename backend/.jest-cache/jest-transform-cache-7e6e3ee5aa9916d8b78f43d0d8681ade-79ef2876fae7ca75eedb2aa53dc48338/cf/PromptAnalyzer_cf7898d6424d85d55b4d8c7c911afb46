78cf7a543e3be144405b62d9b576b77d
"use strict";

/* istanbul ignore next */
function cov_1sj0xwsvp6() {
  var path = "/workspaces/prompt-card-system/backend/src/services/optimization/PromptAnalyzer.ts";
  var hash = "ac4c9c521a26652b4c66ea1b1b33ac7dbf9e994f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/prompt-card-system/backend/src/services/optimization/PromptAnalyzer.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 57
        }
      },
      "2": {
        start: {
          line: 4,
          column: 21
        },
        end: {
          line: 4,
          column: 55
        }
      },
      "3": {
        start: {
          line: 5,
          column: 26
        },
        end: {
          line: 5,
          column: 65
        }
      },
      "4": {
        start: {
          line: 6,
          column: 21
        },
        end: {
          line: 6,
          column: 45
        }
      },
      "5": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 64
        }
      },
      "6": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 79
        }
      },
      "7": {
        start: {
          line: 16,
          column: 27
        },
        end: {
          line: 16,
          column: 94
        }
      },
      "8": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 61,
          column: 9
        }
      },
      "9": {
        start: {
          line: 19,
          column: 36
        },
        end: {
          line: 23,
          column: 14
        }
      },
      "10": {
        start: {
          line: 24,
          column: 37
        },
        end: {
          line: 24,
          column: 135
        }
      },
      "11": {
        start: {
          line: 24,
          column: 69
        },
        end: {
          line: 24,
          column: 134
        }
      },
      "12": {
        start: {
          line: 26,
          column: 28
        },
        end: {
          line: 26,
          column: 73
        }
      },
      "13": {
        start: {
          line: 28,
          column: 29
        },
        end: {
          line: 28,
          column: 94
        }
      },
      "14": {
        start: {
          line: 30,
          column: 34
        },
        end: {
          line: 30,
          column: 85
        }
      },
      "15": {
        start: {
          line: 32,
          column: 36
        },
        end: {
          line: 32,
          column: 116
        }
      },
      "16": {
        start: {
          line: 34,
          column: 27
        },
        end: {
          line: 34,
          column: 65
        }
      },
      "17": {
        start: {
          line: 36,
          column: 35
        },
        end: {
          line: 36,
          column: 79
        }
      },
      "18": {
        start: {
          line: 37,
          column: 27
        },
        end: {
          line: 47,
          column: 13
        }
      },
      "19": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 55,
          column: 15
        }
      },
      "20": {
        start: {
          line: 56,
          column: 12
        },
        end: {
          line: 56,
          column: 26
        }
      },
      "21": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 59,
          column: 60
        }
      },
      "22": {
        start: {
          line: 60,
          column: 12
        },
        end: {
          line: 60,
          column: 115
        }
      },
      "23": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 118,
          column: 9
        }
      },
      "24": {
        start: {
          line: 68,
          column: 29
        },
        end: {
          line: 68,
          column: 88
        }
      },
      "25": {
        start: {
          line: 69,
          column: 29
        },
        end: {
          line: 69,
          column: 88
        }
      },
      "26": {
        start: {
          line: 70,
          column: 29
        },
        end: {
          line: 70,
          column: 64
        }
      },
      "27": {
        start: {
          line: 71,
          column: 29
        },
        end: {
          line: 71,
          column: 64
        }
      },
      "28": {
        start: {
          line: 73,
          column: 27
        },
        end: {
          line: 73,
          column: 64
        }
      },
      "29": {
        start: {
          line: 74,
          column: 27
        },
        end: {
          line: 74,
          column: 64
        }
      },
      "30": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 88,
          column: 13
        }
      },
      "31": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 78,
          column: 31
        }
      },
      "32": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 79,
          column: 59
        }
      },
      "33": {
        start: {
          line: 81,
          column: 17
        },
        end: {
          line: 88,
          column: 13
        }
      },
      "34": {
        start: {
          line: 82,
          column: 16
        },
        end: {
          line: 82,
          column: 29
        }
      },
      "35": {
        start: {
          line: 83,
          column: 16
        },
        end: {
          line: 83,
          column: 74
        }
      },
      "36": {
        start: {
          line: 86,
          column: 16
        },
        end: {
          line: 86,
          column: 29
        }
      },
      "37": {
        start: {
          line: 87,
          column: 16
        },
        end: {
          line: 87,
          column: 74
        }
      },
      "38": {
        start: {
          line: 90,
          column: 35
        },
        end: {
          line: 100,
          column: 7
        }
      },
      "39": {
        start: {
          line: 101,
          column: 29
        },
        end: {
          line: 101,
          column: 90
        }
      },
      "40": {
        start: {
          line: 102,
          column: 12
        },
        end: {
          line: 113,
          column: 14
        }
      },
      "41": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 116,
          column: 61
        }
      },
      "42": {
        start: {
          line: 117,
          column: 12
        },
        end: {
          line: 117,
          column: 117
        }
      },
      "43": {
        start: {
          line: 124,
          column: 32
        },
        end: {
          line: 127,
          column: 10
        }
      },
      "44": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 128,
          column: 56
        }
      },
      "45": {
        start: {
          line: 128,
          column: 44
        },
        end: {
          line: 128,
          column: 54
        }
      },
      "46": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 141,
          column: 9
        }
      },
      "47": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 140,
          column: 14
        }
      },
      "48": {
        start: {
          line: 142,
          column: 32
        },
        end: {
          line: 142,
          column: 54
        }
      },
      "49": {
        start: {
          line: 143,
          column: 37
        },
        end: {
          line: 143,
          column: 86
        }
      },
      "50": {
        start: {
          line: 143,
          column: 65
        },
        end: {
          line: 143,
          column: 78
        }
      },
      "51": {
        start: {
          line: 144,
          column: 36
        },
        end: {
          line: 144,
          column: 120
        }
      },
      "52": {
        start: {
          line: 144,
          column: 71
        },
        end: {
          line: 144,
          column: 98
        }
      },
      "53": {
        start: {
          line: 146,
          column: 30
        },
        end: {
          line: 146,
          column: 77
        }
      },
      "54": {
        start: {
          line: 146,
          column: 55
        },
        end: {
          line: 146,
          column: 76
        }
      },
      "55": {
        start: {
          line: 147,
          column: 25
        },
        end: {
          line: 147,
          column: 62
        }
      },
      "56": {
        start: {
          line: 148,
          column: 33
        },
        end: {
          line: 148,
          column: 90
        }
      },
      "57": {
        start: {
          line: 149,
          column: 8
        },
        end: {
          line: 154,
          column: 10
        }
      },
      "58": {
        start: {
          line: 160,
          column: 33
        },
        end: {
          line: 160,
          column: 75
        }
      },
      "59": {
        start: {
          line: 160,
          column: 61
        },
        end: {
          line: 160,
          column: 74
        }
      },
      "60": {
        start: {
          line: 161,
          column: 29
        },
        end: {
          line: 161,
          column: 72
        }
      },
      "61": {
        start: {
          line: 161,
          column: 57
        },
        end: {
          line: 161,
          column: 71
        }
      },
      "62": {
        start: {
          line: 162,
          column: 31
        },
        end: {
          line: 176,
          column: 5
        }
      },
      "63": {
        start: {
          line: 177,
          column: 8
        },
        end: {
          line: 193,
          column: 9
        }
      },
      "64": {
        start: {
          line: 178,
          column: 29
        },
        end: {
          line: 178,
          column: 83
        }
      },
      "65": {
        start: {
          line: 179,
          column: 29
        },
        end: {
          line: 179,
          column: 58
        }
      },
      "66": {
        start: {
          line: 180,
          column: 12
        },
        end: {
          line: 184,
          column: 14
        }
      },
      "67": {
        start: {
          line: 187,
          column: 12
        },
        end: {
          line: 187,
          column: 62
        }
      },
      "68": {
        start: {
          line: 188,
          column: 12
        },
        end: {
          line: 192,
          column: 14
        }
      },
      "69": {
        start: {
          line: 200,
          column: 29
        },
        end: {
          line: 200,
          column: 48
        }
      },
      "70": {
        start: {
          line: 201,
          column: 34
        },
        end: {
          line: 201,
          column: 94
        }
      },
      "71": {
        start: {
          line: 202,
          column: 33
        },
        end: {
          line: 202,
          column: 57
        }
      },
      "72": {
        start: {
          line: 203,
          column: 29
        },
        end: {
          line: 203,
          column: 84
        }
      },
      "73": {
        start: {
          line: 204,
          column: 31
        },
        end: {
          line: 207,
          column: 30
        }
      },
      "74": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 225,
          column: 9
        }
      },
      "75": {
        start: {
          line: 211,
          column: 12
        },
        end: {
          line: 211,
          column: 35
        }
      },
      "76": {
        start: {
          line: 212,
          column: 12
        },
        end: {
          line: 212,
          column: 101
        }
      },
      "77": {
        start: {
          line: 214,
          column: 13
        },
        end: {
          line: 225,
          column: 9
        }
      },
      "78": {
        start: {
          line: 215,
          column: 12
        },
        end: {
          line: 215,
          column: 30
        }
      },
      "79": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 216,
          column: 76
        }
      },
      "80": {
        start: {
          line: 218,
          column: 13
        },
        end: {
          line: 225,
          column: 9
        }
      },
      "81": {
        start: {
          line: 219,
          column: 12
        },
        end: {
          line: 219,
          column: 30
        }
      },
      "82": {
        start: {
          line: 220,
          column: 12
        },
        end: {
          line: 220,
          column: 89
        }
      },
      "83": {
        start: {
          line: 223,
          column: 12
        },
        end: {
          line: 223,
          column: 30
        }
      },
      "84": {
        start: {
          line: 224,
          column: 12
        },
        end: {
          line: 224,
          column: 97
        }
      },
      "85": {
        start: {
          line: 226,
          column: 8
        },
        end: {
          line: 230,
          column: 10
        }
      },
      "86": {
        start: {
          line: 236,
          column: 37
        },
        end: {
          line: 252,
          column: 5
        }
      },
      "87": {
        start: {
          line: 253,
          column: 8
        },
        end: {
          line: 273,
          column: 9
        }
      },
      "88": {
        start: {
          line: 254,
          column: 29
        },
        end: {
          line: 254,
          column: 89
        }
      },
      "89": {
        start: {
          line: 255,
          column: 36
        },
        end: {
          line: 255,
          column: 65
        }
      },
      "90": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 261,
          column: 16
        }
      },
      "91": {
        start: {
          line: 256,
          column: 49
        },
        end: {
          line: 261,
          column: 13
        }
      },
      "92": {
        start: {
          line: 264,
          column: 12
        },
        end: {
          line: 264,
          column: 70
        }
      },
      "93": {
        start: {
          line: 265,
          column: 12
        },
        end: {
          line: 272,
          column: 14
        }
      },
      "94": {
        start: {
          line: 279,
          column: 30
        },
        end: {
          line: 279,
          column: 69
        }
      },
      "95": {
        start: {
          line: 280,
          column: 36
        },
        end: {
          line: 284,
          column: 11
        }
      },
      "96": {
        start: {
          line: 280,
          column: 64
        },
        end: {
          line: 284,
          column: 9
        }
      },
      "97": {
        start: {
          line: 283,
          column: 48
        },
        end: {
          line: 283,
          column: 79
        }
      },
      "98": {
        start: {
          line: 285,
          column: 36
        },
        end: {
          line: 289,
          column: 11
        }
      },
      "99": {
        start: {
          line: 285,
          column: 64
        },
        end: {
          line: 289,
          column: 9
        }
      },
      "100": {
        start: {
          line: 288,
          column: 41
        },
        end: {
          line: 288,
          column: 54
        }
      },
      "101": {
        start: {
          line: 290,
          column: 8
        },
        end: {
          line: 293,
          column: 10
        }
      },
      "102": {
        start: {
          line: 299,
          column: 31
        },
        end: {
          line: 299,
          column: 33
        }
      },
      "103": {
        start: {
          line: 301,
          column: 34
        },
        end: {
          line: 310,
          column: 9
        }
      },
      "104": {
        start: {
          line: 311,
          column: 8
        },
        end: {
          line: 320,
          column: 9
        }
      },
      "105": {
        start: {
          line: 312,
          column: 12
        },
        end: {
          line: 319,
          column: 13
        }
      },
      "106": {
        start: {
          line: 313,
          column: 16
        },
        end: {
          line: 318,
          column: 19
        }
      },
      "107": {
        start: {
          line: 322,
          column: 34
        },
        end: {
          line: 329,
          column: 9
        }
      },
      "108": {
        start: {
          line: 330,
          column: 8
        },
        end: {
          line: 339,
          column: 9
        }
      },
      "109": {
        start: {
          line: 331,
          column: 12
        },
        end: {
          line: 338,
          column: 13
        }
      },
      "110": {
        start: {
          line: 332,
          column: 16
        },
        end: {
          line: 337,
          column: 19
        }
      },
      "111": {
        start: {
          line: 341,
          column: 37
        },
        end: {
          line: 347,
          column: 9
        }
      },
      "112": {
        start: {
          line: 348,
          column: 8
        },
        end: {
          line: 357,
          column: 9
        }
      },
      "113": {
        start: {
          line: 349,
          column: 12
        },
        end: {
          line: 356,
          column: 13
        }
      },
      "114": {
        start: {
          line: 350,
          column: 16
        },
        end: {
          line: 355,
          column: 19
        }
      },
      "115": {
        start: {
          line: 358,
          column: 8
        },
        end: {
          line: 358,
          column: 30
        }
      },
      "116": {
        start: {
          line: 364,
          column: 24
        },
        end: {
          line: 364,
          column: 26
        }
      },
      "117": {
        start: {
          line: 365,
          column: 8
        },
        end: {
          line: 379,
          column: 9
        }
      },
      "118": {
        start: {
          line: 366,
          column: 30
        },
        end: {
          line: 366,
          column: 40
        }
      },
      "119": {
        start: {
          line: 367,
          column: 31
        },
        end: {
          line: 367,
          column: 70
        }
      },
      "120": {
        start: {
          line: 368,
          column: 12
        },
        end: {
          line: 378,
          column: 13
        }
      },
      "121": {
        start: {
          line: 369,
          column: 33
        },
        end: {
          line: 369,
          column: 90
        }
      },
      "122": {
        start: {
          line: 370,
          column: 37
        },
        end: {
          line: 370,
          column: 59
        }
      },
      "123": {
        start: {
          line: 372,
          column: 32
        },
        end: {
          line: 372,
          column: 105
        }
      },
      "124": {
        start: {
          line: 373,
          column: 32
        },
        end: {
          line: 373,
          column: 45
        }
      },
      "125": {
        start: {
          line: 374,
          column: 16
        },
        end: {
          line: 374,
          column: 65
        }
      },
      "126": {
        start: {
          line: 377,
          column: 16
        },
        end: {
          line: 377,
          column: 99
        }
      },
      "127": {
        start: {
          line: 380,
          column: 8
        },
        end: {
          line: 380,
          column: 23
        }
      },
      "128": {
        start: {
          line: 386,
          column: 27
        },
        end: {
          line: 386,
          column: 41
        }
      },
      "129": {
        start: {
          line: 387,
          column: 32
        },
        end: {
          line: 387,
          column: 69
        }
      },
      "130": {
        start: {
          line: 387,
          column: 52
        },
        end: {
          line: 387,
          column: 61
        }
      },
      "131": {
        start: {
          line: 388,
          column: 36
        },
        end: {
          line: 388,
          column: 100
        }
      },
      "132": {
        start: {
          line: 388,
          column: 63
        },
        end: {
          line: 388,
          column: 83
        }
      },
      "133": {
        start: {
          line: 389,
          column: 31
        },
        end: {
          line: 389,
          column: 90
        }
      },
      "134": {
        start: {
          line: 389,
          column: 58
        },
        end: {
          line: 389,
          column: 73
        }
      },
      "135": {
        start: {
          line: 390,
          column: 8
        },
        end: {
          line: 394,
          column: 10
        }
      },
      "136": {
        start: {
          line: 401,
          column: 39
        },
        end: {
          line: 401,
          column: 92
        }
      },
      "137": {
        start: {
          line: 403,
          column: 8
        },
        end: {
          line: 405,
          column: 48
        }
      },
      "138": {
        start: {
          line: 411,
          column: 30
        },
        end: {
          line: 411,
          column: 65
        }
      },
      "139": {
        start: {
          line: 412,
          column: 30
        },
        end: {
          line: 412,
          column: 65
        }
      },
      "140": {
        start: {
          line: 413,
          column: 28
        },
        end: {
          line: 413,
          column: 86
        }
      },
      "141": {
        start: {
          line: 413,
          column: 57
        },
        end: {
          line: 413,
          column: 85
        }
      },
      "142": {
        start: {
          line: 414,
          column: 27
        },
        end: {
          line: 414,
          column: 100
        }
      },
      "143": {
        start: {
          line: 415,
          column: 8
        },
        end: {
          line: 415,
          column: 43
        }
      },
      "144": {
        start: {
          line: 421,
          column: 23
        },
        end: {
          line: 421,
          column: 32
        }
      },
      "145": {
        start: {
          line: 422,
          column: 8
        },
        end: {
          line: 429,
          column: 11
        }
      },
      "146": {
        start: {
          line: 423,
          column: 30
        },
        end: {
          line: 423,
          column: 55
        }
      },
      "147": {
        start: {
          line: 424,
          column: 28
        },
        end: {
          line: 424,
          column: 127
        }
      },
      "148": {
        start: {
          line: 425,
          column: 12
        },
        end: {
          line: 427,
          column: 13
        }
      },
      "149": {
        start: {
          line: 426,
          column: 16
        },
        end: {
          line: 426,
          column: 40
        }
      },
      "150": {
        start: {
          line: 428,
          column: 12
        },
        end: {
          line: 428,
          column: 44
        }
      },
      "151": {
        start: {
          line: 430,
          column: 8
        },
        end: {
          line: 436,
          column: 75
        }
      },
      "152": {
        start: {
          line: 432,
          column: 26
        },
        end: {
          line: 432,
          column: 52
        }
      },
      "153": {
        start: {
          line: 433,
          column: 30
        },
        end: {
          line: 433,
          column: 78
        }
      },
      "154": {
        start: {
          line: 434,
          column: 12
        },
        end: {
          line: 434,
          column: 41
        }
      },
      "155": {
        start: {
          line: 436,
          column: 28
        },
        end: {
          line: 436,
          column: 73
        }
      },
      "156": {
        start: {
          line: 442,
          column: 21
        },
        end: {
          line: 442,
          column: 80
        }
      },
      "157": {
        start: {
          line: 442,
          column: 50
        },
        end: {
          line: 442,
          column: 59
        }
      },
      "158": {
        start: {
          line: 443,
          column: 29
        },
        end: {
          line: 443,
          column: 72
        }
      },
      "159": {
        start: {
          line: 443,
          column: 48
        },
        end: {
          line: 443,
          column: 71
        }
      },
      "160": {
        start: {
          line: 444,
          column: 8
        },
        end: {
          line: 444,
          column: 82
        }
      },
      "161": {
        start: {
          line: 444,
          column: 50
        },
        end: {
          line: 444,
          column: 60
        }
      },
      "162": {
        start: {
          line: 450,
          column: 20
        },
        end: {
          line: 450,
          column: 30
        }
      },
      "163": {
        start: {
          line: 451,
          column: 22
        },
        end: {
          line: 451,
          column: 32
        }
      },
      "164": {
        start: {
          line: 452,
          column: 8
        },
        end: {
          line: 452,
          column: 41
        }
      },
      "165": {
        start: {
          line: 453,
          column: 8
        },
        end: {
          line: 453,
          column: 30
        }
      },
      "166": {
        start: {
          line: 456,
          column: 0
        },
        end: {
          line: 456,
          column: 40
        }
      },
      "167": {
        start: {
          line: 458,
          column: 0
        },
        end: {
          line: 458,
          column: 46
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 8,
            column: 5
          }
        },
        loc: {
          start: {
            line: 8,
            column: 18
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 86
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 24,
            column: 60
          },
          end: {
            line: 24,
            column: 61
          }
        },
        loc: {
          start: {
            line: 24,
            column: 69
          },
          end: {
            line: 24,
            column: 134
          }
        },
        line: 24
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 66,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        },
        loc: {
          start: {
            line: 66,
            column: 72
          },
          end: {
            line: 119,
            column: 5
          }
        },
        line: 66
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 123,
            column: 4
          },
          end: {
            line: 123,
            column: 5
          }
        },
        loc: {
          start: {
            line: 123,
            column: 39
          },
          end: {
            line: 129,
            column: 5
          }
        },
        line: 123
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 128,
            column: 35
          },
          end: {
            line: 128,
            column: 36
          }
        },
        loc: {
          start: {
            line: 128,
            column: 44
          },
          end: {
            line: 128,
            column: 54
          }
        },
        line: 128
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        },
        loc: {
          start: {
            line: 133,
            column: 44
          },
          end: {
            line: 155,
            column: 5
          }
        },
        line: 133
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 143,
            column: 60
          },
          end: {
            line: 143,
            column: 61
          }
        },
        loc: {
          start: {
            line: 143,
            column: 65
          },
          end: {
            line: 143,
            column: 78
          }
        },
        line: 143
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 144,
            column: 59
          },
          end: {
            line: 144,
            column: 60
          }
        },
        loc: {
          start: {
            line: 144,
            column: 71
          },
          end: {
            line: 144,
            column: 98
          }
        },
        line: 144
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 146,
            column: 50
          },
          end: {
            line: 146,
            column: 51
          }
        },
        loc: {
          start: {
            line: 146,
            column: 55
          },
          end: {
            line: 146,
            column: 76
          }
        },
        line: 146
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 159,
            column: 5
          }
        },
        loc: {
          start: {
            line: 159,
            column: 64
          },
          end: {
            line: 194,
            column: 5
          }
        },
        line: 159
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 160,
            column: 56
          },
          end: {
            line: 160,
            column: 57
          }
        },
        loc: {
          start: {
            line: 160,
            column: 61
          },
          end: {
            line: 160,
            column: 74
          }
        },
        line: 160
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 161,
            column: 52
          },
          end: {
            line: 161,
            column: 53
          }
        },
        loc: {
          start: {
            line: 161,
            column: 57
          },
          end: {
            line: 161,
            column: 71
          }
        },
        line: 161
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 198,
            column: 4
          },
          end: {
            line: 198,
            column: 5
          }
        },
        loc: {
          start: {
            line: 198,
            column: 51
          },
          end: {
            line: 231,
            column: 5
          }
        },
        line: 198
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        },
        loc: {
          start: {
            line: 235,
            column: 80
          },
          end: {
            line: 274,
            column: 5
          }
        },
        line: 235
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 256,
            column: 39
          },
          end: {
            line: 256,
            column: 40
          }
        },
        loc: {
          start: {
            line: 256,
            column: 49
          },
          end: {
            line: 261,
            column: 13
          }
        },
        line: 256
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 278,
            column: 4
          },
          end: {
            line: 278,
            column: 5
          }
        },
        loc: {
          start: {
            line: 278,
            column: 37
          },
          end: {
            line: 294,
            column: 5
          }
        },
        line: 278
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 280,
            column: 54
          },
          end: {
            line: 280,
            column: 55
          }
        },
        loc: {
          start: {
            line: 280,
            column: 64
          },
          end: {
            line: 284,
            column: 9
          }
        },
        line: 280
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 283,
            column: 36
          },
          end: {
            line: 283,
            column: 37
          }
        },
        loc: {
          start: {
            line: 283,
            column: 48
          },
          end: {
            line: 283,
            column: 79
          }
        },
        line: 283
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 285,
            column: 54
          },
          end: {
            line: 285,
            column: 55
          }
        },
        loc: {
          start: {
            line: 285,
            column: 64
          },
          end: {
            line: 289,
            column: 9
          }
        },
        line: 285
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 288,
            column: 36
          },
          end: {
            line: 288,
            column: 37
          }
        },
        loc: {
          start: {
            line: 288,
            column: 41
          },
          end: {
            line: 288,
            column: 54
          }
        },
        line: 288
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 298,
            column: 4
          },
          end: {
            line: 298,
            column: 5
          }
        },
        loc: {
          start: {
            line: 298,
            column: 44
          },
          end: {
            line: 359,
            column: 5
          }
        },
        line: 298
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 363,
            column: 4
          },
          end: {
            line: 363,
            column: 5
          }
        },
        loc: {
          start: {
            line: 363,
            column: 58
          },
          end: {
            line: 381,
            column: 5
          }
        },
        line: 363
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 385,
            column: 4
          },
          end: {
            line: 385,
            column: 5
          }
        },
        loc: {
          start: {
            line: 385,
            column: 34
          },
          end: {
            line: 395,
            column: 5
          }
        },
        line: 385
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 387,
            column: 47
          },
          end: {
            line: 387,
            column: 48
          }
        },
        loc: {
          start: {
            line: 387,
            column: 52
          },
          end: {
            line: 387,
            column: 61
          }
        },
        line: 387
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 388,
            column: 51
          },
          end: {
            line: 388,
            column: 52
          }
        },
        loc: {
          start: {
            line: 388,
            column: 63
          },
          end: {
            line: 388,
            column: 83
          }
        },
        line: 388
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 389,
            column: 46
          },
          end: {
            line: 389,
            column: 47
          }
        },
        loc: {
          start: {
            line: 389,
            column: 58
          },
          end: {
            line: 389,
            column: 73
          }
        },
        line: 389
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 399,
            column: 4
          },
          end: {
            line: 399,
            column: 5
          }
        },
        loc: {
          start: {
            line: 399,
            column: 36
          },
          end: {
            line: 406,
            column: 5
          }
        },
        line: 399
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 410,
            column: 4
          },
          end: {
            line: 410,
            column: 5
          }
        },
        loc: {
          start: {
            line: 410,
            column: 49
          },
          end: {
            line: 416,
            column: 5
          }
        },
        line: 410
      },
      "29": {
        name: "(anonymous_29)",
        decl: {
          start: {
            line: 413,
            column: 49
          },
          end: {
            line: 413,
            column: 50
          }
        },
        loc: {
          start: {
            line: 413,
            column: 57
          },
          end: {
            line: 413,
            column: 85
          }
        },
        line: 413
      },
      "30": {
        name: "(anonymous_30)",
        decl: {
          start: {
            line: 420,
            column: 4
          },
          end: {
            line: 420,
            column: 5
          }
        },
        loc: {
          start: {
            line: 420,
            column: 30
          },
          end: {
            line: 437,
            column: 5
          }
        },
        line: 420
      },
      "31": {
        name: "(anonymous_31)",
        decl: {
          start: {
            line: 422,
            column: 23
          },
          end: {
            line: 422,
            column: 24
          }
        },
        loc: {
          start: {
            line: 422,
            column: 32
          },
          end: {
            line: 429,
            column: 9
          }
        },
        line: 422
      },
      "32": {
        name: "(anonymous_32)",
        decl: {
          start: {
            line: 431,
            column: 17
          },
          end: {
            line: 431,
            column: 18
          }
        },
        loc: {
          start: {
            line: 431,
            column: 36
          },
          end: {
            line: 435,
            column: 9
          }
        },
        line: 431
      },
      "33": {
        name: "(anonymous_33)",
        decl: {
          start: {
            line: 436,
            column: 18
          },
          end: {
            line: 436,
            column: 19
          }
        },
        loc: {
          start: {
            line: 436,
            column: 28
          },
          end: {
            line: 436,
            column: 73
          }
        },
        line: 436
      },
      "34": {
        name: "(anonymous_34)",
        decl: {
          start: {
            line: 441,
            column: 4
          },
          end: {
            line: 441,
            column: 5
          }
        },
        loc: {
          start: {
            line: 441,
            column: 31
          },
          end: {
            line: 445,
            column: 5
          }
        },
        line: 441
      },
      "35": {
        name: "(anonymous_35)",
        decl: {
          start: {
            line: 442,
            column: 36
          },
          end: {
            line: 442,
            column: 37
          }
        },
        loc: {
          start: {
            line: 442,
            column: 50
          },
          end: {
            line: 442,
            column: 59
          }
        },
        line: 442
      },
      "36": {
        name: "(anonymous_36)",
        decl: {
          start: {
            line: 443,
            column: 41
          },
          end: {
            line: 443,
            column: 42
          }
        },
        loc: {
          start: {
            line: 443,
            column: 48
          },
          end: {
            line: 443,
            column: 71
          }
        },
        line: 443
      },
      "37": {
        name: "(anonymous_37)",
        decl: {
          start: {
            line: 444,
            column: 35
          },
          end: {
            line: 444,
            column: 36
          }
        },
        loc: {
          start: {
            line: 444,
            column: 50
          },
          end: {
            line: 444,
            column: 60
          }
        },
        line: 444
      },
      "38": {
        name: "(anonymous_38)",
        decl: {
          start: {
            line: 449,
            column: 4
          },
          end: {
            line: 449,
            column: 5
          }
        },
        loc: {
          start: {
            line: 449,
            column: 26
          },
          end: {
            line: 454,
            column: 5
          }
        },
        line: 449
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 15,
            column: 46
          },
          end: {
            line: 15,
            column: 84
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 15,
            column: 58
          },
          end: {
            line: 15,
            column: 84
          }
        }],
        line: 15
      },
      "1": {
        loc: {
          start: {
            line: 24,
            column: 69
          },
          end: {
            line: 24,
            column: 134
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 24,
            column: 69
          },
          end: {
            line: 24,
            column: 97
          }
        }, {
          start: {
            line: 24,
            column: 101
          },
          end: {
            line: 24,
            column: 134
          }
        }],
        line: 24
      },
      "2": {
        loc: {
          start: {
            line: 60,
            column: 55
          },
          end: {
            line: 60,
            column: 111
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 60,
            column: 80
          },
          end: {
            line: 60,
            column: 93
          }
        }, {
          start: {
            line: 60,
            column: 96
          },
          end: {
            line: 60,
            column: 111
          }
        }],
        line: 60
      },
      "3": {
        loc: {
          start: {
            line: 66,
            column: 54
          },
          end: {
            line: 66,
            column: 70
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 66,
            column: 62
          },
          end: {
            line: 66,
            column: 70
          }
        }],
        line: 66
      },
      "4": {
        loc: {
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        }, {
          start: {
            line: 81,
            column: 17
          },
          end: {
            line: 88,
            column: 13
          }
        }],
        line: 77
      },
      "5": {
        loc: {
          start: {
            line: 81,
            column: 17
          },
          end: {
            line: 88,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 81,
            column: 17
          },
          end: {
            line: 88,
            column: 13
          }
        }, {
          start: {
            line: 85,
            column: 17
          },
          end: {
            line: 88,
            column: 13
          }
        }],
        line: 81
      },
      "6": {
        loc: {
          start: {
            line: 117,
            column: 57
          },
          end: {
            line: 117,
            column: 113
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 117,
            column: 82
          },
          end: {
            line: 117,
            column: 95
          }
        }, {
          start: {
            line: 117,
            column: 98
          },
          end: {
            line: 117,
            column: 113
          }
        }],
        line: 117
      },
      "7": {
        loc: {
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 141,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 141,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 134
      },
      "8": {
        loc: {
          start: {
            line: 181,
            column: 33
          },
          end: {
            line: 181,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 181,
            column: 33
          },
          end: {
            line: 181,
            column: 57
          }
        }, {
          start: {
            line: 181,
            column: 61
          },
          end: {
            line: 181,
            column: 63
          }
        }],
        line: 181
      },
      "9": {
        loc: {
          start: {
            line: 182,
            column: 33
          },
          end: {
            line: 182,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 182,
            column: 33
          },
          end: {
            line: 182,
            column: 57
          }
        }, {
          start: {
            line: 182,
            column: 61
          },
          end: {
            line: 182,
            column: 63
          }
        }],
        line: 182
      },
      "10": {
        loc: {
          start: {
            line: 183,
            column: 30
          },
          end: {
            line: 183,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 183,
            column: 30
          },
          end: {
            line: 183,
            column: 51
          }
        }, {
          start: {
            line: 183,
            column: 55
          },
          end: {
            line: 183,
            column: 57
          }
        }],
        line: 183
      },
      "11": {
        loc: {
          start: {
            line: 210,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 210,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        }, {
          start: {
            line: 214,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        }],
        line: 210
      },
      "12": {
        loc: {
          start: {
            line: 214,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 214,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        }, {
          start: {
            line: 218,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        }],
        line: 214
      },
      "13": {
        loc: {
          start: {
            line: 218,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 218,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        }, {
          start: {
            line: 222,
            column: 13
          },
          end: {
            line: 225,
            column: 9
          }
        }],
        line: 218
      },
      "14": {
        loc: {
          start: {
            line: 257,
            column: 26
          },
          end: {
            line: 257,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 257,
            column: 26
          },
          end: {
            line: 257,
            column: 38
          }
        }, {
          start: {
            line: 257,
            column: 42
          },
          end: {
            line: 257,
            column: 50
          }
        }],
        line: 257
      },
      "15": {
        loc: {
          start: {
            line: 258,
            column: 22
          },
          end: {
            line: 258,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 258,
            column: 22
          },
          end: {
            line: 258,
            column: 30
          }
        }, {
          start: {
            line: 258,
            column: 34
          },
          end: {
            line: 258,
            column: 45
          }
        }],
        line: 258
      },
      "16": {
        loc: {
          start: {
            line: 259,
            column: 28
          },
          end: {
            line: 259,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 259,
            column: 28
          },
          end: {
            line: 259,
            column: 42
          }
        }, {
          start: {
            line: 259,
            column: 46
          },
          end: {
            line: 259,
            column: 79
          }
        }],
        line: 259
      },
      "17": {
        loc: {
          start: {
            line: 260,
            column: 37
          },
          end: {
            line: 260,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 260,
            column: 37
          },
          end: {
            line: 260,
            column: 60
          }
        }, {
          start: {
            line: 260,
            column: 64
          },
          end: {
            line: 260,
            column: 65
          }
        }],
        line: 260
      },
      "18": {
        loc: {
          start: {
            line: 282,
            column: 19
          },
          end: {
            line: 283,
            column: 109
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 283,
            column: 16
          },
          end: {
            line: 283,
            column: 105
          }
        }, {
          start: {
            line: 283,
            column: 108
          },
          end: {
            line: 283,
            column: 109
          }
        }],
        line: 282
      },
      "19": {
        loc: {
          start: {
            line: 283,
            column: 55
          },
          end: {
            line: 283,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 283,
            column: 71
          },
          end: {
            line: 283,
            column: 74
          }
        }, {
          start: {
            line: 283,
            column: 77
          },
          end: {
            line: 283,
            column: 78
          }
        }],
        line: 283
      },
      "20": {
        loc: {
          start: {
            line: 287,
            column: 18
          },
          end: {
            line: 288,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 288,
            column: 16
          },
          end: {
            line: 288,
            column: 84
          }
        }, {
          start: {
            line: 288,
            column: 87
          },
          end: {
            line: 288,
            column: 88
          }
        }],
        line: 287
      },
      "21": {
        loc: {
          start: {
            line: 312,
            column: 12
          },
          end: {
            line: 319,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 312,
            column: 12
          },
          end: {
            line: 319,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 312
      },
      "22": {
        loc: {
          start: {
            line: 331,
            column: 12
          },
          end: {
            line: 338,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 331,
            column: 12
          },
          end: {
            line: 338,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 331
      },
      "23": {
        loc: {
          start: {
            line: 349,
            column: 12
          },
          end: {
            line: 356,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 349,
            column: 12
          },
          end: {
            line: 356,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 349
      },
      "24": {
        loc: {
          start: {
            line: 425,
            column: 12
          },
          end: {
            line: 427,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 425,
            column: 12
          },
          end: {
            line: 427,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 425
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0]
    },
    inputSourceMap: {
      file: "/workspaces/prompt-card-system/backend/src/services/optimization/PromptAnalyzer.ts",
      mappings: "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",
      names: [],
      sources: ["/workspaces/prompt-card-system/backend/src/services/optimization/PromptAnalyzer.ts"],
      sourcesContent: ["import { EventStore } from '../analytics/EventStore';\nimport { AnalyticsEngine } from '../analytics/AnalyticsEngine';\nimport { llmService } from '../llmService';\nimport { EnhancedAssertionResult } from '../assertions/AssertionEngine';\n\nexport interface PromptAnalysisResult {\n  promptId: string;\n  analysisId: string;\n  effectiveness: {\n    score: number; // 0-100\n    category: 'poor' | 'fair' | 'good' | 'excellent';\n    reasoning: string;\n  };\n  patterns: {\n    successPatterns: string[];\n    failurePatterns: string[];\n    commonErrors: string[];\n  };\n  metrics: {\n    averageResponseTime: number;\n    successRate: number;\n    totalExecutions: number;\n    consistencyScore: number;\n  };\n  recommendations: {\n    priority: 'low' | 'medium' | 'high' | 'critical';\n    type: 'structure' | 'clarity' | 'specificity' | 'context' | 'security';\n    suggestion: string;\n    expectedImprovement: number; // percentage\n  }[];\n  trends: {\n    performanceOverTime: Array<{ timestamp: Date; score: number }>;\n    successRateOverTime: Array<{ timestamp: Date; rate: number }>;\n  };\n  securityIssues: {\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    type: 'injection' | 'leakage' | 'manipulation' | 'compliance';\n    description: string;\n    recommendation: string;\n  }[];\n  timestamp: Date;\n}\n\nexport interface PromptComparisonResult {\n  promptA: string;\n  promptB: string;\n  winner: 'A' | 'B' | 'tie';\n  confidence: number;\n  metrics: {\n    responseTime: { A: number; B: number };\n    successRate: { A: number; B: number };\n    qualityScore: { A: number; B: number };\n  };\n  analysis: string;\n}\n\nexport class PromptAnalyzer {\n  private eventStore: EventStore;\n  private analyticsEngine: AnalyticsEngine;\n  \n  constructor() {\n    this.eventStore = EventStore.getInstance();\n    this.analyticsEngine = AnalyticsEngine.getInstance();\n  }\n\n  /**\n   * Analyze prompt effectiveness using historical data and AI insights\n   */\n  async analyzePrompt(\n    promptId: string,\n    promptText: string,\n    timeRange: { start: Date; end: Date } = this.getDefaultTimeRange()\n  ): Promise<PromptAnalysisResult> {\n    const analysisId = `analysis_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    \n    try {\n      // Gather historical execution data\n      const executionEvents = await this.eventStore.getEvents({\n        event_type: 'test_execution',\n        start_time: timeRange.start,\n        end_time: timeRange.end\n      });\n\n      const promptExecutions = executionEvents.filter(event => \n        event.entity_id === promptId || event.data.prompt_id === promptId\n      );\n\n      // Calculate basic metrics\n      const metrics = this.calculatePromptMetrics(promptExecutions);\n      \n      // Analyze patterns using AI\n      const patterns = await this.analyzeExecutionPatterns(promptExecutions, promptText);\n      \n      // Generate effectiveness score\n      const effectiveness = this.calculateEffectivenessScore(metrics, patterns);\n      \n      // Generate AI-powered recommendations\n      const recommendations = await this.generateRecommendations(\n        promptText, \n        metrics, \n        patterns, \n        effectiveness\n      );\n      \n      // Calculate trends\n      const trends = this.calculateTrends(promptExecutions);\n      \n      // Perform security analysis\n      const securityIssues = await this.analyzeSecurityIssues(promptText);\n      \n      const result: PromptAnalysisResult = {\n        promptId,\n        analysisId,\n        effectiveness,\n        patterns,\n        metrics,\n        recommendations,\n        trends,\n        securityIssues,\n        timestamp: new Date()\n      };\n\n      // Store analysis result\n      await this.eventStore.recordEvent({\n        event_type: 'prompt_analysis',\n        entity_id: promptId,\n        entity_type: 'prompt',\n        data: result,\n        timestamp: new Date()\n      });\n\n      return result;\n    } catch (error) {\n      console.error('Error analyzing prompt:', error);\n      throw new Error(`Prompt analysis failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  /**\n   * Compare two prompts and determine which performs better\n   */\n  async comparePrompts(\n    promptA: string,\n    promptB: string,\n    testCases: Array<{ input: string; expectedOutput: string }>,\n    model: string = 'llama3'\n  ): Promise<PromptComparisonResult> {\n    try {\n      const resultsA = await this.testPromptPerformance(promptA, testCases, model);\n      const resultsB = await this.testPromptPerformance(promptB, testCases, model);\n      \n      const metricsA = this.calculateTestMetrics(resultsA);\n      const metricsB = this.calculateTestMetrics(resultsB);\n      \n      // Determine winner based on weighted scoring\n      const scoreA = this.calculateWeightedScore(metricsA);\n      const scoreB = this.calculateWeightedScore(metricsB);\n      \n      let winner: 'A' | 'B' | 'tie';\n      let confidence: number;\n      \n      if (Math.abs(scoreA - scoreB) < 0.1) {\n        winner = 'tie';\n        confidence = 1 - Math.abs(scoreA - scoreB);\n      } else if (scoreA > scoreB) {\n        winner = 'A';\n        confidence = (scoreA - scoreB) / Math.max(scoreA, scoreB);\n      } else {\n        winner = 'B';\n        confidence = (scoreB - scoreA) / Math.max(scoreA, scoreB);\n      }\n      \n      // Generate AI analysis\n      const analysisPrompt = `\n        Compare these two prompts and their performance:\n        \n        Prompt A: \"${promptA}\"\n        Metrics A: Response Time: ${metricsA.responseTime}ms, Success Rate: ${metricsA.successRate}%, Quality: ${metricsA.qualityScore}\n        \n        Prompt B: \"${promptB}\"  \n        Metrics B: Response Time: ${metricsB.responseTime}ms, Success Rate: ${metricsB.successRate}%, Quality: ${metricsB.qualityScore}\n        \n        Provide a detailed analysis of the differences and why one performs better.\n      `;\n      \n      const analysis = await llmService.generate(analysisPrompt, model);\n      \n      return {\n        promptA,\n        promptB,\n        winner,\n        confidence,\n        metrics: {\n          responseTime: { A: metricsA.responseTime, B: metricsB.responseTime },\n          successRate: { A: metricsA.successRate, B: metricsB.successRate },\n          qualityScore: { A: metricsA.qualityScore, B: metricsB.qualityScore }\n        },\n        analysis: analysis.response\n      };\n    } catch (error) {\n      console.error('Error comparing prompts:', error);\n      throw new Error(`Prompt comparison failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  }\n\n  /**\n   * Get evolution history of a prompt\n   */\n  async getPromptEvolution(promptId: string): Promise<Array<{\n    version: string;\n    timestamp: Date;\n    changes: string[];\n    performance: {\n      successRate: number;\n      responseTime: number;\n      qualityScore: number;\n    };\n    reasoning: string;\n  }>> {\n    const evolutionEvents = await this.eventStore.getEvents({\n      event_type: 'prompt_evolution',\n      entity_id: promptId\n    });\n    \n    return evolutionEvents.map(event => event.data);\n  }\n\n  /**\n   * Calculate basic metrics from execution events\n   */\n  private calculatePromptMetrics(executionEvents: any[]): PromptAnalysisResult['metrics'] {\n    if (executionEvents.length === 0) {\n      return {\n        averageResponseTime: 0,\n        successRate: 0,\n        totalExecutions: 0,\n        consistencyScore: 0\n      };\n    }\n\n    const totalExecutions = executionEvents.length;\n    const successfulExecutions = executionEvents.filter(e => e.data.passed).length;\n    const averageResponseTime = executionEvents.reduce((sum, e) => sum + e.data.execution_time, 0) / totalExecutions;\n    \n    // Calculate consistency score based on response time variance\n    const responseTimes = executionEvents.map(e => e.data.execution_time);\n    const variance = this.calculateVariance(responseTimes);\n    const consistencyScore = Math.max(0, 100 - (variance / averageResponseTime) * 100);\n    \n    return {\n      averageResponseTime,\n      successRate: (successfulExecutions / totalExecutions) * 100,\n      totalExecutions,\n      consistencyScore\n    };\n  }\n\n  /**\n   * Analyze execution patterns using AI\n   */\n  private async analyzeExecutionPatterns(\n    executionEvents: any[], \n    promptText: string\n  ): Promise<PromptAnalysisResult['patterns']> {\n    const successfulEvents = executionEvents.filter(e => e.data.passed);\n    const failedEvents = executionEvents.filter(e => !e.data.passed);\n    \n    const analysisPrompt = `\n      Analyze this prompt and its execution patterns:\n      \n      Prompt: \"${promptText}\"\n      \n      Successful executions: ${successfulEvents.length}\n      Failed executions: ${failedEvents.length}\n      \n      Based on this data, identify:\n      1. Patterns that lead to success\n      2. Patterns that lead to failure  \n      3. Common errors or issues\n      \n      Return a JSON object with arrays for successPatterns, failurePatterns, and commonErrors.\n    `;\n    \n    try {\n      const analysis = await llmService.generate(analysisPrompt);\n      const patterns = JSON.parse(analysis.response);\n      \n      return {\n        successPatterns: patterns.successPatterns || [],\n        failurePatterns: patterns.failurePatterns || [],\n        commonErrors: patterns.commonErrors || []\n      };\n    } catch (error) {\n      console.error('Error analyzing patterns:', error);\n      return {\n        successPatterns: [],\n        failurePatterns: [],\n        commonErrors: []\n      };\n    }\n  }\n\n  /**\n   * Calculate effectiveness score\n   */\n  private calculateEffectivenessScore(\n    metrics: PromptAnalysisResult['metrics'],\n    patterns: PromptAnalysisResult['patterns']\n  ): PromptAnalysisResult['effectiveness'] {\n    // Weighted scoring: Success Rate (40%), Response Time (30%), Consistency (20%), Pattern Quality (10%)\n    const successScore = metrics.successRate; // 0-100\n    const responseTimeScore = Math.max(0, 100 - (metrics.averageResponseTime / 1000) * 10); // Penalize slow responses\n    const consistencyScore = metrics.consistencyScore; // 0-100\n    const patternScore = Math.max(0, 100 - patterns.failurePatterns.length * 10); // Penalize failure patterns\n    \n    const weightedScore = (\n      successScore * 0.4 + \n      responseTimeScore * 0.3 + \n      consistencyScore * 0.2 + \n      patternScore * 0.1\n    );\n    \n    let category: 'poor' | 'fair' | 'good' | 'excellent';\n    let reasoning: string;\n    \n    if (weightedScore >= 85) {\n      category = 'excellent';\n      reasoning = 'High success rate with consistent performance and minimal failure patterns';\n    } else if (weightedScore >= 70) {\n      category = 'good';\n      reasoning = 'Good performance with room for minor improvements';\n    } else if (weightedScore >= 50) {\n      category = 'fair';\n      reasoning = 'Average performance with noticeable issues that need attention';\n    } else {\n      category = 'poor';\n      reasoning = 'Poor performance with significant issues requiring immediate attention';\n    }\n    \n    return {\n      score: Math.round(weightedScore),\n      category,\n      reasoning\n    };\n  }\n\n  /**\n   * Generate AI-powered recommendations\n   */\n  private async generateRecommendations(\n    promptText: string,\n    metrics: PromptAnalysisResult['metrics'],\n    patterns: PromptAnalysisResult['patterns'],\n    effectiveness: PromptAnalysisResult['effectiveness']\n  ): Promise<PromptAnalysisResult['recommendations']> {\n    const recommendationPrompt = `\n      Analyze this prompt and provide improvement recommendations:\n      \n      Prompt: \"${promptText}\"\n      \n      Current Performance:\n      - Success Rate: ${metrics.successRate}%\n      - Average Response Time: ${metrics.averageResponseTime}ms\n      - Consistency Score: ${metrics.consistencyScore}%\n      - Effectiveness: ${effectiveness.score}/100 (${effectiveness.category})\n      \n      Failure Patterns: ${patterns.failurePatterns.join(', ')}\n      Common Errors: ${patterns.commonErrors.join(', ')}\n      \n      Provide specific, actionable recommendations to improve this prompt.\n      Return a JSON array with objects containing: priority, type, suggestion, expectedImprovement.\n    `;\n    \n    try {\n      const response = await llmService.generate(recommendationPrompt);\n      const recommendations = JSON.parse(response.response);\n      \n      return recommendations.map((rec: any) => ({\n        priority: rec.priority || 'medium',\n        type: rec.type || 'structure',\n        suggestion: rec.suggestion || 'No specific suggestion provided',\n        expectedImprovement: rec.expectedImprovement || 5\n      }));\n    } catch (error) {\n      console.error('Error generating recommendations:', error);\n      return [\n        {\n          priority: 'medium' as const,\n          type: 'structure' as const,\n          suggestion: 'Consider adding more specific instructions and examples',\n          expectedImprovement: 10\n        }\n      ];\n    }\n  }\n\n  /**\n   * Calculate trends from execution data\n   */\n  private calculateTrends(executionEvents: any[]): PromptAnalysisResult['trends'] {\n    const groupedByHour = this.groupEventsByHour(executionEvents);\n    \n    const performanceOverTime = groupedByHour.map(group => ({\n      timestamp: group.timestamp,\n      score: group.events.length > 0 ? \n        group.events.reduce((sum, e) => sum + (e.data.passed ? 100 : 0), 0) / group.events.length : 0\n    }));\n    \n    const successRateOverTime = groupedByHour.map(group => ({\n      timestamp: group.timestamp,\n      rate: group.events.length > 0 ? \n        group.events.filter(e => e.data.passed).length / group.events.length : 0\n    }));\n    \n    return {\n      performanceOverTime,\n      successRateOverTime\n    };\n  }\n\n  /**\n   * Analyze security issues in prompt\n   */\n  private async analyzeSecurityIssues(promptText: string): Promise<PromptAnalysisResult['securityIssues']> {\n    const securityIssues: PromptAnalysisResult['securityIssues'] = [];\n    \n    // Check for prompt injection patterns\n    const injectionPatterns = [\n      /ignore.*previous.*instructions/i,\n      /system.*prompt/i,\n      /role.*play/i,\n      /jailbreak/i,\n      /pretend.*you.*are/i,\n      /forget.*everything/i,\n      /new.*instructions/i,\n      /override.*safety/i\n    ];\n    \n    for (const pattern of injectionPatterns) {\n      if (pattern.test(promptText)) {\n        securityIssues.push({\n          severity: 'high',\n          type: 'injection',\n          description: `Potential prompt injection pattern detected: ${pattern.source}`,\n          recommendation: 'Review and sanitize prompt to prevent injection attacks'\n        });\n      }\n    }\n    \n    // Check for sensitive information leakage\n    const sensitivePatterns = [\n      /password/i,\n      /api.*key/i,\n      /secret/i,\n      /token/i,\n      /credential/i,\n      /private.*key/i\n    ];\n    \n    for (const pattern of sensitivePatterns) {\n      if (pattern.test(promptText)) {\n        securityIssues.push({\n          severity: 'critical',\n          type: 'leakage',\n          description: `Potential sensitive information detected: ${pattern.source}`,\n          recommendation: 'Remove or mask sensitive information from prompt'\n        });\n      }\n    }\n    \n    // Check for manipulation attempts\n    const manipulationPatterns = [\n      /you.*must/i,\n      /you.*have.*to/i,\n      /required.*to/i,\n      /bypass.*restrictions/i,\n      /special.*permissions/i\n    ];\n    \n    for (const pattern of manipulationPatterns) {\n      if (pattern.test(promptText)) {\n        securityIssues.push({\n          severity: 'medium',\n          type: 'manipulation',\n          description: `Potential manipulation attempt detected: ${pattern.source}`,\n          recommendation: 'Review prompt for manipulative language'\n        });\n      }\n    }\n    \n    return securityIssues;\n  }\n\n  /**\n   * Test prompt performance with given test cases\n   */\n  private async testPromptPerformance(\n    prompt: string,\n    testCases: Array<{ input: string; expectedOutput: string }>,\n    model: string\n  ): Promise<Array<{ responseTime: number; success: boolean; quality: number }>> {\n    const results = [];\n    \n    for (const testCase of testCases) {\n      const startTime = Date.now();\n      const fullPrompt = `${prompt}\\n\\nInput: ${testCase.input}`;\n      \n      try {\n        const response = await llmService.generate(fullPrompt, model);\n        const responseTime = Date.now() - startTime;\n        \n        // Simple quality scoring based on similarity to expected output\n        const quality = this.calculateResponseQuality(response.response, testCase.expectedOutput);\n        const success = quality > 0.7; // Consider success if quality > 70%\n        \n        results.push({ responseTime, success, quality });\n      } catch (error) {\n        results.push({ responseTime: Date.now() - startTime, success: false, quality: 0 });\n      }\n    }\n    \n    return results;\n  }\n\n  /**\n   * Calculate metrics from test results\n   */\n  private calculateTestMetrics(results: Array<{ responseTime: number; success: boolean; quality: number }>) {\n    const totalTests = results.length;\n    const successfulTests = results.filter(r => r.success).length;\n    const averageResponseTime = results.reduce((sum, r) => sum + r.responseTime, 0) / totalTests;\n    const averageQuality = results.reduce((sum, r) => sum + r.quality, 0) / totalTests;\n    \n    return {\n      responseTime: averageResponseTime,\n      successRate: (successfulTests / totalTests) * 100,\n      qualityScore: averageQuality * 100\n    };\n  }\n\n  /**\n   * Calculate weighted score for comparison\n   */\n  private calculateWeightedScore(metrics: { responseTime: number; successRate: number; qualityScore: number }) {\n    // Normalize response time (lower is better)\n    const normalizedResponseTime = Math.max(0, 100 - (metrics.responseTime / 1000) * 10);\n    \n    // Weighted scoring: Success Rate (40%), Quality (40%), Response Time (20%)\n    return (\n      metrics.successRate * 0.4 + \n      metrics.qualityScore * 0.4 + \n      normalizedResponseTime * 0.2\n    ) / 100;\n  }\n\n  /**\n   * Calculate response quality using simple similarity\n   */\n  private calculateResponseQuality(response: string, expected: string): number {\n    const responseWords = response.toLowerCase().split(/\\s+/);\n    const expectedWords = expected.toLowerCase().split(/\\s+/);\n    \n    const commonWords = responseWords.filter(word => expectedWords.includes(word));\n    const similarity = commonWords.length / Math.max(responseWords.length, expectedWords.length);\n    \n    return Math.min(1, similarity * 2); // Boost similarity score\n  }\n\n  /**\n   * Group events by hour\n   */\n  private groupEventsByHour(events: any[]): Array<{ timestamp: Date; events: any[] }> {\n    const groups = new Map<string, any[]>();\n    \n    events.forEach(event => {\n      const timestamp = new Date(event.timestamp);\n      const hourKey = `${timestamp.getFullYear()}-${timestamp.getMonth()}-${timestamp.getDate()}-${timestamp.getHours()}`;\n      \n      if (!groups.has(hourKey)) {\n        groups.set(hourKey, []);\n      }\n      groups.get(hourKey)!.push(event);\n    });\n    \n    return Array.from(groups.entries())\n      .map(([key, events]) => {\n        const parts = key.split('-').map(Number);\n        const timestamp = new Date(parts[0], parts[1], parts[2], parts[3]);\n        return { timestamp, events };\n      })\n      .sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime());\n  }\n\n  /**\n   * Calculate variance of an array of numbers\n   */\n  private calculateVariance(numbers: number[]): number {\n    const mean = numbers.reduce((sum, num) => sum + num, 0) / numbers.length;\n    const squaredDiffs = numbers.map(num => Math.pow(num - mean, 2));\n    return squaredDiffs.reduce((sum, diff) => sum + diff, 0) / numbers.length;\n  }\n\n  /**\n   * Get default time range (last 7 days)\n   */\n  private getDefaultTimeRange(): { start: Date; end: Date } {\n    const end = new Date();\n    const start = new Date();\n    start.setDate(end.getDate() - 7);\n    return { start, end };\n  }\n}\n\n// Export singleton instance\nexport const promptAnalyzer = new PromptAnalyzer();"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ac4c9c521a26652b4c66ea1b1b33ac7dbf9e994f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1sj0xwsvp6 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1sj0xwsvp6();
cov_1sj0xwsvp6().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1sj0xwsvp6().s[1]++;
exports.promptAnalyzer = exports.PromptAnalyzer = void 0;
const EventStore_1 =
/* istanbul ignore next */
(cov_1sj0xwsvp6().s[2]++, require("../analytics/EventStore"));
const AnalyticsEngine_1 =
/* istanbul ignore next */
(cov_1sj0xwsvp6().s[3]++, require("../analytics/AnalyticsEngine"));
const llmService_1 =
/* istanbul ignore next */
(cov_1sj0xwsvp6().s[4]++, require("../llmService"));
class PromptAnalyzer {
  constructor() {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[0]++;
    cov_1sj0xwsvp6().s[5]++;
    this.eventStore = EventStore_1.EventStore.getInstance();
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[6]++;
    this.analyticsEngine = AnalyticsEngine_1.AnalyticsEngine.getInstance();
  }
  /**
   * Analyze prompt effectiveness using historical data and AI insights
   */
  async analyzePrompt(promptId, promptText, timeRange =
  /* istanbul ignore next */
  (cov_1sj0xwsvp6().b[0][0]++, this.getDefaultTimeRange())) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[1]++;
    const analysisId =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[7]++, `analysis_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[8]++;
    try {
      // Gather historical execution data
      const executionEvents =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[9]++, await this.eventStore.getEvents({
        event_type: 'test_execution',
        start_time: timeRange.start,
        end_time: timeRange.end
      }));
      const promptExecutions =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[10]++, executionEvents.filter(event => {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().f[2]++;
        cov_1sj0xwsvp6().s[11]++;
        return /* istanbul ignore next */(cov_1sj0xwsvp6().b[1][0]++, event.entity_id === promptId) ||
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[1][1]++, event.data.prompt_id === promptId);
      }));
      // Calculate basic metrics
      const metrics =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[12]++, this.calculatePromptMetrics(promptExecutions));
      // Analyze patterns using AI
      const patterns =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[13]++, await this.analyzeExecutionPatterns(promptExecutions, promptText));
      // Generate effectiveness score
      const effectiveness =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[14]++, this.calculateEffectivenessScore(metrics, patterns));
      // Generate AI-powered recommendations
      const recommendations =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[15]++, await this.generateRecommendations(promptText, metrics, patterns, effectiveness));
      // Calculate trends
      const trends =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[16]++, this.calculateTrends(promptExecutions));
      // Perform security analysis
      const securityIssues =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[17]++, await this.analyzeSecurityIssues(promptText));
      const result =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[18]++, {
        promptId,
        analysisId,
        effectiveness,
        patterns,
        metrics,
        recommendations,
        trends,
        securityIssues,
        timestamp: new Date()
      });
      // Store analysis result
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[19]++;
      await this.eventStore.recordEvent({
        event_type: 'prompt_analysis',
        entity_id: promptId,
        entity_type: 'prompt',
        data: result,
        timestamp: new Date()
      });
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[20]++;
      return result;
    } catch (error) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[21]++;
      console.error('Error analyzing prompt:', error);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[22]++;
      throw new Error(`Prompt analysis failed: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().b[2][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().b[2][1]++, 'Unknown error')}`);
    }
  }
  /**
   * Compare two prompts and determine which performs better
   */
  async comparePrompts(promptA, promptB, testCases, model =
  /* istanbul ignore next */
  (cov_1sj0xwsvp6().b[3][0]++, 'llama3')) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[3]++;
    cov_1sj0xwsvp6().s[23]++;
    try {
      const resultsA =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[24]++, await this.testPromptPerformance(promptA, testCases, model));
      const resultsB =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[25]++, await this.testPromptPerformance(promptB, testCases, model));
      const metricsA =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[26]++, this.calculateTestMetrics(resultsA));
      const metricsB =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[27]++, this.calculateTestMetrics(resultsB));
      // Determine winner based on weighted scoring
      const scoreA =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[28]++, this.calculateWeightedScore(metricsA));
      const scoreB =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[29]++, this.calculateWeightedScore(metricsB));
      let winner;
      let confidence;
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[30]++;
      if (Math.abs(scoreA - scoreB) < 0.1) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[4][0]++;
        cov_1sj0xwsvp6().s[31]++;
        winner = 'tie';
        /* istanbul ignore next */
        cov_1sj0xwsvp6().s[32]++;
        confidence = 1 - Math.abs(scoreA - scoreB);
      } else {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[4][1]++;
        cov_1sj0xwsvp6().s[33]++;
        if (scoreA > scoreB) {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().b[5][0]++;
          cov_1sj0xwsvp6().s[34]++;
          winner = 'A';
          /* istanbul ignore next */
          cov_1sj0xwsvp6().s[35]++;
          confidence = (scoreA - scoreB) / Math.max(scoreA, scoreB);
        } else {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().b[5][1]++;
          cov_1sj0xwsvp6().s[36]++;
          winner = 'B';
          /* istanbul ignore next */
          cov_1sj0xwsvp6().s[37]++;
          confidence = (scoreB - scoreA) / Math.max(scoreA, scoreB);
        }
      }
      // Generate AI analysis
      const analysisPrompt =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[38]++, `
        Compare these two prompts and their performance:
        
        Prompt A: "${promptA}"
        Metrics A: Response Time: ${metricsA.responseTime}ms, Success Rate: ${metricsA.successRate}%, Quality: ${metricsA.qualityScore}
        
        Prompt B: "${promptB}"  
        Metrics B: Response Time: ${metricsB.responseTime}ms, Success Rate: ${metricsB.successRate}%, Quality: ${metricsB.qualityScore}
        
        Provide a detailed analysis of the differences and why one performs better.
      `);
      const analysis =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[39]++, await llmService_1.llmService.generate(analysisPrompt, model));
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[40]++;
      return {
        promptA,
        promptB,
        winner,
        confidence,
        metrics: {
          responseTime: {
            A: metricsA.responseTime,
            B: metricsB.responseTime
          },
          successRate: {
            A: metricsA.successRate,
            B: metricsB.successRate
          },
          qualityScore: {
            A: metricsA.qualityScore,
            B: metricsB.qualityScore
          }
        },
        analysis: analysis.response
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[41]++;
      console.error('Error comparing prompts:', error);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[42]++;
      throw new Error(`Prompt comparison failed: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().b[6][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().b[6][1]++, 'Unknown error')}`);
    }
  }
  /**
   * Get evolution history of a prompt
   */
  async getPromptEvolution(promptId) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[4]++;
    const evolutionEvents =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[43]++, await this.eventStore.getEvents({
      event_type: 'prompt_evolution',
      entity_id: promptId
    }));
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[44]++;
    return evolutionEvents.map(event => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[5]++;
      cov_1sj0xwsvp6().s[45]++;
      return event.data;
    });
  }
  /**
   * Calculate basic metrics from execution events
   */
  calculatePromptMetrics(executionEvents) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[6]++;
    cov_1sj0xwsvp6().s[46]++;
    if (executionEvents.length === 0) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().b[7][0]++;
      cov_1sj0xwsvp6().s[47]++;
      return {
        averageResponseTime: 0,
        successRate: 0,
        totalExecutions: 0,
        consistencyScore: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_1sj0xwsvp6().b[7][1]++;
    }
    const totalExecutions =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[48]++, executionEvents.length);
    const successfulExecutions =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[49]++, executionEvents.filter(e => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[7]++;
      cov_1sj0xwsvp6().s[50]++;
      return e.data.passed;
    }).length);
    const averageResponseTime =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[51]++, executionEvents.reduce((sum, e) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[8]++;
      cov_1sj0xwsvp6().s[52]++;
      return sum + e.data.execution_time;
    }, 0) / totalExecutions);
    // Calculate consistency score based on response time variance
    const responseTimes =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[53]++, executionEvents.map(e => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[9]++;
      cov_1sj0xwsvp6().s[54]++;
      return e.data.execution_time;
    }));
    const variance =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[55]++, this.calculateVariance(responseTimes));
    const consistencyScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[56]++, Math.max(0, 100 - variance / averageResponseTime * 100));
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[57]++;
    return {
      averageResponseTime,
      successRate: successfulExecutions / totalExecutions * 100,
      totalExecutions,
      consistencyScore
    };
  }
  /**
   * Analyze execution patterns using AI
   */
  async analyzeExecutionPatterns(executionEvents, promptText) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[10]++;
    const successfulEvents =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[58]++, executionEvents.filter(e => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[11]++;
      cov_1sj0xwsvp6().s[59]++;
      return e.data.passed;
    }));
    const failedEvents =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[60]++, executionEvents.filter(e => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[12]++;
      cov_1sj0xwsvp6().s[61]++;
      return !e.data.passed;
    }));
    const analysisPrompt =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[62]++, `
      Analyze this prompt and its execution patterns:
      
      Prompt: "${promptText}"
      
      Successful executions: ${successfulEvents.length}
      Failed executions: ${failedEvents.length}
      
      Based on this data, identify:
      1. Patterns that lead to success
      2. Patterns that lead to failure  
      3. Common errors or issues
      
      Return a JSON object with arrays for successPatterns, failurePatterns, and commonErrors.
    `);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[63]++;
    try {
      const analysis =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[64]++, await llmService_1.llmService.generate(analysisPrompt));
      const patterns =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[65]++, JSON.parse(analysis.response));
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[66]++;
      return {
        successPatterns:
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[8][0]++, patterns.successPatterns) ||
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[8][1]++, []),
        failurePatterns:
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[9][0]++, patterns.failurePatterns) ||
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[9][1]++, []),
        commonErrors:
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[10][0]++, patterns.commonErrors) ||
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[10][1]++, [])
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[67]++;
      console.error('Error analyzing patterns:', error);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[68]++;
      return {
        successPatterns: [],
        failurePatterns: [],
        commonErrors: []
      };
    }
  }
  /**
   * Calculate effectiveness score
   */
  calculateEffectivenessScore(metrics, patterns) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[13]++;
    // Weighted scoring: Success Rate (40%), Response Time (30%), Consistency (20%), Pattern Quality (10%)
    const successScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[69]++, metrics.successRate); // 0-100
    const responseTimeScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[70]++, Math.max(0, 100 - metrics.averageResponseTime / 1000 * 10)); // Penalize slow responses
    const consistencyScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[71]++, metrics.consistencyScore); // 0-100
    const patternScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[72]++, Math.max(0, 100 - patterns.failurePatterns.length * 10)); // Penalize failure patterns
    const weightedScore =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[73]++, successScore * 0.4 + responseTimeScore * 0.3 + consistencyScore * 0.2 + patternScore * 0.1);
    let category;
    let reasoning;
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[74]++;
    if (weightedScore >= 85) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().b[11][0]++;
      cov_1sj0xwsvp6().s[75]++;
      category = 'excellent';
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[76]++;
      reasoning = 'High success rate with consistent performance and minimal failure patterns';
    } else {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().b[11][1]++;
      cov_1sj0xwsvp6().s[77]++;
      if (weightedScore >= 70) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[12][0]++;
        cov_1sj0xwsvp6().s[78]++;
        category = 'good';
        /* istanbul ignore next */
        cov_1sj0xwsvp6().s[79]++;
        reasoning = 'Good performance with room for minor improvements';
      } else {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[12][1]++;
        cov_1sj0xwsvp6().s[80]++;
        if (weightedScore >= 50) {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().b[13][0]++;
          cov_1sj0xwsvp6().s[81]++;
          category = 'fair';
          /* istanbul ignore next */
          cov_1sj0xwsvp6().s[82]++;
          reasoning = 'Average performance with noticeable issues that need attention';
        } else {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().b[13][1]++;
          cov_1sj0xwsvp6().s[83]++;
          category = 'poor';
          /* istanbul ignore next */
          cov_1sj0xwsvp6().s[84]++;
          reasoning = 'Poor performance with significant issues requiring immediate attention';
        }
      }
    }
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[85]++;
    return {
      score: Math.round(weightedScore),
      category,
      reasoning
    };
  }
  /**
   * Generate AI-powered recommendations
   */
  async generateRecommendations(promptText, metrics, patterns, effectiveness) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[14]++;
    const recommendationPrompt =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[86]++, `
      Analyze this prompt and provide improvement recommendations:
      
      Prompt: "${promptText}"
      
      Current Performance:
      - Success Rate: ${metrics.successRate}%
      - Average Response Time: ${metrics.averageResponseTime}ms
      - Consistency Score: ${metrics.consistencyScore}%
      - Effectiveness: ${effectiveness.score}/100 (${effectiveness.category})
      
      Failure Patterns: ${patterns.failurePatterns.join(', ')}
      Common Errors: ${patterns.commonErrors.join(', ')}
      
      Provide specific, actionable recommendations to improve this prompt.
      Return a JSON array with objects containing: priority, type, suggestion, expectedImprovement.
    `);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[87]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[88]++, await llmService_1.llmService.generate(recommendationPrompt));
      const recommendations =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[89]++, JSON.parse(response.response));
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[90]++;
      return recommendations.map(rec => {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().f[15]++;
        cov_1sj0xwsvp6().s[91]++;
        return {
          priority:
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[14][0]++, rec.priority) ||
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[14][1]++, 'medium'),
          type:
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[15][0]++, rec.type) ||
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[15][1]++, 'structure'),
          suggestion:
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[16][0]++, rec.suggestion) ||
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[16][1]++, 'No specific suggestion provided'),
          expectedImprovement:
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[17][0]++, rec.expectedImprovement) ||
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[17][1]++, 5)
        };
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[92]++;
      console.error('Error generating recommendations:', error);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[93]++;
      return [{
        priority: 'medium',
        type: 'structure',
        suggestion: 'Consider adding more specific instructions and examples',
        expectedImprovement: 10
      }];
    }
  }
  /**
   * Calculate trends from execution data
   */
  calculateTrends(executionEvents) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[16]++;
    const groupedByHour =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[94]++, this.groupEventsByHour(executionEvents));
    const performanceOverTime =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[95]++, groupedByHour.map(group => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[17]++;
      cov_1sj0xwsvp6().s[96]++;
      return {
        timestamp: group.timestamp,
        score: group.events.length > 0 ?
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[18][0]++, group.events.reduce((sum, e) => {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().f[18]++;
          cov_1sj0xwsvp6().s[97]++;
          return sum + (e.data.passed ?
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[19][0]++, 100) :
          /* istanbul ignore next */
          (cov_1sj0xwsvp6().b[19][1]++, 0));
        }, 0) / group.events.length) :
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[18][1]++, 0)
      };
    }));
    const successRateOverTime =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[98]++, groupedByHour.map(group => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[19]++;
      cov_1sj0xwsvp6().s[99]++;
      return {
        timestamp: group.timestamp,
        rate: group.events.length > 0 ?
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[20][0]++, group.events.filter(e => {
          /* istanbul ignore next */
          cov_1sj0xwsvp6().f[20]++;
          cov_1sj0xwsvp6().s[100]++;
          return e.data.passed;
        }).length / group.events.length) :
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().b[20][1]++, 0)
      };
    }));
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[101]++;
    return {
      performanceOverTime,
      successRateOverTime
    };
  }
  /**
   * Analyze security issues in prompt
   */
  async analyzeSecurityIssues(promptText) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[21]++;
    const securityIssues =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[102]++, []);
    // Check for prompt injection patterns
    const injectionPatterns =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[103]++, [/ignore.*previous.*instructions/i, /system.*prompt/i, /role.*play/i, /jailbreak/i, /pretend.*you.*are/i, /forget.*everything/i, /new.*instructions/i, /override.*safety/i]);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[104]++;
    for (const pattern of injectionPatterns) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[105]++;
      if (pattern.test(promptText)) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[21][0]++;
        cov_1sj0xwsvp6().s[106]++;
        securityIssues.push({
          severity: 'high',
          type: 'injection',
          description: `Potential prompt injection pattern detected: ${pattern.source}`,
          recommendation: 'Review and sanitize prompt to prevent injection attacks'
        });
      } else
      /* istanbul ignore next */
      {
        cov_1sj0xwsvp6().b[21][1]++;
      }
    }
    // Check for sensitive information leakage
    const sensitivePatterns =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[107]++, [/password/i, /api.*key/i, /secret/i, /token/i, /credential/i, /private.*key/i]);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[108]++;
    for (const pattern of sensitivePatterns) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[109]++;
      if (pattern.test(promptText)) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[22][0]++;
        cov_1sj0xwsvp6().s[110]++;
        securityIssues.push({
          severity: 'critical',
          type: 'leakage',
          description: `Potential sensitive information detected: ${pattern.source}`,
          recommendation: 'Remove or mask sensitive information from prompt'
        });
      } else
      /* istanbul ignore next */
      {
        cov_1sj0xwsvp6().b[22][1]++;
      }
    }
    // Check for manipulation attempts
    const manipulationPatterns =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[111]++, [/you.*must/i, /you.*have.*to/i, /required.*to/i, /bypass.*restrictions/i, /special.*permissions/i]);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[112]++;
    for (const pattern of manipulationPatterns) {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[113]++;
      if (pattern.test(promptText)) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[23][0]++;
        cov_1sj0xwsvp6().s[114]++;
        securityIssues.push({
          severity: 'medium',
          type: 'manipulation',
          description: `Potential manipulation attempt detected: ${pattern.source}`,
          recommendation: 'Review prompt for manipulative language'
        });
      } else
      /* istanbul ignore next */
      {
        cov_1sj0xwsvp6().b[23][1]++;
      }
    }
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[115]++;
    return securityIssues;
  }
  /**
   * Test prompt performance with given test cases
   */
  async testPromptPerformance(prompt, testCases, model) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[22]++;
    const results =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[116]++, []);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[117]++;
    for (const testCase of testCases) {
      const startTime =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[118]++, Date.now());
      const fullPrompt =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[119]++, `${prompt}\n\nInput: ${testCase.input}`);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[120]++;
      try {
        const response =
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().s[121]++, await llmService_1.llmService.generate(fullPrompt, model));
        const responseTime =
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().s[122]++, Date.now() - startTime);
        // Simple quality scoring based on similarity to expected output
        const quality =
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().s[123]++, this.calculateResponseQuality(response.response, testCase.expectedOutput));
        const success =
        /* istanbul ignore next */
        (cov_1sj0xwsvp6().s[124]++, quality > 0.7); // Consider success if quality > 70%
        /* istanbul ignore next */
        cov_1sj0xwsvp6().s[125]++;
        results.push({
          responseTime,
          success,
          quality
        });
      } catch (error) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().s[126]++;
        results.push({
          responseTime: Date.now() - startTime,
          success: false,
          quality: 0
        });
      }
    }
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[127]++;
    return results;
  }
  /**
   * Calculate metrics from test results
   */
  calculateTestMetrics(results) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[23]++;
    const totalTests =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[128]++, results.length);
    const successfulTests =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[129]++, results.filter(r => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[24]++;
      cov_1sj0xwsvp6().s[130]++;
      return r.success;
    }).length);
    const averageResponseTime =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[131]++, results.reduce((sum, r) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[25]++;
      cov_1sj0xwsvp6().s[132]++;
      return sum + r.responseTime;
    }, 0) / totalTests);
    const averageQuality =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[133]++, results.reduce((sum, r) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[26]++;
      cov_1sj0xwsvp6().s[134]++;
      return sum + r.quality;
    }, 0) / totalTests);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[135]++;
    return {
      responseTime: averageResponseTime,
      successRate: successfulTests / totalTests * 100,
      qualityScore: averageQuality * 100
    };
  }
  /**
   * Calculate weighted score for comparison
   */
  calculateWeightedScore(metrics) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[27]++;
    // Normalize response time (lower is better)
    const normalizedResponseTime =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[136]++, Math.max(0, 100 - metrics.responseTime / 1000 * 10));
    // Weighted scoring: Success Rate (40%), Quality (40%), Response Time (20%)
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[137]++;
    return (metrics.successRate * 0.4 + metrics.qualityScore * 0.4 + normalizedResponseTime * 0.2) / 100;
  }
  /**
   * Calculate response quality using simple similarity
   */
  calculateResponseQuality(response, expected) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[28]++;
    const responseWords =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[138]++, response.toLowerCase().split(/\s+/));
    const expectedWords =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[139]++, expected.toLowerCase().split(/\s+/));
    const commonWords =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[140]++, responseWords.filter(word => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[29]++;
      cov_1sj0xwsvp6().s[141]++;
      return expectedWords.includes(word);
    }));
    const similarity =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[142]++, commonWords.length / Math.max(responseWords.length, expectedWords.length));
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[143]++;
    return Math.min(1, similarity * 2); // Boost similarity score
  }
  /**
   * Group events by hour
   */
  groupEventsByHour(events) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[30]++;
    const groups =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[144]++, new Map());
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[145]++;
    events.forEach(event => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[31]++;
      const timestamp =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[146]++, new Date(event.timestamp));
      const hourKey =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[147]++, `${timestamp.getFullYear()}-${timestamp.getMonth()}-${timestamp.getDate()}-${timestamp.getHours()}`);
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[148]++;
      if (!groups.has(hourKey)) {
        /* istanbul ignore next */
        cov_1sj0xwsvp6().b[24][0]++;
        cov_1sj0xwsvp6().s[149]++;
        groups.set(hourKey, []);
      } else
      /* istanbul ignore next */
      {
        cov_1sj0xwsvp6().b[24][1]++;
      }
      cov_1sj0xwsvp6().s[150]++;
      groups.get(hourKey).push(event);
    });
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[151]++;
    return Array.from(groups.entries()).map(([key, events]) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[32]++;
      const parts =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[152]++, key.split('-').map(Number));
      const timestamp =
      /* istanbul ignore next */
      (cov_1sj0xwsvp6().s[153]++, new Date(parts[0], parts[1], parts[2], parts[3]));
      /* istanbul ignore next */
      cov_1sj0xwsvp6().s[154]++;
      return {
        timestamp,
        events
      };
    }).sort((a, b) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[33]++;
      cov_1sj0xwsvp6().s[155]++;
      return a.timestamp.getTime() - b.timestamp.getTime();
    });
  }
  /**
   * Calculate variance of an array of numbers
   */
  calculateVariance(numbers) {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[34]++;
    const mean =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[156]++, numbers.reduce((sum, num) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[35]++;
      cov_1sj0xwsvp6().s[157]++;
      return sum + num;
    }, 0) / numbers.length);
    const squaredDiffs =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[158]++, numbers.map(num => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[36]++;
      cov_1sj0xwsvp6().s[159]++;
      return Math.pow(num - mean, 2);
    }));
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[160]++;
    return squaredDiffs.reduce((sum, diff) => {
      /* istanbul ignore next */
      cov_1sj0xwsvp6().f[37]++;
      cov_1sj0xwsvp6().s[161]++;
      return sum + diff;
    }, 0) / numbers.length;
  }
  /**
   * Get default time range (last 7 days)
   */
  getDefaultTimeRange() {
    /* istanbul ignore next */
    cov_1sj0xwsvp6().f[38]++;
    const end =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[162]++, new Date());
    const start =
    /* istanbul ignore next */
    (cov_1sj0xwsvp6().s[163]++, new Date());
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[164]++;
    start.setDate(end.getDate() - 7);
    /* istanbul ignore next */
    cov_1sj0xwsvp6().s[165]++;
    return {
      start,
      end
    };
  }
}
/* istanbul ignore next */
cov_1sj0xwsvp6().s[166]++;
exports.PromptAnalyzer = PromptAnalyzer;
// Export singleton instance
/* istanbul ignore next */
cov_1sj0xwsvp6().s[167]++;
exports.promptAnalyzer = new PromptAnalyzer();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXNqMHh3c3ZwNiIsImFjdHVhbENvdmVyYWdlIiwicyIsIkV2ZW50U3RvcmVfMSIsInJlcXVpcmUiLCJBbmFseXRpY3NFbmdpbmVfMSIsImxsbVNlcnZpY2VfMSIsIlByb21wdEFuYWx5emVyIiwiY29uc3RydWN0b3IiLCJmIiwiZXZlbnRTdG9yZSIsIkV2ZW50U3RvcmUiLCJnZXRJbnN0YW5jZSIsImFuYWx5dGljc0VuZ2luZSIsIkFuYWx5dGljc0VuZ2luZSIsImFuYWx5emVQcm9tcHQiLCJwcm9tcHRJZCIsInByb21wdFRleHQiLCJ0aW1lUmFuZ2UiLCJiIiwiZ2V0RGVmYXVsdFRpbWVSYW5nZSIsImFuYWx5c2lzSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZXhlY3V0aW9uRXZlbnRzIiwiZ2V0RXZlbnRzIiwiZXZlbnRfdHlwZSIsInN0YXJ0X3RpbWUiLCJzdGFydCIsImVuZF90aW1lIiwiZW5kIiwicHJvbXB0RXhlY3V0aW9ucyIsImZpbHRlciIsImV2ZW50IiwiZW50aXR5X2lkIiwiZGF0YSIsInByb21wdF9pZCIsIm1ldHJpY3MiLCJjYWxjdWxhdGVQcm9tcHRNZXRyaWNzIiwicGF0dGVybnMiLCJhbmFseXplRXhlY3V0aW9uUGF0dGVybnMiLCJlZmZlY3RpdmVuZXNzIiwiY2FsY3VsYXRlRWZmZWN0aXZlbmVzc1Njb3JlIiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJ0cmVuZHMiLCJjYWxjdWxhdGVUcmVuZHMiLCJzZWN1cml0eUlzc3VlcyIsImFuYWx5emVTZWN1cml0eUlzc3VlcyIsInJlc3VsdCIsInRpbWVzdGFtcCIsInJlY29yZEV2ZW50IiwiZW50aXR5X3R5cGUiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJjb21wYXJlUHJvbXB0cyIsInByb21wdEEiLCJwcm9tcHRCIiwidGVzdENhc2VzIiwibW9kZWwiLCJyZXN1bHRzQSIsInRlc3RQcm9tcHRQZXJmb3JtYW5jZSIsInJlc3VsdHNCIiwibWV0cmljc0EiLCJjYWxjdWxhdGVUZXN0TWV0cmljcyIsIm1ldHJpY3NCIiwic2NvcmVBIiwiY2FsY3VsYXRlV2VpZ2h0ZWRTY29yZSIsInNjb3JlQiIsIndpbm5lciIsImNvbmZpZGVuY2UiLCJhYnMiLCJtYXgiLCJhbmFseXNpc1Byb21wdCIsInJlc3BvbnNlVGltZSIsInN1Y2Nlc3NSYXRlIiwicXVhbGl0eVNjb3JlIiwiYW5hbHlzaXMiLCJsbG1TZXJ2aWNlIiwiZ2VuZXJhdGUiLCJBIiwiQiIsInJlc3BvbnNlIiwiZ2V0UHJvbXB0RXZvbHV0aW9uIiwiZXZvbHV0aW9uRXZlbnRzIiwibWFwIiwibGVuZ3RoIiwiYXZlcmFnZVJlc3BvbnNlVGltZSIsInRvdGFsRXhlY3V0aW9ucyIsImNvbnNpc3RlbmN5U2NvcmUiLCJzdWNjZXNzZnVsRXhlY3V0aW9ucyIsImUiLCJwYXNzZWQiLCJyZWR1Y2UiLCJzdW0iLCJleGVjdXRpb25fdGltZSIsInJlc3BvbnNlVGltZXMiLCJ2YXJpYW5jZSIsImNhbGN1bGF0ZVZhcmlhbmNlIiwic3VjY2Vzc2Z1bEV2ZW50cyIsImZhaWxlZEV2ZW50cyIsIkpTT04iLCJwYXJzZSIsInN1Y2Nlc3NQYXR0ZXJucyIsImZhaWx1cmVQYXR0ZXJucyIsImNvbW1vbkVycm9ycyIsInN1Y2Nlc3NTY29yZSIsInJlc3BvbnNlVGltZVNjb3JlIiwicGF0dGVyblNjb3JlIiwid2VpZ2h0ZWRTY29yZSIsImNhdGVnb3J5IiwicmVhc29uaW5nIiwic2NvcmUiLCJyb3VuZCIsInJlY29tbWVuZGF0aW9uUHJvbXB0Iiwiam9pbiIsInJlYyIsInByaW9yaXR5IiwidHlwZSIsInN1Z2dlc3Rpb24iLCJleHBlY3RlZEltcHJvdmVtZW50IiwiZ3JvdXBlZEJ5SG91ciIsImdyb3VwRXZlbnRzQnlIb3VyIiwicGVyZm9ybWFuY2VPdmVyVGltZSIsImdyb3VwIiwiZXZlbnRzIiwic3VjY2Vzc1JhdGVPdmVyVGltZSIsInJhdGUiLCJpbmplY3Rpb25QYXR0ZXJucyIsInBhdHRlcm4iLCJ0ZXN0IiwicHVzaCIsInNldmVyaXR5IiwiZGVzY3JpcHRpb24iLCJzb3VyY2UiLCJyZWNvbW1lbmRhdGlvbiIsInNlbnNpdGl2ZVBhdHRlcm5zIiwibWFuaXB1bGF0aW9uUGF0dGVybnMiLCJwcm9tcHQiLCJyZXN1bHRzIiwidGVzdENhc2UiLCJzdGFydFRpbWUiLCJmdWxsUHJvbXB0IiwiaW5wdXQiLCJxdWFsaXR5IiwiY2FsY3VsYXRlUmVzcG9uc2VRdWFsaXR5IiwiZXhwZWN0ZWRPdXRwdXQiLCJzdWNjZXNzIiwidG90YWxUZXN0cyIsInN1Y2Nlc3NmdWxUZXN0cyIsInIiLCJhdmVyYWdlUXVhbGl0eSIsIm5vcm1hbGl6ZWRSZXNwb25zZVRpbWUiLCJleHBlY3RlZCIsInJlc3BvbnNlV29yZHMiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiZXhwZWN0ZWRXb3JkcyIsImNvbW1vbldvcmRzIiwid29yZCIsImluY2x1ZGVzIiwic2ltaWxhcml0eSIsIm1pbiIsImdyb3VwcyIsIk1hcCIsImZvckVhY2giLCJob3VyS2V5IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImhhcyIsInNldCIsImdldCIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJrZXkiLCJwYXJ0cyIsIk51bWJlciIsInNvcnQiLCJhIiwiZ2V0VGltZSIsIm51bWJlcnMiLCJtZWFuIiwibnVtIiwic3F1YXJlZERpZmZzIiwicG93IiwiZGlmZiIsInNldERhdGUiLCJleHBvcnRzIiwicHJvbXB0QW5hbHl6ZXIiXSwic291cmNlcyI6WyIvd29ya3NwYWNlcy9wcm9tcHQtY2FyZC1zeXN0ZW0vYmFja2VuZC9zcmMvc2VydmljZXMvb3B0aW1pemF0aW9uL1Byb21wdEFuYWx5emVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50U3RvcmUgfSBmcm9tICcuLi9hbmFseXRpY3MvRXZlbnRTdG9yZSc7XG5pbXBvcnQgeyBBbmFseXRpY3NFbmdpbmUgfSBmcm9tICcuLi9hbmFseXRpY3MvQW5hbHl0aWNzRW5naW5lJztcbmltcG9ydCB7IGxsbVNlcnZpY2UgfSBmcm9tICcuLi9sbG1TZXJ2aWNlJztcbmltcG9ydCB7IEVuaGFuY2VkQXNzZXJ0aW9uUmVzdWx0IH0gZnJvbSAnLi4vYXNzZXJ0aW9ucy9Bc3NlcnRpb25FbmdpbmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb21wdEFuYWx5c2lzUmVzdWx0IHtcbiAgcHJvbXB0SWQ6IHN0cmluZztcbiAgYW5hbHlzaXNJZDogc3RyaW5nO1xuICBlZmZlY3RpdmVuZXNzOiB7XG4gICAgc2NvcmU6IG51bWJlcjsgLy8gMC0xMDBcbiAgICBjYXRlZ29yeTogJ3Bvb3InIHwgJ2ZhaXInIHwgJ2dvb2QnIHwgJ2V4Y2VsbGVudCc7XG4gICAgcmVhc29uaW5nOiBzdHJpbmc7XG4gIH07XG4gIHBhdHRlcm5zOiB7XG4gICAgc3VjY2Vzc1BhdHRlcm5zOiBzdHJpbmdbXTtcbiAgICBmYWlsdXJlUGF0dGVybnM6IHN0cmluZ1tdO1xuICAgIGNvbW1vbkVycm9yczogc3RyaW5nW107XG4gIH07XG4gIG1ldHJpY3M6IHtcbiAgICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gICAgc3VjY2Vzc1JhdGU6IG51bWJlcjtcbiAgICB0b3RhbEV4ZWN1dGlvbnM6IG51bWJlcjtcbiAgICBjb25zaXN0ZW5jeVNjb3JlOiBudW1iZXI7XG4gIH07XG4gIHJlY29tbWVuZGF0aW9uczoge1xuICAgIHByaW9yaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJztcbiAgICB0eXBlOiAnc3RydWN0dXJlJyB8ICdjbGFyaXR5JyB8ICdzcGVjaWZpY2l0eScgfCAnY29udGV4dCcgfCAnc2VjdXJpdHknO1xuICAgIHN1Z2dlc3Rpb246IHN0cmluZztcbiAgICBleHBlY3RlZEltcHJvdmVtZW50OiBudW1iZXI7IC8vIHBlcmNlbnRhZ2VcbiAgfVtdO1xuICB0cmVuZHM6IHtcbiAgICBwZXJmb3JtYW5jZU92ZXJUaW1lOiBBcnJheTx7IHRpbWVzdGFtcDogRGF0ZTsgc2NvcmU6IG51bWJlciB9PjtcbiAgICBzdWNjZXNzUmF0ZU92ZXJUaW1lOiBBcnJheTx7IHRpbWVzdGFtcDogRGF0ZTsgcmF0ZTogbnVtYmVyIH0+O1xuICB9O1xuICBzZWN1cml0eUlzc3Vlczoge1xuICAgIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJztcbiAgICB0eXBlOiAnaW5qZWN0aW9uJyB8ICdsZWFrYWdlJyB8ICdtYW5pcHVsYXRpb24nIHwgJ2NvbXBsaWFuY2UnO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcmVjb21tZW5kYXRpb246IHN0cmluZztcbiAgfVtdO1xuICB0aW1lc3RhbXA6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0Q29tcGFyaXNvblJlc3VsdCB7XG4gIHByb21wdEE6IHN0cmluZztcbiAgcHJvbXB0Qjogc3RyaW5nO1xuICB3aW5uZXI6ICdBJyB8ICdCJyB8ICd0aWUnO1xuICBjb25maWRlbmNlOiBudW1iZXI7XG4gIG1ldHJpY3M6IHtcbiAgICByZXNwb25zZVRpbWU6IHsgQTogbnVtYmVyOyBCOiBudW1iZXIgfTtcbiAgICBzdWNjZXNzUmF0ZTogeyBBOiBudW1iZXI7IEI6IG51bWJlciB9O1xuICAgIHF1YWxpdHlTY29yZTogeyBBOiBudW1iZXI7IEI6IG51bWJlciB9O1xuICB9O1xuICBhbmFseXNpczogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvbXB0QW5hbHl6ZXIge1xuICBwcml2YXRlIGV2ZW50U3RvcmU6IEV2ZW50U3RvcmU7XG4gIHByaXZhdGUgYW5hbHl0aWNzRW5naW5lOiBBbmFseXRpY3NFbmdpbmU7XG4gIFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50U3RvcmUgPSBFdmVudFN0b3JlLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUgPSBBbmFseXRpY3NFbmdpbmUuZ2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIHByb21wdCBlZmZlY3RpdmVuZXNzIHVzaW5nIGhpc3RvcmljYWwgZGF0YSBhbmQgQUkgaW5zaWdodHNcbiAgICovXG4gIGFzeW5jIGFuYWx5emVQcm9tcHQoXG4gICAgcHJvbXB0SWQ6IHN0cmluZyxcbiAgICBwcm9tcHRUZXh0OiBzdHJpbmcsXG4gICAgdGltZVJhbmdlOiB7IHN0YXJ0OiBEYXRlOyBlbmQ6IERhdGUgfSA9IHRoaXMuZ2V0RGVmYXVsdFRpbWVSYW5nZSgpXG4gICk6IFByb21pc2U8UHJvbXB0QW5hbHlzaXNSZXN1bHQ+IHtcbiAgICBjb25zdCBhbmFseXNpc0lkID0gYGFuYWx5c2lzXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2F0aGVyIGhpc3RvcmljYWwgZXhlY3V0aW9uIGRhdGFcbiAgICAgIGNvbnN0IGV4ZWN1dGlvbkV2ZW50cyA9IGF3YWl0IHRoaXMuZXZlbnRTdG9yZS5nZXRFdmVudHMoe1xuICAgICAgICBldmVudF90eXBlOiAndGVzdF9leGVjdXRpb24nLFxuICAgICAgICBzdGFydF90aW1lOiB0aW1lUmFuZ2Uuc3RhcnQsXG4gICAgICAgIGVuZF90aW1lOiB0aW1lUmFuZ2UuZW5kXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcHJvbXB0RXhlY3V0aW9ucyA9IGV4ZWN1dGlvbkV2ZW50cy5maWx0ZXIoZXZlbnQgPT4gXG4gICAgICAgIGV2ZW50LmVudGl0eV9pZCA9PT0gcHJvbXB0SWQgfHwgZXZlbnQuZGF0YS5wcm9tcHRfaWQgPT09IHByb21wdElkXG4gICAgICApO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgYmFzaWMgbWV0cmljc1xuICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuY2FsY3VsYXRlUHJvbXB0TWV0cmljcyhwcm9tcHRFeGVjdXRpb25zKTtcbiAgICAgIFxuICAgICAgLy8gQW5hbHl6ZSBwYXR0ZXJucyB1c2luZyBBSVxuICAgICAgY29uc3QgcGF0dGVybnMgPSBhd2FpdCB0aGlzLmFuYWx5emVFeGVjdXRpb25QYXR0ZXJucyhwcm9tcHRFeGVjdXRpb25zLCBwcm9tcHRUZXh0KTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgZWZmZWN0aXZlbmVzcyBzY29yZVxuICAgICAgY29uc3QgZWZmZWN0aXZlbmVzcyA9IHRoaXMuY2FsY3VsYXRlRWZmZWN0aXZlbmVzc1Njb3JlKG1ldHJpY3MsIHBhdHRlcm5zKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgQUktcG93ZXJlZCByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoXG4gICAgICAgIHByb21wdFRleHQsIFxuICAgICAgICBtZXRyaWNzLCBcbiAgICAgICAgcGF0dGVybnMsIFxuICAgICAgICBlZmZlY3RpdmVuZXNzXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgdHJlbmRzXG4gICAgICBjb25zdCB0cmVuZHMgPSB0aGlzLmNhbGN1bGF0ZVRyZW5kcyhwcm9tcHRFeGVjdXRpb25zKTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybSBzZWN1cml0eSBhbmFseXNpc1xuICAgICAgY29uc3Qgc2VjdXJpdHlJc3N1ZXMgPSBhd2FpdCB0aGlzLmFuYWx5emVTZWN1cml0eUlzc3Vlcyhwcm9tcHRUZXh0KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0OiBQcm9tcHRBbmFseXNpc1Jlc3VsdCA9IHtcbiAgICAgICAgcHJvbXB0SWQsXG4gICAgICAgIGFuYWx5c2lzSWQsXG4gICAgICAgIGVmZmVjdGl2ZW5lc3MsXG4gICAgICAgIHBhdHRlcm5zLFxuICAgICAgICBtZXRyaWNzLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgIHRyZW5kcyxcbiAgICAgICAgc2VjdXJpdHlJc3N1ZXMsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgLy8gU3RvcmUgYW5hbHlzaXMgcmVzdWx0XG4gICAgICBhd2FpdCB0aGlzLmV2ZW50U3RvcmUucmVjb3JkRXZlbnQoe1xuICAgICAgICBldmVudF90eXBlOiAncHJvbXB0X2FuYWx5c2lzJyxcbiAgICAgICAgZW50aXR5X2lkOiBwcm9tcHRJZCxcbiAgICAgICAgZW50aXR5X3R5cGU6ICdwcm9tcHQnLFxuICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBwcm9tcHQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9tcHQgYW5hbHlzaXMgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlIHR3byBwcm9tcHRzIGFuZCBkZXRlcm1pbmUgd2hpY2ggcGVyZm9ybXMgYmV0dGVyXG4gICAqL1xuICBhc3luYyBjb21wYXJlUHJvbXB0cyhcbiAgICBwcm9tcHRBOiBzdHJpbmcsXG4gICAgcHJvbXB0Qjogc3RyaW5nLFxuICAgIHRlc3RDYXNlczogQXJyYXk8eyBpbnB1dDogc3RyaW5nOyBleHBlY3RlZE91dHB1dDogc3RyaW5nIH0+LFxuICAgIG1vZGVsOiBzdHJpbmcgPSAnbGxhbWEzJ1xuICApOiBQcm9taXNlPFByb21wdENvbXBhcmlzb25SZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0c0EgPSBhd2FpdCB0aGlzLnRlc3RQcm9tcHRQZXJmb3JtYW5jZShwcm9tcHRBLCB0ZXN0Q2FzZXMsIG1vZGVsKTtcbiAgICAgIGNvbnN0IHJlc3VsdHNCID0gYXdhaXQgdGhpcy50ZXN0UHJvbXB0UGVyZm9ybWFuY2UocHJvbXB0QiwgdGVzdENhc2VzLCBtb2RlbCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldHJpY3NBID0gdGhpcy5jYWxjdWxhdGVUZXN0TWV0cmljcyhyZXN1bHRzQSk7XG4gICAgICBjb25zdCBtZXRyaWNzQiA9IHRoaXMuY2FsY3VsYXRlVGVzdE1ldHJpY3MocmVzdWx0c0IpO1xuICAgICAgXG4gICAgICAvLyBEZXRlcm1pbmUgd2lubmVyIGJhc2VkIG9uIHdlaWdodGVkIHNjb3JpbmdcbiAgICAgIGNvbnN0IHNjb3JlQSA9IHRoaXMuY2FsY3VsYXRlV2VpZ2h0ZWRTY29yZShtZXRyaWNzQSk7XG4gICAgICBjb25zdCBzY29yZUIgPSB0aGlzLmNhbGN1bGF0ZVdlaWdodGVkU2NvcmUobWV0cmljc0IpO1xuICAgICAgXG4gICAgICBsZXQgd2lubmVyOiAnQScgfCAnQicgfCAndGllJztcbiAgICAgIGxldCBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgICBcbiAgICAgIGlmIChNYXRoLmFicyhzY29yZUEgLSBzY29yZUIpIDwgMC4xKSB7XG4gICAgICAgIHdpbm5lciA9ICd0aWUnO1xuICAgICAgICBjb25maWRlbmNlID0gMSAtIE1hdGguYWJzKHNjb3JlQSAtIHNjb3JlQik7XG4gICAgICB9IGVsc2UgaWYgKHNjb3JlQSA+IHNjb3JlQikge1xuICAgICAgICB3aW5uZXIgPSAnQSc7XG4gICAgICAgIGNvbmZpZGVuY2UgPSAoc2NvcmVBIC0gc2NvcmVCKSAvIE1hdGgubWF4KHNjb3JlQSwgc2NvcmVCKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbm5lciA9ICdCJztcbiAgICAgICAgY29uZmlkZW5jZSA9IChzY29yZUIgLSBzY29yZUEpIC8gTWF0aC5tYXgoc2NvcmVBLCBzY29yZUIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSBBSSBhbmFseXNpc1xuICAgICAgY29uc3QgYW5hbHlzaXNQcm9tcHQgPSBgXG4gICAgICAgIENvbXBhcmUgdGhlc2UgdHdvIHByb21wdHMgYW5kIHRoZWlyIHBlcmZvcm1hbmNlOlxuICAgICAgICBcbiAgICAgICAgUHJvbXB0IEE6IFwiJHtwcm9tcHRBfVwiXG4gICAgICAgIE1ldHJpY3MgQTogUmVzcG9uc2UgVGltZTogJHttZXRyaWNzQS5yZXNwb25zZVRpbWV9bXMsIFN1Y2Nlc3MgUmF0ZTogJHttZXRyaWNzQS5zdWNjZXNzUmF0ZX0lLCBRdWFsaXR5OiAke21ldHJpY3NBLnF1YWxpdHlTY29yZX1cbiAgICAgICAgXG4gICAgICAgIFByb21wdCBCOiBcIiR7cHJvbXB0Qn1cIiAgXG4gICAgICAgIE1ldHJpY3MgQjogUmVzcG9uc2UgVGltZTogJHttZXRyaWNzQi5yZXNwb25zZVRpbWV9bXMsIFN1Y2Nlc3MgUmF0ZTogJHttZXRyaWNzQi5zdWNjZXNzUmF0ZX0lLCBRdWFsaXR5OiAke21ldHJpY3NCLnF1YWxpdHlTY29yZX1cbiAgICAgICAgXG4gICAgICAgIFByb3ZpZGUgYSBkZXRhaWxlZCBhbmFseXNpcyBvZiB0aGUgZGlmZmVyZW5jZXMgYW5kIHdoeSBvbmUgcGVyZm9ybXMgYmV0dGVyLlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBsbG1TZXJ2aWNlLmdlbmVyYXRlKGFuYWx5c2lzUHJvbXB0LCBtb2RlbCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb21wdEEsXG4gICAgICAgIHByb21wdEIsXG4gICAgICAgIHdpbm5lcixcbiAgICAgICAgY29uZmlkZW5jZSxcbiAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgIHJlc3BvbnNlVGltZTogeyBBOiBtZXRyaWNzQS5yZXNwb25zZVRpbWUsIEI6IG1ldHJpY3NCLnJlc3BvbnNlVGltZSB9LFxuICAgICAgICAgIHN1Y2Nlc3NSYXRlOiB7IEE6IG1ldHJpY3NBLnN1Y2Nlc3NSYXRlLCBCOiBtZXRyaWNzQi5zdWNjZXNzUmF0ZSB9LFxuICAgICAgICAgIHF1YWxpdHlTY29yZTogeyBBOiBtZXRyaWNzQS5xdWFsaXR5U2NvcmUsIEI6IG1ldHJpY3NCLnF1YWxpdHlTY29yZSB9XG4gICAgICAgIH0sXG4gICAgICAgIGFuYWx5c2lzOiBhbmFseXNpcy5yZXNwb25zZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29tcGFyaW5nIHByb21wdHM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9tcHQgY29tcGFyaXNvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBldm9sdXRpb24gaGlzdG9yeSBvZiBhIHByb21wdFxuICAgKi9cbiAgYXN5bmMgZ2V0UHJvbXB0RXZvbHV0aW9uKHByb21wdElkOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PHtcbiAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIGNoYW5nZXM6IHN0cmluZ1tdO1xuICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICBzdWNjZXNzUmF0ZTogbnVtYmVyO1xuICAgICAgcmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gICAgICBxdWFsaXR5U2NvcmU6IG51bWJlcjtcbiAgICB9O1xuICAgIHJlYXNvbmluZzogc3RyaW5nO1xuICB9Pj4ge1xuICAgIGNvbnN0IGV2b2x1dGlvbkV2ZW50cyA9IGF3YWl0IHRoaXMuZXZlbnRTdG9yZS5nZXRFdmVudHMoe1xuICAgICAgZXZlbnRfdHlwZTogJ3Byb21wdF9ldm9sdXRpb24nLFxuICAgICAgZW50aXR5X2lkOiBwcm9tcHRJZFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBldm9sdXRpb25FdmVudHMubWFwKGV2ZW50ID0+IGV2ZW50LmRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBiYXNpYyBtZXRyaWNzIGZyb20gZXhlY3V0aW9uIGV2ZW50c1xuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQcm9tcHRNZXRyaWNzKGV4ZWN1dGlvbkV2ZW50czogYW55W10pOiBQcm9tcHRBbmFseXNpc1Jlc3VsdFsnbWV0cmljcyddIHtcbiAgICBpZiAoZXhlY3V0aW9uRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMCxcbiAgICAgICAgc3VjY2Vzc1JhdGU6IDAsXG4gICAgICAgIHRvdGFsRXhlY3V0aW9uczogMCxcbiAgICAgICAgY29uc2lzdGVuY3lTY29yZTogMFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0b3RhbEV4ZWN1dGlvbnMgPSBleGVjdXRpb25FdmVudHMubGVuZ3RoO1xuICAgIGNvbnN0IHN1Y2Nlc3NmdWxFeGVjdXRpb25zID0gZXhlY3V0aW9uRXZlbnRzLmZpbHRlcihlID0+IGUuZGF0YS5wYXNzZWQpLmxlbmd0aDtcbiAgICBjb25zdCBhdmVyYWdlUmVzcG9uc2VUaW1lID0gZXhlY3V0aW9uRXZlbnRzLnJlZHVjZSgoc3VtLCBlKSA9PiBzdW0gKyBlLmRhdGEuZXhlY3V0aW9uX3RpbWUsIDApIC8gdG90YWxFeGVjdXRpb25zO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBjb25zaXN0ZW5jeSBzY29yZSBiYXNlZCBvbiByZXNwb25zZSB0aW1lIHZhcmlhbmNlXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lcyA9IGV4ZWN1dGlvbkV2ZW50cy5tYXAoZSA9PiBlLmRhdGEuZXhlY3V0aW9uX3RpbWUpO1xuICAgIGNvbnN0IHZhcmlhbmNlID0gdGhpcy5jYWxjdWxhdGVWYXJpYW5jZShyZXNwb25zZVRpbWVzKTtcbiAgICBjb25zdCBjb25zaXN0ZW5jeVNjb3JlID0gTWF0aC5tYXgoMCwgMTAwIC0gKHZhcmlhbmNlIC8gYXZlcmFnZVJlc3BvbnNlVGltZSkgKiAxMDApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBhdmVyYWdlUmVzcG9uc2VUaW1lLFxuICAgICAgc3VjY2Vzc1JhdGU6IChzdWNjZXNzZnVsRXhlY3V0aW9ucyAvIHRvdGFsRXhlY3V0aW9ucykgKiAxMDAsXG4gICAgICB0b3RhbEV4ZWN1dGlvbnMsXG4gICAgICBjb25zaXN0ZW5jeVNjb3JlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIGV4ZWN1dGlvbiBwYXR0ZXJucyB1c2luZyBBSVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhbmFseXplRXhlY3V0aW9uUGF0dGVybnMoXG4gICAgZXhlY3V0aW9uRXZlbnRzOiBhbnlbXSwgXG4gICAgcHJvbXB0VGV4dDogc3RyaW5nXG4gICk6IFByb21pc2U8UHJvbXB0QW5hbHlzaXNSZXN1bHRbJ3BhdHRlcm5zJ10+IHtcbiAgICBjb25zdCBzdWNjZXNzZnVsRXZlbnRzID0gZXhlY3V0aW9uRXZlbnRzLmZpbHRlcihlID0+IGUuZGF0YS5wYXNzZWQpO1xuICAgIGNvbnN0IGZhaWxlZEV2ZW50cyA9IGV4ZWN1dGlvbkV2ZW50cy5maWx0ZXIoZSA9PiAhZS5kYXRhLnBhc3NlZCk7XG4gICAgXG4gICAgY29uc3QgYW5hbHlzaXNQcm9tcHQgPSBgXG4gICAgICBBbmFseXplIHRoaXMgcHJvbXB0IGFuZCBpdHMgZXhlY3V0aW9uIHBhdHRlcm5zOlxuICAgICAgXG4gICAgICBQcm9tcHQ6IFwiJHtwcm9tcHRUZXh0fVwiXG4gICAgICBcbiAgICAgIFN1Y2Nlc3NmdWwgZXhlY3V0aW9uczogJHtzdWNjZXNzZnVsRXZlbnRzLmxlbmd0aH1cbiAgICAgIEZhaWxlZCBleGVjdXRpb25zOiAke2ZhaWxlZEV2ZW50cy5sZW5ndGh9XG4gICAgICBcbiAgICAgIEJhc2VkIG9uIHRoaXMgZGF0YSwgaWRlbnRpZnk6XG4gICAgICAxLiBQYXR0ZXJucyB0aGF0IGxlYWQgdG8gc3VjY2Vzc1xuICAgICAgMi4gUGF0dGVybnMgdGhhdCBsZWFkIHRvIGZhaWx1cmUgIFxuICAgICAgMy4gQ29tbW9uIGVycm9ycyBvciBpc3N1ZXNcbiAgICAgIFxuICAgICAgUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCBhcnJheXMgZm9yIHN1Y2Nlc3NQYXR0ZXJucywgZmFpbHVyZVBhdHRlcm5zLCBhbmQgY29tbW9uRXJyb3JzLlxuICAgIGA7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgbGxtU2VydmljZS5nZW5lcmF0ZShhbmFseXNpc1Byb21wdCk7XG4gICAgICBjb25zdCBwYXR0ZXJucyA9IEpTT04ucGFyc2UoYW5hbHlzaXMucmVzcG9uc2UpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzUGF0dGVybnM6IHBhdHRlcm5zLnN1Y2Nlc3NQYXR0ZXJucyB8fCBbXSxcbiAgICAgICAgZmFpbHVyZVBhdHRlcm5zOiBwYXR0ZXJucy5mYWlsdXJlUGF0dGVybnMgfHwgW10sXG4gICAgICAgIGNvbW1vbkVycm9yczogcGF0dGVybnMuY29tbW9uRXJyb3JzIHx8IFtdXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbmFseXppbmcgcGF0dGVybnM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2Vzc1BhdHRlcm5zOiBbXSxcbiAgICAgICAgZmFpbHVyZVBhdHRlcm5zOiBbXSxcbiAgICAgICAgY29tbW9uRXJyb3JzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGVmZmVjdGl2ZW5lc3Mgc2NvcmVcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlRWZmZWN0aXZlbmVzc1Njb3JlKFxuICAgIG1ldHJpY3M6IFByb21wdEFuYWx5c2lzUmVzdWx0WydtZXRyaWNzJ10sXG4gICAgcGF0dGVybnM6IFByb21wdEFuYWx5c2lzUmVzdWx0WydwYXR0ZXJucyddXG4gICk6IFByb21wdEFuYWx5c2lzUmVzdWx0WydlZmZlY3RpdmVuZXNzJ10ge1xuICAgIC8vIFdlaWdodGVkIHNjb3Jpbmc6IFN1Y2Nlc3MgUmF0ZSAoNDAlKSwgUmVzcG9uc2UgVGltZSAoMzAlKSwgQ29uc2lzdGVuY3kgKDIwJSksIFBhdHRlcm4gUXVhbGl0eSAoMTAlKVxuICAgIGNvbnN0IHN1Y2Nlc3NTY29yZSA9IG1ldHJpY3Muc3VjY2Vzc1JhdGU7IC8vIDAtMTAwXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lU2NvcmUgPSBNYXRoLm1heCgwLCAxMDAgLSAobWV0cmljcy5hdmVyYWdlUmVzcG9uc2VUaW1lIC8gMTAwMCkgKiAxMCk7IC8vIFBlbmFsaXplIHNsb3cgcmVzcG9uc2VzXG4gICAgY29uc3QgY29uc2lzdGVuY3lTY29yZSA9IG1ldHJpY3MuY29uc2lzdGVuY3lTY29yZTsgLy8gMC0xMDBcbiAgICBjb25zdCBwYXR0ZXJuU2NvcmUgPSBNYXRoLm1heCgwLCAxMDAgLSBwYXR0ZXJucy5mYWlsdXJlUGF0dGVybnMubGVuZ3RoICogMTApOyAvLyBQZW5hbGl6ZSBmYWlsdXJlIHBhdHRlcm5zXG4gICAgXG4gICAgY29uc3Qgd2VpZ2h0ZWRTY29yZSA9IChcbiAgICAgIHN1Y2Nlc3NTY29yZSAqIDAuNCArIFxuICAgICAgcmVzcG9uc2VUaW1lU2NvcmUgKiAwLjMgKyBcbiAgICAgIGNvbnNpc3RlbmN5U2NvcmUgKiAwLjIgKyBcbiAgICAgIHBhdHRlcm5TY29yZSAqIDAuMVxuICAgICk7XG4gICAgXG4gICAgbGV0IGNhdGVnb3J5OiAncG9vcicgfCAnZmFpcicgfCAnZ29vZCcgfCAnZXhjZWxsZW50JztcbiAgICBsZXQgcmVhc29uaW5nOiBzdHJpbmc7XG4gICAgXG4gICAgaWYgKHdlaWdodGVkU2NvcmUgPj0gODUpIHtcbiAgICAgIGNhdGVnb3J5ID0gJ2V4Y2VsbGVudCc7XG4gICAgICByZWFzb25pbmcgPSAnSGlnaCBzdWNjZXNzIHJhdGUgd2l0aCBjb25zaXN0ZW50IHBlcmZvcm1hbmNlIGFuZCBtaW5pbWFsIGZhaWx1cmUgcGF0dGVybnMnO1xuICAgIH0gZWxzZSBpZiAod2VpZ2h0ZWRTY29yZSA+PSA3MCkge1xuICAgICAgY2F0ZWdvcnkgPSAnZ29vZCc7XG4gICAgICByZWFzb25pbmcgPSAnR29vZCBwZXJmb3JtYW5jZSB3aXRoIHJvb20gZm9yIG1pbm9yIGltcHJvdmVtZW50cyc7XG4gICAgfSBlbHNlIGlmICh3ZWlnaHRlZFNjb3JlID49IDUwKSB7XG4gICAgICBjYXRlZ29yeSA9ICdmYWlyJztcbiAgICAgIHJlYXNvbmluZyA9ICdBdmVyYWdlIHBlcmZvcm1hbmNlIHdpdGggbm90aWNlYWJsZSBpc3N1ZXMgdGhhdCBuZWVkIGF0dGVudGlvbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhdGVnb3J5ID0gJ3Bvb3InO1xuICAgICAgcmVhc29uaW5nID0gJ1Bvb3IgcGVyZm9ybWFuY2Ugd2l0aCBzaWduaWZpY2FudCBpc3N1ZXMgcmVxdWlyaW5nIGltbWVkaWF0ZSBhdHRlbnRpb24nO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcmU6IE1hdGgucm91bmQod2VpZ2h0ZWRTY29yZSksXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIHJlYXNvbmluZ1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgQUktcG93ZXJlZCByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoXG4gICAgcHJvbXB0VGV4dDogc3RyaW5nLFxuICAgIG1ldHJpY3M6IFByb21wdEFuYWx5c2lzUmVzdWx0WydtZXRyaWNzJ10sXG4gICAgcGF0dGVybnM6IFByb21wdEFuYWx5c2lzUmVzdWx0WydwYXR0ZXJucyddLFxuICAgIGVmZmVjdGl2ZW5lc3M6IFByb21wdEFuYWx5c2lzUmVzdWx0WydlZmZlY3RpdmVuZXNzJ11cbiAgKTogUHJvbWlzZTxQcm9tcHRBbmFseXNpc1Jlc3VsdFsncmVjb21tZW5kYXRpb25zJ10+IHtcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvblByb21wdCA9IGBcbiAgICAgIEFuYWx5emUgdGhpcyBwcm9tcHQgYW5kIHByb3ZpZGUgaW1wcm92ZW1lbnQgcmVjb21tZW5kYXRpb25zOlxuICAgICAgXG4gICAgICBQcm9tcHQ6IFwiJHtwcm9tcHRUZXh0fVwiXG4gICAgICBcbiAgICAgIEN1cnJlbnQgUGVyZm9ybWFuY2U6XG4gICAgICAtIFN1Y2Nlc3MgUmF0ZTogJHttZXRyaWNzLnN1Y2Nlc3NSYXRlfSVcbiAgICAgIC0gQXZlcmFnZSBSZXNwb25zZSBUaW1lOiAke21ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZX1tc1xuICAgICAgLSBDb25zaXN0ZW5jeSBTY29yZTogJHttZXRyaWNzLmNvbnNpc3RlbmN5U2NvcmV9JVxuICAgICAgLSBFZmZlY3RpdmVuZXNzOiAke2VmZmVjdGl2ZW5lc3Muc2NvcmV9LzEwMCAoJHtlZmZlY3RpdmVuZXNzLmNhdGVnb3J5fSlcbiAgICAgIFxuICAgICAgRmFpbHVyZSBQYXR0ZXJuczogJHtwYXR0ZXJucy5mYWlsdXJlUGF0dGVybnMuam9pbignLCAnKX1cbiAgICAgIENvbW1vbiBFcnJvcnM6ICR7cGF0dGVybnMuY29tbW9uRXJyb3JzLmpvaW4oJywgJyl9XG4gICAgICBcbiAgICAgIFByb3ZpZGUgc3BlY2lmaWMsIGFjdGlvbmFibGUgcmVjb21tZW5kYXRpb25zIHRvIGltcHJvdmUgdGhpcyBwcm9tcHQuXG4gICAgICBSZXR1cm4gYSBKU09OIGFycmF5IHdpdGggb2JqZWN0cyBjb250YWluaW5nOiBwcmlvcml0eSwgdHlwZSwgc3VnZ2VzdGlvbiwgZXhwZWN0ZWRJbXByb3ZlbWVudC5cbiAgICBgO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxsbVNlcnZpY2UuZ2VuZXJhdGUocmVjb21tZW5kYXRpb25Qcm9tcHQpO1xuICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZSk7XG4gICAgICBcbiAgICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnMubWFwKChyZWM6IGFueSkgPT4gKHtcbiAgICAgICAgcHJpb3JpdHk6IHJlYy5wcmlvcml0eSB8fCAnbWVkaXVtJyxcbiAgICAgICAgdHlwZTogcmVjLnR5cGUgfHwgJ3N0cnVjdHVyZScsXG4gICAgICAgIHN1Z2dlc3Rpb246IHJlYy5zdWdnZXN0aW9uIHx8ICdObyBzcGVjaWZpYyBzdWdnZXN0aW9uIHByb3ZpZGVkJyxcbiAgICAgICAgZXhwZWN0ZWRJbXByb3ZlbWVudDogcmVjLmV4cGVjdGVkSW1wcm92ZW1lbnQgfHwgNVxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHJlY29tbWVuZGF0aW9uczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nIGFzIGNvbnN0LFxuICAgICAgICAgIHR5cGU6ICdzdHJ1Y3R1cmUnIGFzIGNvbnN0LFxuICAgICAgICAgIHN1Z2dlc3Rpb246ICdDb25zaWRlciBhZGRpbmcgbW9yZSBzcGVjaWZpYyBpbnN0cnVjdGlvbnMgYW5kIGV4YW1wbGVzJyxcbiAgICAgICAgICBleHBlY3RlZEltcHJvdmVtZW50OiAxMFxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdHJlbmRzIGZyb20gZXhlY3V0aW9uIGRhdGFcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlVHJlbmRzKGV4ZWN1dGlvbkV2ZW50czogYW55W10pOiBQcm9tcHRBbmFseXNpc1Jlc3VsdFsndHJlbmRzJ10ge1xuICAgIGNvbnN0IGdyb3VwZWRCeUhvdXIgPSB0aGlzLmdyb3VwRXZlbnRzQnlIb3VyKGV4ZWN1dGlvbkV2ZW50cyk7XG4gICAgXG4gICAgY29uc3QgcGVyZm9ybWFuY2VPdmVyVGltZSA9IGdyb3VwZWRCeUhvdXIubWFwKGdyb3VwID0+ICh7XG4gICAgICB0aW1lc3RhbXA6IGdyb3VwLnRpbWVzdGFtcCxcbiAgICAgIHNjb3JlOiBncm91cC5ldmVudHMubGVuZ3RoID4gMCA/IFxuICAgICAgICBncm91cC5ldmVudHMucmVkdWNlKChzdW0sIGUpID0+IHN1bSArIChlLmRhdGEucGFzc2VkID8gMTAwIDogMCksIDApIC8gZ3JvdXAuZXZlbnRzLmxlbmd0aCA6IDBcbiAgICB9KSk7XG4gICAgXG4gICAgY29uc3Qgc3VjY2Vzc1JhdGVPdmVyVGltZSA9IGdyb3VwZWRCeUhvdXIubWFwKGdyb3VwID0+ICh7XG4gICAgICB0aW1lc3RhbXA6IGdyb3VwLnRpbWVzdGFtcCxcbiAgICAgIHJhdGU6IGdyb3VwLmV2ZW50cy5sZW5ndGggPiAwID8gXG4gICAgICAgIGdyb3VwLmV2ZW50cy5maWx0ZXIoZSA9PiBlLmRhdGEucGFzc2VkKS5sZW5ndGggLyBncm91cC5ldmVudHMubGVuZ3RoIDogMFxuICAgIH0pKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcGVyZm9ybWFuY2VPdmVyVGltZSxcbiAgICAgIHN1Y2Nlc3NSYXRlT3ZlclRpbWVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgc2VjdXJpdHkgaXNzdWVzIGluIHByb21wdFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhbmFseXplU2VjdXJpdHlJc3N1ZXMocHJvbXB0VGV4dDogc3RyaW5nKTogUHJvbWlzZTxQcm9tcHRBbmFseXNpc1Jlc3VsdFsnc2VjdXJpdHlJc3N1ZXMnXT4ge1xuICAgIGNvbnN0IHNlY3VyaXR5SXNzdWVzOiBQcm9tcHRBbmFseXNpc1Jlc3VsdFsnc2VjdXJpdHlJc3N1ZXMnXSA9IFtdO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBwcm9tcHQgaW5qZWN0aW9uIHBhdHRlcm5zXG4gICAgY29uc3QgaW5qZWN0aW9uUGF0dGVybnMgPSBbXG4gICAgICAvaWdub3JlLipwcmV2aW91cy4qaW5zdHJ1Y3Rpb25zL2ksXG4gICAgICAvc3lzdGVtLipwcm9tcHQvaSxcbiAgICAgIC9yb2xlLipwbGF5L2ksXG4gICAgICAvamFpbGJyZWFrL2ksXG4gICAgICAvcHJldGVuZC4qeW91LiphcmUvaSxcbiAgICAgIC9mb3JnZXQuKmV2ZXJ5dGhpbmcvaSxcbiAgICAgIC9uZXcuKmluc3RydWN0aW9ucy9pLFxuICAgICAgL292ZXJyaWRlLipzYWZldHkvaVxuICAgIF07XG4gICAgXG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGluamVjdGlvblBhdHRlcm5zKSB7XG4gICAgICBpZiAocGF0dGVybi50ZXN0KHByb21wdFRleHQpKSB7XG4gICAgICAgIHNlY3VyaXR5SXNzdWVzLnB1c2goe1xuICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgdHlwZTogJ2luamVjdGlvbicsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBQb3RlbnRpYWwgcHJvbXB0IGluamVjdGlvbiBwYXR0ZXJuIGRldGVjdGVkOiAke3BhdHRlcm4uc291cmNlfWAsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb246ICdSZXZpZXcgYW5kIHNhbml0aXplIHByb21wdCB0byBwcmV2ZW50IGluamVjdGlvbiBhdHRhY2tzJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBsZWFrYWdlXG4gICAgY29uc3Qgc2Vuc2l0aXZlUGF0dGVybnMgPSBbXG4gICAgICAvcGFzc3dvcmQvaSxcbiAgICAgIC9hcGkuKmtleS9pLFxuICAgICAgL3NlY3JldC9pLFxuICAgICAgL3Rva2VuL2ksXG4gICAgICAvY3JlZGVudGlhbC9pLFxuICAgICAgL3ByaXZhdGUuKmtleS9pXG4gICAgXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2Ygc2Vuc2l0aXZlUGF0dGVybnMpIHtcbiAgICAgIGlmIChwYXR0ZXJuLnRlc3QocHJvbXB0VGV4dCkpIHtcbiAgICAgICAgc2VjdXJpdHlJc3N1ZXMucHVzaCh7XG4gICAgICAgICAgc2V2ZXJpdHk6ICdjcml0aWNhbCcsXG4gICAgICAgICAgdHlwZTogJ2xlYWthZ2UnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgUG90ZW50aWFsIHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBkZXRlY3RlZDogJHtwYXR0ZXJuLnNvdXJjZX1gLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uOiAnUmVtb3ZlIG9yIG1hc2sgc2Vuc2l0aXZlIGluZm9ybWF0aW9uIGZyb20gcHJvbXB0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIG1hbmlwdWxhdGlvbiBhdHRlbXB0c1xuICAgIGNvbnN0IG1hbmlwdWxhdGlvblBhdHRlcm5zID0gW1xuICAgICAgL3lvdS4qbXVzdC9pLFxuICAgICAgL3lvdS4qaGF2ZS4qdG8vaSxcbiAgICAgIC9yZXF1aXJlZC4qdG8vaSxcbiAgICAgIC9ieXBhc3MuKnJlc3RyaWN0aW9ucy9pLFxuICAgICAgL3NwZWNpYWwuKnBlcm1pc3Npb25zL2lcbiAgICBdO1xuICAgIFxuICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBtYW5pcHVsYXRpb25QYXR0ZXJucykge1xuICAgICAgaWYgKHBhdHRlcm4udGVzdChwcm9tcHRUZXh0KSkge1xuICAgICAgICBzZWN1cml0eUlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgdHlwZTogJ21hbmlwdWxhdGlvbicsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBQb3RlbnRpYWwgbWFuaXB1bGF0aW9uIGF0dGVtcHQgZGV0ZWN0ZWQ6ICR7cGF0dGVybi5zb3VyY2V9YCxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbjogJ1JldmlldyBwcm9tcHQgZm9yIG1hbmlwdWxhdGl2ZSBsYW5ndWFnZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzZWN1cml0eUlzc3VlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IHByb21wdCBwZXJmb3JtYW5jZSB3aXRoIGdpdmVuIHRlc3QgY2FzZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgdGVzdFByb21wdFBlcmZvcm1hbmNlKFxuICAgIHByb21wdDogc3RyaW5nLFxuICAgIHRlc3RDYXNlczogQXJyYXk8eyBpbnB1dDogc3RyaW5nOyBleHBlY3RlZE91dHB1dDogc3RyaW5nIH0+LFxuICAgIG1vZGVsOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxBcnJheTx7IHJlc3BvbnNlVGltZTogbnVtYmVyOyBzdWNjZXNzOiBib29sZWFuOyBxdWFsaXR5OiBudW1iZXIgfT4+IHtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgXG4gICAgZm9yIChjb25zdCB0ZXN0Q2FzZSBvZiB0ZXN0Q2FzZXMpIHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBmdWxsUHJvbXB0ID0gYCR7cHJvbXB0fVxcblxcbklucHV0OiAke3Rlc3RDYXNlLmlucHV0fWA7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGxtU2VydmljZS5nZW5lcmF0ZShmdWxsUHJvbXB0LCBtb2RlbCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGUgcXVhbGl0eSBzY29yaW5nIGJhc2VkIG9uIHNpbWlsYXJpdHkgdG8gZXhwZWN0ZWQgb3V0cHV0XG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSB0aGlzLmNhbGN1bGF0ZVJlc3BvbnNlUXVhbGl0eShyZXNwb25zZS5yZXNwb25zZSwgdGVzdENhc2UuZXhwZWN0ZWRPdXRwdXQpO1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gcXVhbGl0eSA+IDAuNzsgLy8gQ29uc2lkZXIgc3VjY2VzcyBpZiBxdWFsaXR5ID4gNzAlXG4gICAgICAgIFxuICAgICAgICByZXN1bHRzLnB1c2goeyByZXNwb25zZVRpbWUsIHN1Y2Nlc3MsIHF1YWxpdHkgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXN1bHRzLnB1c2goeyByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsIHN1Y2Nlc3M6IGZhbHNlLCBxdWFsaXR5OiAwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgbWV0cmljcyBmcm9tIHRlc3QgcmVzdWx0c1xuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVUZXN0TWV0cmljcyhyZXN1bHRzOiBBcnJheTx7IHJlc3BvbnNlVGltZTogbnVtYmVyOyBzdWNjZXNzOiBib29sZWFuOyBxdWFsaXR5OiBudW1iZXIgfT4pIHtcbiAgICBjb25zdCB0b3RhbFRlc3RzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3Qgc3VjY2Vzc2Z1bFRlc3RzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLmxlbmd0aDtcbiAgICBjb25zdCBhdmVyYWdlUmVzcG9uc2VUaW1lID0gcmVzdWx0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5yZXNwb25zZVRpbWUsIDApIC8gdG90YWxUZXN0cztcbiAgICBjb25zdCBhdmVyYWdlUXVhbGl0eSA9IHJlc3VsdHMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIHIucXVhbGl0eSwgMCkgLyB0b3RhbFRlc3RzO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZVRpbWU6IGF2ZXJhZ2VSZXNwb25zZVRpbWUsXG4gICAgICBzdWNjZXNzUmF0ZTogKHN1Y2Nlc3NmdWxUZXN0cyAvIHRvdGFsVGVzdHMpICogMTAwLFxuICAgICAgcXVhbGl0eVNjb3JlOiBhdmVyYWdlUXVhbGl0eSAqIDEwMFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHdlaWdodGVkIHNjb3JlIGZvciBjb21wYXJpc29uXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVdlaWdodGVkU2NvcmUobWV0cmljczogeyByZXNwb25zZVRpbWU6IG51bWJlcjsgc3VjY2Vzc1JhdGU6IG51bWJlcjsgcXVhbGl0eVNjb3JlOiBudW1iZXIgfSkge1xuICAgIC8vIE5vcm1hbGl6ZSByZXNwb25zZSB0aW1lIChsb3dlciBpcyBiZXR0ZXIpXG4gICAgY29uc3Qgbm9ybWFsaXplZFJlc3BvbnNlVGltZSA9IE1hdGgubWF4KDAsIDEwMCAtIChtZXRyaWNzLnJlc3BvbnNlVGltZSAvIDEwMDApICogMTApO1xuICAgIFxuICAgIC8vIFdlaWdodGVkIHNjb3Jpbmc6IFN1Y2Nlc3MgUmF0ZSAoNDAlKSwgUXVhbGl0eSAoNDAlKSwgUmVzcG9uc2UgVGltZSAoMjAlKVxuICAgIHJldHVybiAoXG4gICAgICBtZXRyaWNzLnN1Y2Nlc3NSYXRlICogMC40ICsgXG4gICAgICBtZXRyaWNzLnF1YWxpdHlTY29yZSAqIDAuNCArIFxuICAgICAgbm9ybWFsaXplZFJlc3BvbnNlVGltZSAqIDAuMlxuICAgICkgLyAxMDA7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHJlc3BvbnNlIHF1YWxpdHkgdXNpbmcgc2ltcGxlIHNpbWlsYXJpdHlcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUmVzcG9uc2VRdWFsaXR5KHJlc3BvbnNlOiBzdHJpbmcsIGV4cGVjdGVkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHJlc3BvbnNlV29yZHMgPSByZXNwb25zZS50b0xvd2VyQ2FzZSgpLnNwbGl0KC9cXHMrLyk7XG4gICAgY29uc3QgZXhwZWN0ZWRXb3JkcyA9IGV4cGVjdGVkLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xccysvKTtcbiAgICBcbiAgICBjb25zdCBjb21tb25Xb3JkcyA9IHJlc3BvbnNlV29yZHMuZmlsdGVyKHdvcmQgPT4gZXhwZWN0ZWRXb3Jkcy5pbmNsdWRlcyh3b3JkKSk7XG4gICAgY29uc3Qgc2ltaWxhcml0eSA9IGNvbW1vbldvcmRzLmxlbmd0aCAvIE1hdGgubWF4KHJlc3BvbnNlV29yZHMubGVuZ3RoLCBleHBlY3RlZFdvcmRzLmxlbmd0aCk7XG4gICAgXG4gICAgcmV0dXJuIE1hdGgubWluKDEsIHNpbWlsYXJpdHkgKiAyKTsgLy8gQm9vc3Qgc2ltaWxhcml0eSBzY29yZVxuICB9XG5cbiAgLyoqXG4gICAqIEdyb3VwIGV2ZW50cyBieSBob3VyXG4gICAqL1xuICBwcml2YXRlIGdyb3VwRXZlbnRzQnlIb3VyKGV2ZW50czogYW55W10pOiBBcnJheTx7IHRpbWVzdGFtcDogRGF0ZTsgZXZlbnRzOiBhbnlbXSB9PiB7XG4gICAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpO1xuICAgIFxuICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKGV2ZW50LnRpbWVzdGFtcCk7XG4gICAgICBjb25zdCBob3VyS2V5ID0gYCR7dGltZXN0YW1wLmdldEZ1bGxZZWFyKCl9LSR7dGltZXN0YW1wLmdldE1vbnRoKCl9LSR7dGltZXN0YW1wLmdldERhdGUoKX0tJHt0aW1lc3RhbXAuZ2V0SG91cnMoKX1gO1xuICAgICAgXG4gICAgICBpZiAoIWdyb3Vwcy5oYXMoaG91cktleSkpIHtcbiAgICAgICAgZ3JvdXBzLnNldChob3VyS2V5LCBbXSk7XG4gICAgICB9XG4gICAgICBncm91cHMuZ2V0KGhvdXJLZXkpIS5wdXNoKGV2ZW50KTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gQXJyYXkuZnJvbShncm91cHMuZW50cmllcygpKVxuICAgICAgLm1hcCgoW2tleSwgZXZlbnRzXSkgPT4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnLScpLm1hcChOdW1iZXIpO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShwYXJ0c1swXSwgcGFydHNbMV0sIHBhcnRzWzJdLCBwYXJ0c1szXSk7XG4gICAgICAgIHJldHVybiB7IHRpbWVzdGFtcCwgZXZlbnRzIH07XG4gICAgICB9KVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEudGltZXN0YW1wLmdldFRpbWUoKSAtIGIudGltZXN0YW1wLmdldFRpbWUoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHZhcmlhbmNlIG9mIGFuIGFycmF5IG9mIG51bWJlcnNcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlVmFyaWFuY2UobnVtYmVyczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgIGNvbnN0IG1lYW4gPSBudW1iZXJzLnJlZHVjZSgoc3VtLCBudW0pID0+IHN1bSArIG51bSwgMCkgLyBudW1iZXJzLmxlbmd0aDtcbiAgICBjb25zdCBzcXVhcmVkRGlmZnMgPSBudW1iZXJzLm1hcChudW0gPT4gTWF0aC5wb3cobnVtIC0gbWVhbiwgMikpO1xuICAgIHJldHVybiBzcXVhcmVkRGlmZnMucmVkdWNlKChzdW0sIGRpZmYpID0+IHN1bSArIGRpZmYsIDApIC8gbnVtYmVycy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRlZmF1bHQgdGltZSByYW5nZSAobGFzdCA3IGRheXMpXG4gICAqL1xuICBwcml2YXRlIGdldERlZmF1bHRUaW1lUmFuZ2UoKTogeyBzdGFydDogRGF0ZTsgZW5kOiBEYXRlIH0ge1xuICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIHN0YXJ0LnNldERhdGUoZW5kLmdldERhdGUoKSAtIDcpO1xuICAgIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgcHJvbXB0QW5hbHl6ZXIgPSBuZXcgUHJvbXB0QW5hbHl6ZXIoKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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