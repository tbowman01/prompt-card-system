cf0081a29d8b17472df4c7b9f1621631
"use strict";

/* istanbul ignore next */
function cov_1uf5qqmc8s() {
  var path = "/workspaces/prompt-card-system/backend/src/services/analytics/EventStore.ts";
  var hash = "dd3e352608258606140a875ec79a326729e6cbd6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/prompt-card-system/backend/src/services/analytics/EventStore.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 28
        }
      },
      "2": {
        start: {
          line: 4,
          column: 21
        },
        end: {
          line: 4,
          column: 57
        }
      },
      "3": {
        start: {
          line: 7,
          column: 8
        },
        end: {
          line: 7,
          column: 28
        }
      },
      "4": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 63
        }
      },
      "5": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 36
        }
      },
      "6": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 16,
          column: 9
        }
      },
      "7": {
        start: {
          line: 15,
          column: 12
        },
        end: {
          line: 15,
          column: 51
        }
      },
      "8": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 35
        }
      },
      "9": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 34,
          column: 7
        }
      },
      "10": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 41,
          column: 7
        }
      },
      "11": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 54,
          column: 7
        }
      },
      "12": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 59,
          column: 7
        }
      },
      "13": {
        start: {
          line: 62,
          column: 21
        },
        end: {
          line: 65,
          column: 6
        }
      },
      "14": {
        start: {
          line: 66,
          column: 23
        },
        end: {
          line: 66,
          column: 229
        }
      },
      "15": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 67,
          column: 49
        }
      },
      "16": {
        start: {
          line: 70,
          column: 21
        },
        end: {
          line: 73,
          column: 6
        }
      },
      "17": {
        start: {
          line: 74,
          column: 28
        },
        end: {
          line: 81,
          column: 10
        }
      },
      "18": {
        start: {
          line: 75,
          column: 24
        },
        end: {
          line: 75,
          column: 26
        }
      },
      "19": {
        start: {
          line: 76,
          column: 12
        },
        end: {
          line: 79,
          column: 13
        }
      },
      "20": {
        start: {
          line: 77,
          column: 31
        },
        end: {
          line: 77,
          column: 237
        }
      },
      "21": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 78,
          column: 60
        }
      },
      "22": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 80,
          column: 23
        }
      },
      "23": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 29
        }
      },
      "24": {
        start: {
          line: 85,
          column: 18
        },
        end: {
          line: 89,
          column: 5
        }
      },
      "25": {
        start: {
          line: 90,
          column: 23
        },
        end: {
          line: 90,
          column: 25
        }
      },
      "26": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 94,
          column: 9
        }
      },
      "27": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 92,
          column: 41
        }
      },
      "28": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 93,
          column: 42
        }
      },
      "29": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 98,
          column: 9
        }
      },
      "30": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 42
        }
      },
      "31": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 43
        }
      },
      "32": {
        start: {
          line: 99,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "33": {
        start: {
          line: 100,
          column: 12
        },
        end: {
          line: 100,
          column: 40
        }
      },
      "34": {
        start: {
          line: 101,
          column: 12
        },
        end: {
          line: 101,
          column: 41
        }
      },
      "35": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 106,
          column: 9
        }
      },
      "36": {
        start: {
          line: 104,
          column: 12
        },
        end: {
          line: 104,
          column: 41
        }
      },
      "37": {
        start: {
          line: 105,
          column: 12
        },
        end: {
          line: 105,
          column: 52
        }
      },
      "38": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 110,
          column: 9
        }
      },
      "39": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 41
        }
      },
      "40": {
        start: {
          line: 109,
          column: 12
        },
        end: {
          line: 109,
          column: 50
        }
      },
      "41": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 111,
          column: 42
        }
      },
      "42": {
        start: {
          line: 112,
          column: 8
        },
        end: {
          line: 115,
          column: 9
        }
      },
      "43": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 30
        }
      },
      "44": {
        start: {
          line: 114,
          column: 12
        },
        end: {
          line: 114,
          column: 37
        }
      },
      "45": {
        start: {
          line: 116,
          column: 8
        },
        end: {
          line: 119,
          column: 9
        }
      },
      "46": {
        start: {
          line: 117,
          column: 12
        },
        end: {
          line: 117,
          column: 31
        }
      },
      "47": {
        start: {
          line: 118,
          column: 12
        },
        end: {
          line: 118,
          column: 38
        }
      },
      "48": {
        start: {
          line: 120,
          column: 21
        },
        end: {
          line: 120,
          column: 41
        }
      },
      "49": {
        start: {
          line: 121,
          column: 21
        },
        end: {
          line: 121,
          column: 40
        }
      },
      "50": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 135,
          column: 11
        }
      },
      "51": {
        start: {
          line: 123,
          column: 29
        },
        end: {
          line: 123,
          column: 32
        }
      },
      "52": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 134,
          column: 14
        }
      },
      "53": {
        start: {
          line: 138,
          column: 18
        },
        end: {
          line: 142,
          column: 5
        }
      },
      "54": {
        start: {
          line: 143,
          column: 23
        },
        end: {
          line: 143,
          column: 25
        }
      },
      "55": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 147,
          column: 9
        }
      },
      "56": {
        start: {
          line: 145,
          column: 12
        },
        end: {
          line: 145,
          column: 41
        }
      },
      "57": {
        start: {
          line: 146,
          column: 12
        },
        end: {
          line: 146,
          column: 42
        }
      },
      "58": {
        start: {
          line: 148,
          column: 8
        },
        end: {
          line: 151,
          column: 9
        }
      },
      "59": {
        start: {
          line: 149,
          column: 12
        },
        end: {
          line: 149,
          column: 42
        }
      },
      "60": {
        start: {
          line: 150,
          column: 12
        },
        end: {
          line: 150,
          column: 43
        }
      },
      "61": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 155,
          column: 9
        }
      },
      "62": {
        start: {
          line: 153,
          column: 12
        },
        end: {
          line: 153,
          column: 40
        }
      },
      "63": {
        start: {
          line: 154,
          column: 12
        },
        end: {
          line: 154,
          column: 41
        }
      },
      "64": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 159,
          column: 9
        }
      },
      "65": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 41
        }
      },
      "66": {
        start: {
          line: 158,
          column: 12
        },
        end: {
          line: 158,
          column: 52
        }
      },
      "67": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 163,
          column: 9
        }
      },
      "68": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 161,
          column: 41
        }
      },
      "69": {
        start: {
          line: 162,
          column: 12
        },
        end: {
          line: 162,
          column: 50
        }
      },
      "70": {
        start: {
          line: 164,
          column: 21
        },
        end: {
          line: 164,
          column: 41
        }
      },
      "71": {
        start: {
          line: 165,
          column: 23
        },
        end: {
          line: 165,
          column: 42
        }
      },
      "72": {
        start: {
          line: 166,
          column: 8
        },
        end: {
          line: 166,
          column: 28
        }
      },
      "73": {
        start: {
          line: 169,
          column: 21
        },
        end: {
          line: 172,
          column: 6
        }
      },
      "74": {
        start: {
          line: 173,
          column: 8
        },
        end: {
          line: 173,
          column: 116
        }
      },
      "75": {
        start: {
          line: 176,
          column: 18
        },
        end: {
          line: 180,
          column: 5
        }
      },
      "76": {
        start: {
          line: 181,
          column: 23
        },
        end: {
          line: 181,
          column: 47
        }
      },
      "77": {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 185,
          column: 9
        }
      },
      "78": {
        start: {
          line: 183,
          column: 12
        },
        end: {
          line: 183,
          column: 41
        }
      },
      "79": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 184,
          column: 45
        }
      },
      "80": {
        start: {
          line: 186,
          column: 8
        },
        end: {
          line: 189,
          column: 9
        }
      },
      "81": {
        start: {
          line: 187,
          column: 12
        },
        end: {
          line: 187,
          column: 41
        }
      },
      "82": {
        start: {
          line: 188,
          column: 12
        },
        end: {
          line: 188,
          column: 43
        }
      },
      "83": {
        start: {
          line: 190,
          column: 8
        },
        end: {
          line: 193,
          column: 9
        }
      },
      "84": {
        start: {
          line: 191,
          column: 12
        },
        end: {
          line: 191,
          column: 37
        }
      },
      "85": {
        start: {
          line: 192,
          column: 12
        },
        end: {
          line: 192,
          column: 32
        }
      },
      "86": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 194,
          column: 42
        }
      },
      "87": {
        start: {
          line: 195,
          column: 21
        },
        end: {
          line: 195,
          column: 41
        }
      },
      "88": {
        start: {
          line: 196,
          column: 21
        },
        end: {
          line: 196,
          column: 40
        }
      },
      "89": {
        start: {
          line: 197,
          column: 8
        },
        end: {
          line: 206,
          column: 11
        }
      },
      "90": {
        start: {
          line: 198,
          column: 29
        },
        end: {
          line: 198,
          column: 32
        }
      },
      "91": {
        start: {
          line: 199,
          column: 12
        },
        end: {
          line: 205,
          column: 14
        }
      },
      "92": {
        start: {
          line: 209,
          column: 27
        },
        end: {
          line: 209,
          column: 37
        }
      },
      "93": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 210,
          column: 65
        }
      },
      "94": {
        start: {
          line: 211,
          column: 21
        },
        end: {
          line: 214,
          column: 6
        }
      },
      "95": {
        start: {
          line: 215,
          column: 23
        },
        end: {
          line: 215,
          column: 53
        }
      },
      "96": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 216,
          column: 30
        }
      },
      "97": {
        start: {
          line: 219,
          column: 0
        },
        end: {
          line: 219,
          column: 32
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 4
          },
          end: {
            line: 6,
            column: 5
          }
        },
        loc: {
          start: {
            line: 6,
            column: 18
          },
          end: {
            line: 8,
            column: 5
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        },
        loc: {
          start: {
            line: 9,
            column: 25
          },
          end: {
            line: 12,
            column: 5
          }
        },
        line: 9
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 25
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 13
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 27
          },
          end: {
            line: 60,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 61,
            column: 5
          }
        },
        loc: {
          start: {
            line: 61,
            column: 29
          },
          end: {
            line: 68,
            column: 5
          }
        },
        line: 61
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 69,
            column: 4
          },
          end: {
            line: 69,
            column: 5
          }
        },
        loc: {
          start: {
            line: 69,
            column: 30
          },
          end: {
            line: 83,
            column: 5
          }
        },
        line: 69
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 74,
            column: 48
          },
          end: {
            line: 74,
            column: 49
          }
        },
        loc: {
          start: {
            line: 74,
            column: 54
          },
          end: {
            line: 81,
            column: 9
          }
        },
        line: 74
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        },
        loc: {
          start: {
            line: 84,
            column: 27
          },
          end: {
            line: 136,
            column: 5
          }
        },
        line: 84
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 122,
            column: 24
          },
          end: {
            line: 122,
            column: 25
          }
        },
        loc: {
          start: {
            line: 122,
            column: 31
          },
          end: {
            line: 135,
            column: 9
          }
        },
        line: 122
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 137,
            column: 4
          },
          end: {
            line: 137,
            column: 5
          }
        },
        loc: {
          start: {
            line: 137,
            column: 31
          },
          end: {
            line: 167,
            column: 5
          }
        },
        line: 137
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 168,
            column: 5
          }
        },
        loc: {
          start: {
            line: 168,
            column: 82
          },
          end: {
            line: 174,
            column: 5
          }
        },
        line: 168
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 175,
            column: 4
          },
          end: {
            line: 175,
            column: 5
          }
        },
        loc: {
          start: {
            line: 175,
            column: 73
          },
          end: {
            line: 207,
            column: 5
          }
        },
        line: 175
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 197,
            column: 24
          },
          end: {
            line: 197,
            column: 25
          }
        },
        loc: {
          start: {
            line: 197,
            column: 31
          },
          end: {
            line: 206,
            column: 9
          }
        },
        line: 197
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 208,
            column: 4
          },
          end: {
            line: 208,
            column: 5
          }
        },
        loc: {
          start: {
            line: 208,
            column: 45
          },
          end: {
            line: 217,
            column: 5
          }
        },
        line: 208
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 14,
            column: 8
          },
          end: {
            line: 16,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 14,
            column: 8
          },
          end: {
            line: 16,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 14
      },
      "1": {
        loc: {
          start: {
            line: 66,
            column: 174
          },
          end: {
            line: 66,
            column: 228
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 66,
            column: 191
          },
          end: {
            line: 66,
            column: 221
          }
        }, {
          start: {
            line: 66,
            column: 224
          },
          end: {
            line: 66,
            column: 228
          }
        }],
        line: 66
      },
      "2": {
        loc: {
          start: {
            line: 77,
            column: 182
          },
          end: {
            line: 77,
            column: 236
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 77,
            column: 199
          },
          end: {
            line: 77,
            column: 229
          }
        }, {
          start: {
            line: 77,
            column: 232
          },
          end: {
            line: 77,
            column: 236
          }
        }],
        line: 77
      },
      "3": {
        loc: {
          start: {
            line: 91,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 91
      },
      "4": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 98,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 98,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "5": {
        loc: {
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "6": {
        loc: {
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 106,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 106,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 103
      },
      "7": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 110,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 110,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "8": {
        loc: {
          start: {
            line: 112,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 112,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 112
      },
      "9": {
        loc: {
          start: {
            line: 116,
            column: 8
          },
          end: {
            line: 119,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 116,
            column: 8
          },
          end: {
            line: 119,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 116
      },
      "10": {
        loc: {
          start: {
            line: 133,
            column: 26
          },
          end: {
            line: 133,
            column: 82
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 133,
            column: 46
          },
          end: {
            line: 133,
            column: 75
          }
        }, {
          start: {
            line: 133,
            column: 78
          },
          end: {
            line: 133,
            column: 82
          }
        }],
        line: 133
      },
      "11": {
        loc: {
          start: {
            line: 144,
            column: 8
          },
          end: {
            line: 147,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 144,
            column: 8
          },
          end: {
            line: 147,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 144
      },
      "12": {
        loc: {
          start: {
            line: 148,
            column: 8
          },
          end: {
            line: 151,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 148,
            column: 8
          },
          end: {
            line: 151,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 148
      },
      "13": {
        loc: {
          start: {
            line: 152,
            column: 8
          },
          end: {
            line: 155,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 152,
            column: 8
          },
          end: {
            line: 155,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 152
      },
      "14": {
        loc: {
          start: {
            line: 156,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 156,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 156
      },
      "15": {
        loc: {
          start: {
            line: 160,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 160,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 160
      },
      "16": {
        loc: {
          start: {
            line: 168,
            column: 65
          },
          end: {
            line: 168,
            column: 80
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 168,
            column: 74
          },
          end: {
            line: 168,
            column: 80
          }
        }],
        line: 168
      },
      "17": {
        loc: {
          start: {
            line: 173,
            column: 48
          },
          end: {
            line: 173,
            column: 94
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 173,
            column: 61
          },
          end: {
            line: 173,
            column: 87
          }
        }, {
          start: {
            line: 173,
            column: 90
          },
          end: {
            line: 173,
            column: 94
          }
        }],
        line: 173
      },
      "18": {
        loc: {
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 182
      },
      "19": {
        loc: {
          start: {
            line: 186,
            column: 8
          },
          end: {
            line: 189,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 186,
            column: 8
          },
          end: {
            line: 189,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 186
      },
      "20": {
        loc: {
          start: {
            line: 190,
            column: 8
          },
          end: {
            line: 193,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 190,
            column: 8
          },
          end: {
            line: 193,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 190
      },
      "21": {
        loc: {
          start: {
            line: 202,
            column: 28
          },
          end: {
            line: 202,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 202,
            column: 50
          },
          end: {
            line: 202,
            column: 81
          }
        }, {
          start: {
            line: 202,
            column: 84
          },
          end: {
            line: 202,
            column: 88
          }
        }],
        line: 202
      },
      "22": {
        loc: {
          start: {
            line: 208,
            column: 25
          },
          end: {
            line: 208,
            column: 43
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 208,
            column: 41
          },
          end: {
            line: 208,
            column: 43
          }
        }],
        line: 208
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0]
    },
    inputSourceMap: {
      file: "/workspaces/prompt-card-system/backend/src/services/analytics/EventStore.ts",
      mappings: "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",
      names: [],
      sources: ["/workspaces/prompt-card-system/backend/src/services/analytics/EventStore.ts"],
      sourcesContent: ["import { Database } from 'better-sqlite3';\nimport { initializeDatabase } from '../../database/connection';\n\nexport interface AnalyticsEvent {\n  id?: string;\n  event_type: string;\n  entity_id: string;\n  entity_type: string;\n  data: any;\n  timestamp: Date;\n  user_id?: string;\n  session_id?: string;\n  metadata?: any;\n}\n\nexport interface EventQuery {\n  event_type?: string;\n  entity_type?: string;\n  entity_id?: string;\n  start_time?: Date;\n  end_time?: Date;\n  limit?: number;\n  offset?: number;\n}\n\nexport class EventStore {\n  private db: any;\n  private static instance: EventStore;\n\n  private constructor() {\n    this.initializeDb();\n  }\n\n  private async initializeDb(): Promise<void> {\n    this.db = await initializeDatabase();\n    this.initializeEventStore();\n  }\n\n  public static getInstance(): EventStore {\n    if (!EventStore.instance) {\n      EventStore.instance = new EventStore();\n    }\n    return EventStore.instance;\n  }\n\n  private initializeEventStore(): void {\n    // Create analytics events table\n    this.db.exec(`\n      CREATE TABLE IF NOT EXISTS analytics_events (\n        id TEXT PRIMARY KEY DEFAULT (hex(randomblob(16))),\n        event_type TEXT NOT NULL,\n        entity_id TEXT NOT NULL,\n        entity_type TEXT NOT NULL,\n        data TEXT NOT NULL,\n        timestamp INTEGER NOT NULL,\n        user_id TEXT,\n        session_id TEXT,\n        metadata TEXT,\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    // Create indexes for performance\n    this.db.exec(`\n      CREATE INDEX IF NOT EXISTS idx_analytics_events_type ON analytics_events(event_type);\n      CREATE INDEX IF NOT EXISTS idx_analytics_events_entity ON analytics_events(entity_type, entity_id);\n      CREATE INDEX IF NOT EXISTS idx_analytics_events_timestamp ON analytics_events(timestamp);\n      CREATE INDEX IF NOT EXISTS idx_analytics_events_session ON analytics_events(session_id);\n    `);\n\n    // Create aggregated metrics table for performance\n    this.db.exec(`\n      CREATE TABLE IF NOT EXISTS analytics_metrics (\n        id TEXT PRIMARY KEY DEFAULT (hex(randomblob(16))),\n        metric_type TEXT NOT NULL,\n        metric_name TEXT NOT NULL,\n        value REAL NOT NULL,\n        dimensions TEXT,\n        timestamp INTEGER NOT NULL,\n        period TEXT NOT NULL,\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    // Create indexes for metrics\n    this.db.exec(`\n      CREATE INDEX IF NOT EXISTS idx_analytics_metrics_type ON analytics_metrics(metric_type, metric_name);\n      CREATE INDEX IF NOT EXISTS idx_analytics_metrics_timestamp ON analytics_metrics(timestamp, period);\n    `);\n  }\n\n  public async recordEvent(event: AnalyticsEvent): Promise<string> {\n    const stmt = this.db.prepare(`\n      INSERT INTO analytics_events (event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    `);\n\n    const result = stmt.run(\n      event.event_type,\n      event.entity_id,\n      event.entity_type,\n      JSON.stringify(event.data),\n      event.timestamp.getTime(),\n      event.user_id,\n      event.session_id,\n      event.metadata ? JSON.stringify(event.metadata) : null\n    );\n\n    return result.lastInsertRowid.toString();\n  }\n\n  public async recordBatch(events: AnalyticsEvent[]): Promise<string[]> {\n    const stmt = this.db.prepare(`\n      INSERT INTO analytics_events (event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    `);\n\n    const transaction = this.db.transaction(() => {\n      const ids: string[] = [];\n      for (const event of events) {\n        const result = stmt.run(\n          event.event_type,\n          event.entity_id,\n          event.entity_type,\n          JSON.stringify(event.data),\n          event.timestamp.getTime(),\n          event.user_id,\n          event.session_id,\n          event.metadata ? JSON.stringify(event.metadata) : null\n        );\n        ids.push(result.lastInsertRowid.toString());\n      }\n      return ids;\n    });\n\n    return transaction();\n  }\n\n  public async getEvents(query: EventQuery): Promise<AnalyticsEvent[]> {\n    let sql = `\n      SELECT id, event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata\n      FROM analytics_events\n      WHERE 1=1\n    `;\n    const params: any[] = [];\n\n    if (query.event_type) {\n      sql += ` AND event_type = ?`;\n      params.push(query.event_type);\n    }\n\n    if (query.entity_type) {\n      sql += ` AND entity_type = ?`;\n      params.push(query.entity_type);\n    }\n\n    if (query.entity_id) {\n      sql += ` AND entity_id = ?`;\n      params.push(query.entity_id);\n    }\n\n    if (query.start_time) {\n      sql += ` AND timestamp >= ?`;\n      params.push(query.start_time.getTime());\n    }\n\n    if (query.end_time) {\n      sql += ` AND timestamp <= ?`;\n      params.push(query.end_time.getTime());\n    }\n\n    sql += ` ORDER BY timestamp DESC`;\n\n    if (query.limit) {\n      sql += ` LIMIT ?`;\n      params.push(query.limit);\n    }\n\n    if (query.offset) {\n      sql += ` OFFSET ?`;\n      params.push(query.offset);\n    }\n\n    const stmt = this.db.prepare(sql);\n    const rows = stmt.all(...params);\n\n    return rows.map(row => {\n      const typedRow = row as any;\n      return {\n        id: typedRow.id,\n        event_type: typedRow.event_type,\n        entity_id: typedRow.entity_id,\n        entity_type: typedRow.entity_type,\n        data: JSON.parse(typedRow.data),\n        timestamp: new Date(typedRow.timestamp),\n        user_id: typedRow.user_id,\n        session_id: typedRow.session_id,\n        metadata: typedRow.metadata ? JSON.parse(typedRow.metadata) : null\n      };\n    });\n  }\n\n  public async getEventCount(query: EventQuery): Promise<number> {\n    let sql = `\n      SELECT COUNT(*) as count\n      FROM analytics_events\n      WHERE 1=1\n    `;\n    const params: any[] = [];\n\n    if (query.event_type) {\n      sql += ` AND event_type = ?`;\n      params.push(query.event_type);\n    }\n\n    if (query.entity_type) {\n      sql += ` AND entity_type = ?`;\n      params.push(query.entity_type);\n    }\n\n    if (query.entity_id) {\n      sql += ` AND entity_id = ?`;\n      params.push(query.entity_id);\n    }\n\n    if (query.start_time) {\n      sql += ` AND timestamp >= ?`;\n      params.push(query.start_time.getTime());\n    }\n\n    if (query.end_time) {\n      sql += ` AND timestamp <= ?`;\n      params.push(query.end_time.getTime());\n    }\n\n    const stmt = this.db.prepare(sql);\n    const result = stmt.get(...params) as any;\n    return result.count;\n  }\n\n  public async storeMetric(\n    metricType: string,\n    metricName: string,\n    value: number,\n    dimensions?: Record<string, any>,\n    period: string = 'hour'\n  ): Promise<void> {\n    const stmt = this.db.prepare(`\n      INSERT INTO analytics_metrics (metric_type, metric_name, value, dimensions, timestamp, period)\n      VALUES (?, ?, ?, ?, ?, ?)\n    `);\n\n    stmt.run(\n      metricType,\n      metricName,\n      value,\n      dimensions ? JSON.stringify(dimensions) : null,\n      Date.now(),\n      period\n    );\n  }\n\n  public async getMetrics(\n    metricType: string,\n    metricName: string,\n    startTime?: Date,\n    endTime?: Date,\n    period?: string\n  ): Promise<any[]> {\n    let sql = `\n      SELECT metric_name, value, dimensions, timestamp, period\n      FROM analytics_metrics\n      WHERE metric_type = ? AND metric_name = ?\n    `;\n    const params: any[] = [metricType, metricName];\n\n    if (startTime) {\n      sql += ` AND timestamp >= ?`;\n      params.push(startTime.getTime());\n    }\n\n    if (endTime) {\n      sql += ` AND timestamp <= ?`;\n      params.push(endTime.getTime());\n    }\n\n    if (period) {\n      sql += ` AND period = ?`;\n      params.push(period);\n    }\n\n    sql += ` ORDER BY timestamp DESC`;\n\n    const stmt = this.db.prepare(sql);\n    const rows = stmt.all(...params);\n\n    return rows.map(row => {\n      const typedRow = row as any;\n      return {\n        metric_name: typedRow.metric_name,\n        value: typedRow.value,\n        dimensions: typedRow.dimensions ? JSON.parse(typedRow.dimensions) : null,\n        timestamp: new Date(typedRow.timestamp),\n        period: typedRow.period\n      };\n    });\n  }\n\n  public async clearOldEvents(olderThanDays: number = 90): Promise<number> {\n    const cutoffTime = new Date();\n    cutoffTime.setDate(cutoffTime.getDate() - olderThanDays);\n\n    const stmt = this.db.prepare(`\n      DELETE FROM analytics_events\n      WHERE timestamp < ?\n    `);\n\n    const result = stmt.run(cutoffTime.getTime());\n    return result.changes;\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "dd3e352608258606140a875ec79a326729e6cbd6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1uf5qqmc8s = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1uf5qqmc8s();
cov_1uf5qqmc8s().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1uf5qqmc8s().s[1]++;
exports.EventStore = void 0;
const connection_1 =
/* istanbul ignore next */
(cov_1uf5qqmc8s().s[2]++, require("../../database/connection"));
class EventStore {
  constructor() {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[0]++;
    cov_1uf5qqmc8s().s[3]++;
    this.initializeDb();
  }
  async initializeDb() {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[1]++;
    cov_1uf5qqmc8s().s[4]++;
    this.db = await (0, connection_1.initializeDatabase)();
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[5]++;
    this.initializeEventStore();
  }
  static getInstance() {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[2]++;
    cov_1uf5qqmc8s().s[6]++;
    if (!EventStore.instance) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[0][0]++;
      cov_1uf5qqmc8s().s[7]++;
      EventStore.instance = new EventStore();
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[0][1]++;
    }
    cov_1uf5qqmc8s().s[8]++;
    return EventStore.instance;
  }
  initializeEventStore() {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[3]++;
    cov_1uf5qqmc8s().s[9]++;
    // Create analytics events table
    this.db.exec(`
      CREATE TABLE IF NOT EXISTS analytics_events (
        id TEXT PRIMARY KEY DEFAULT (hex(randomblob(16))),
        event_type TEXT NOT NULL,
        entity_id TEXT NOT NULL,
        entity_type TEXT NOT NULL,
        data TEXT NOT NULL,
        timestamp INTEGER NOT NULL,
        user_id TEXT,
        session_id TEXT,
        metadata TEXT,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP
      )
    `);
    // Create indexes for performance
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[10]++;
    this.db.exec(`
      CREATE INDEX IF NOT EXISTS idx_analytics_events_type ON analytics_events(event_type);
      CREATE INDEX IF NOT EXISTS idx_analytics_events_entity ON analytics_events(entity_type, entity_id);
      CREATE INDEX IF NOT EXISTS idx_analytics_events_timestamp ON analytics_events(timestamp);
      CREATE INDEX IF NOT EXISTS idx_analytics_events_session ON analytics_events(session_id);
    `);
    // Create aggregated metrics table for performance
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[11]++;
    this.db.exec(`
      CREATE TABLE IF NOT EXISTS analytics_metrics (
        id TEXT PRIMARY KEY DEFAULT (hex(randomblob(16))),
        metric_type TEXT NOT NULL,
        metric_name TEXT NOT NULL,
        value REAL NOT NULL,
        dimensions TEXT,
        timestamp INTEGER NOT NULL,
        period TEXT NOT NULL,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP
      )
    `);
    // Create indexes for metrics
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[12]++;
    this.db.exec(`
      CREATE INDEX IF NOT EXISTS idx_analytics_metrics_type ON analytics_metrics(metric_type, metric_name);
      CREATE INDEX IF NOT EXISTS idx_analytics_metrics_timestamp ON analytics_metrics(timestamp, period);
    `);
  }
  async recordEvent(event) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[4]++;
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[13]++, this.db.prepare(`
      INSERT INTO analytics_events (event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    `));
    const result =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[14]++, stmt.run(event.event_type, event.entity_id, event.entity_type, JSON.stringify(event.data), event.timestamp.getTime(), event.user_id, event.session_id, event.metadata ?
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().b[1][0]++, JSON.stringify(event.metadata)) :
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().b[1][1]++, null)));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[15]++;
    return result.lastInsertRowid.toString();
  }
  async recordBatch(events) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[5]++;
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[16]++, this.db.prepare(`
      INSERT INTO analytics_events (event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    `));
    const transaction =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[17]++, this.db.transaction(() => {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().f[6]++;
      const ids =
      /* istanbul ignore next */
      (cov_1uf5qqmc8s().s[18]++, []);
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[19]++;
      for (const event of events) {
        const result =
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().s[20]++, stmt.run(event.event_type, event.entity_id, event.entity_type, JSON.stringify(event.data), event.timestamp.getTime(), event.user_id, event.session_id, event.metadata ?
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[2][0]++, JSON.stringify(event.metadata)) :
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[2][1]++, null)));
        /* istanbul ignore next */
        cov_1uf5qqmc8s().s[21]++;
        ids.push(result.lastInsertRowid.toString());
      }
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[22]++;
      return ids;
    }));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[23]++;
    return transaction();
  }
  async getEvents(query) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[7]++;
    let sql =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[24]++, `
      SELECT id, event_type, entity_id, entity_type, data, timestamp, user_id, session_id, metadata
      FROM analytics_events
      WHERE 1=1
    `);
    const params =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[25]++, []);
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[26]++;
    if (query.event_type) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[3][0]++;
      cov_1uf5qqmc8s().s[27]++;
      sql += ` AND event_type = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[28]++;
      params.push(query.event_type);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[3][1]++;
    }
    cov_1uf5qqmc8s().s[29]++;
    if (query.entity_type) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[4][0]++;
      cov_1uf5qqmc8s().s[30]++;
      sql += ` AND entity_type = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[31]++;
      params.push(query.entity_type);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[4][1]++;
    }
    cov_1uf5qqmc8s().s[32]++;
    if (query.entity_id) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[5][0]++;
      cov_1uf5qqmc8s().s[33]++;
      sql += ` AND entity_id = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[34]++;
      params.push(query.entity_id);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[5][1]++;
    }
    cov_1uf5qqmc8s().s[35]++;
    if (query.start_time) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[6][0]++;
      cov_1uf5qqmc8s().s[36]++;
      sql += ` AND timestamp >= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[37]++;
      params.push(query.start_time.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[6][1]++;
    }
    cov_1uf5qqmc8s().s[38]++;
    if (query.end_time) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[7][0]++;
      cov_1uf5qqmc8s().s[39]++;
      sql += ` AND timestamp <= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[40]++;
      params.push(query.end_time.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[7][1]++;
    }
    cov_1uf5qqmc8s().s[41]++;
    sql += ` ORDER BY timestamp DESC`;
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[42]++;
    if (query.limit) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[8][0]++;
      cov_1uf5qqmc8s().s[43]++;
      sql += ` LIMIT ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[44]++;
      params.push(query.limit);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[8][1]++;
    }
    cov_1uf5qqmc8s().s[45]++;
    if (query.offset) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[9][0]++;
      cov_1uf5qqmc8s().s[46]++;
      sql += ` OFFSET ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[47]++;
      params.push(query.offset);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[9][1]++;
    }
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[48]++, this.db.prepare(sql));
    const rows =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[49]++, stmt.all(...params));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[50]++;
    return rows.map(row => {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().f[8]++;
      const typedRow =
      /* istanbul ignore next */
      (cov_1uf5qqmc8s().s[51]++, row);
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[52]++;
      return {
        id: typedRow.id,
        event_type: typedRow.event_type,
        entity_id: typedRow.entity_id,
        entity_type: typedRow.entity_type,
        data: JSON.parse(typedRow.data),
        timestamp: new Date(typedRow.timestamp),
        user_id: typedRow.user_id,
        session_id: typedRow.session_id,
        metadata: typedRow.metadata ?
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[10][0]++, JSON.parse(typedRow.metadata)) :
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[10][1]++, null)
      };
    });
  }
  async getEventCount(query) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[9]++;
    let sql =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[53]++, `
      SELECT COUNT(*) as count
      FROM analytics_events
      WHERE 1=1
    `);
    const params =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[54]++, []);
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[55]++;
    if (query.event_type) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[11][0]++;
      cov_1uf5qqmc8s().s[56]++;
      sql += ` AND event_type = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[57]++;
      params.push(query.event_type);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[11][1]++;
    }
    cov_1uf5qqmc8s().s[58]++;
    if (query.entity_type) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[12][0]++;
      cov_1uf5qqmc8s().s[59]++;
      sql += ` AND entity_type = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[60]++;
      params.push(query.entity_type);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[12][1]++;
    }
    cov_1uf5qqmc8s().s[61]++;
    if (query.entity_id) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[13][0]++;
      cov_1uf5qqmc8s().s[62]++;
      sql += ` AND entity_id = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[63]++;
      params.push(query.entity_id);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[13][1]++;
    }
    cov_1uf5qqmc8s().s[64]++;
    if (query.start_time) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[14][0]++;
      cov_1uf5qqmc8s().s[65]++;
      sql += ` AND timestamp >= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[66]++;
      params.push(query.start_time.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[14][1]++;
    }
    cov_1uf5qqmc8s().s[67]++;
    if (query.end_time) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[15][0]++;
      cov_1uf5qqmc8s().s[68]++;
      sql += ` AND timestamp <= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[69]++;
      params.push(query.end_time.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[15][1]++;
    }
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[70]++, this.db.prepare(sql));
    const result =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[71]++, stmt.get(...params));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[72]++;
    return result.count;
  }
  async storeMetric(metricType, metricName, value, dimensions, period =
  /* istanbul ignore next */
  (cov_1uf5qqmc8s().b[16][0]++, 'hour')) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[10]++;
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[73]++, this.db.prepare(`
      INSERT INTO analytics_metrics (metric_type, metric_name, value, dimensions, timestamp, period)
      VALUES (?, ?, ?, ?, ?, ?)
    `));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[74]++;
    stmt.run(metricType, metricName, value, dimensions ?
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().b[17][0]++, JSON.stringify(dimensions)) :
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().b[17][1]++, null), Date.now(), period);
  }
  async getMetrics(metricType, metricName, startTime, endTime, period) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[11]++;
    let sql =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[75]++, `
      SELECT metric_name, value, dimensions, timestamp, period
      FROM analytics_metrics
      WHERE metric_type = ? AND metric_name = ?
    `);
    const params =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[76]++, [metricType, metricName]);
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[77]++;
    if (startTime) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[18][0]++;
      cov_1uf5qqmc8s().s[78]++;
      sql += ` AND timestamp >= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[79]++;
      params.push(startTime.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[18][1]++;
    }
    cov_1uf5qqmc8s().s[80]++;
    if (endTime) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[19][0]++;
      cov_1uf5qqmc8s().s[81]++;
      sql += ` AND timestamp <= ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[82]++;
      params.push(endTime.getTime());
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[19][1]++;
    }
    cov_1uf5qqmc8s().s[83]++;
    if (period) {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().b[20][0]++;
      cov_1uf5qqmc8s().s[84]++;
      sql += ` AND period = ?`;
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[85]++;
      params.push(period);
    } else
    /* istanbul ignore next */
    {
      cov_1uf5qqmc8s().b[20][1]++;
    }
    cov_1uf5qqmc8s().s[86]++;
    sql += ` ORDER BY timestamp DESC`;
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[87]++, this.db.prepare(sql));
    const rows =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[88]++, stmt.all(...params));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[89]++;
    return rows.map(row => {
      /* istanbul ignore next */
      cov_1uf5qqmc8s().f[12]++;
      const typedRow =
      /* istanbul ignore next */
      (cov_1uf5qqmc8s().s[90]++, row);
      /* istanbul ignore next */
      cov_1uf5qqmc8s().s[91]++;
      return {
        metric_name: typedRow.metric_name,
        value: typedRow.value,
        dimensions: typedRow.dimensions ?
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[21][0]++, JSON.parse(typedRow.dimensions)) :
        /* istanbul ignore next */
        (cov_1uf5qqmc8s().b[21][1]++, null),
        timestamp: new Date(typedRow.timestamp),
        period: typedRow.period
      };
    });
  }
  async clearOldEvents(olderThanDays =
  /* istanbul ignore next */
  (cov_1uf5qqmc8s().b[22][0]++, 90)) {
    /* istanbul ignore next */
    cov_1uf5qqmc8s().f[13]++;
    const cutoffTime =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[92]++, new Date());
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[93]++;
    cutoffTime.setDate(cutoffTime.getDate() - olderThanDays);
    const stmt =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[94]++, this.db.prepare(`
      DELETE FROM analytics_events
      WHERE timestamp < ?
    `));
    const result =
    /* istanbul ignore next */
    (cov_1uf5qqmc8s().s[95]++, stmt.run(cutoffTime.getTime()));
    /* istanbul ignore next */
    cov_1uf5qqmc8s().s[96]++;
    return result.changes;
  }
}
/* istanbul ignore next */
cov_1uf5qqmc8s().s[97]++;
exports.EventStore = EventStore;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXVmNXFxbWM4cyIsImFjdHVhbENvdmVyYWdlIiwicyIsImNvbm5lY3Rpb25fMSIsInJlcXVpcmUiLCJFdmVudFN0b3JlIiwiY29uc3RydWN0b3IiLCJmIiwiaW5pdGlhbGl6ZURiIiwiZGIiLCJpbml0aWFsaXplRGF0YWJhc2UiLCJpbml0aWFsaXplRXZlbnRTdG9yZSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJiIiwiZXhlYyIsInJlY29yZEV2ZW50IiwiZXZlbnQiLCJzdG10IiwicHJlcGFyZSIsInJlc3VsdCIsInJ1biIsImV2ZW50X3R5cGUiLCJlbnRpdHlfaWQiLCJlbnRpdHlfdHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwidGltZXN0YW1wIiwiZ2V0VGltZSIsInVzZXJfaWQiLCJzZXNzaW9uX2lkIiwibWV0YWRhdGEiLCJsYXN0SW5zZXJ0Um93aWQiLCJ0b1N0cmluZyIsInJlY29yZEJhdGNoIiwiZXZlbnRzIiwidHJhbnNhY3Rpb24iLCJpZHMiLCJwdXNoIiwiZ2V0RXZlbnRzIiwicXVlcnkiLCJzcWwiLCJwYXJhbXMiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJsaW1pdCIsIm9mZnNldCIsInJvd3MiLCJhbGwiLCJtYXAiLCJyb3ciLCJ0eXBlZFJvdyIsImlkIiwicGFyc2UiLCJEYXRlIiwiZ2V0RXZlbnRDb3VudCIsImdldCIsImNvdW50Iiwic3RvcmVNZXRyaWMiLCJtZXRyaWNUeXBlIiwibWV0cmljTmFtZSIsInZhbHVlIiwiZGltZW5zaW9ucyIsInBlcmlvZCIsIm5vdyIsImdldE1ldHJpY3MiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwibWV0cmljX25hbWUiLCJjbGVhck9sZEV2ZW50cyIsIm9sZGVyVGhhbkRheXMiLCJjdXRvZmZUaW1lIiwic2V0RGF0ZSIsImdldERhdGUiLCJjaGFuZ2VzIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9iYWNrZW5kL3NyYy9zZXJ2aWNlcy9hbmFseXRpY3MvRXZlbnRTdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJ2JldHRlci1zcWxpdGUzJztcbmltcG9ydCB7IGluaXRpYWxpemVEYXRhYmFzZSB9IGZyb20gJy4uLy4uL2RhdGFiYXNlL2Nvbm5lY3Rpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc0V2ZW50IHtcbiAgaWQ/OiBzdHJpbmc7XG4gIGV2ZW50X3R5cGU6IHN0cmluZztcbiAgZW50aXR5X2lkOiBzdHJpbmc7XG4gIGVudGl0eV90eXBlOiBzdHJpbmc7XG4gIGRhdGE6IGFueTtcbiAgdGltZXN0YW1wOiBEYXRlO1xuICB1c2VyX2lkPzogc3RyaW5nO1xuICBzZXNzaW9uX2lkPzogc3RyaW5nO1xuICBtZXRhZGF0YT86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFF1ZXJ5IHtcbiAgZXZlbnRfdHlwZT86IHN0cmluZztcbiAgZW50aXR5X3R5cGU/OiBzdHJpbmc7XG4gIGVudGl0eV9pZD86IHN0cmluZztcbiAgc3RhcnRfdGltZT86IERhdGU7XG4gIGVuZF90aW1lPzogRGF0ZTtcbiAgbGltaXQ/OiBudW1iZXI7XG4gIG9mZnNldD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50U3RvcmUge1xuICBwcml2YXRlIGRiOiBhbnk7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBFdmVudFN0b3JlO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplRGIoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZURiKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZGIgPSBhd2FpdCBpbml0aWFsaXplRGF0YWJhc2UoKTtcbiAgICB0aGlzLmluaXRpYWxpemVFdmVudFN0b3JlKCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEV2ZW50U3RvcmUge1xuICAgIGlmICghRXZlbnRTdG9yZS5pbnN0YW5jZSkge1xuICAgICAgRXZlbnRTdG9yZS5pbnN0YW5jZSA9IG5ldyBFdmVudFN0b3JlKCk7XG4gICAgfVxuICAgIHJldHVybiBFdmVudFN0b3JlLmluc3RhbmNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplRXZlbnRTdG9yZSgpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgYW5hbHl0aWNzIGV2ZW50cyB0YWJsZVxuICAgIHRoaXMuZGIuZXhlYyhgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBhbmFseXRpY3NfZXZlbnRzIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSBERUZBVUxUIChoZXgocmFuZG9tYmxvYigxNikpKSxcbiAgICAgICAgZXZlbnRfdHlwZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBlbnRpdHlfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZW50aXR5X3R5cGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZGF0YSBURVhUIE5PVCBOVUxMLFxuICAgICAgICB0aW1lc3RhbXAgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgdXNlcl9pZCBURVhULFxuICAgICAgICBzZXNzaW9uX2lkIFRFWFQsXG4gICAgICAgIG1ldGFkYXRhIFRFWFQsXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGApO1xuXG4gICAgLy8gQ3JlYXRlIGluZGV4ZXMgZm9yIHBlcmZvcm1hbmNlXG4gICAgdGhpcy5kYi5leGVjKGBcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9hbmFseXRpY3NfZXZlbnRzX3R5cGUgT04gYW5hbHl0aWNzX2V2ZW50cyhldmVudF90eXBlKTtcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9hbmFseXRpY3NfZXZlbnRzX2VudGl0eSBPTiBhbmFseXRpY3NfZXZlbnRzKGVudGl0eV90eXBlLCBlbnRpdHlfaWQpO1xuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2FuYWx5dGljc19ldmVudHNfdGltZXN0YW1wIE9OIGFuYWx5dGljc19ldmVudHModGltZXN0YW1wKTtcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9hbmFseXRpY3NfZXZlbnRzX3Nlc3Npb24gT04gYW5hbHl0aWNzX2V2ZW50cyhzZXNzaW9uX2lkKTtcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSBhZ2dyZWdhdGVkIG1ldHJpY3MgdGFibGUgZm9yIHBlcmZvcm1hbmNlXG4gICAgdGhpcy5kYi5leGVjKGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFuYWx5dGljc19tZXRyaWNzIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSBERUZBVUxUIChoZXgocmFuZG9tYmxvYigxNikpKSxcbiAgICAgICAgbWV0cmljX3R5cGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgbWV0cmljX25hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgdmFsdWUgUkVBTCBOT1QgTlVMTCxcbiAgICAgICAgZGltZW5zaW9ucyBURVhULFxuICAgICAgICB0aW1lc3RhbXAgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgcGVyaW9kIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGApO1xuXG4gICAgLy8gQ3JlYXRlIGluZGV4ZXMgZm9yIG1ldHJpY3NcbiAgICB0aGlzLmRiLmV4ZWMoYFxuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2FuYWx5dGljc19tZXRyaWNzX3R5cGUgT04gYW5hbHl0aWNzX21ldHJpY3MobWV0cmljX3R5cGUsIG1ldHJpY19uYW1lKTtcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9hbmFseXRpY3NfbWV0cmljc190aW1lc3RhbXAgT04gYW5hbHl0aWNzX21ldHJpY3ModGltZXN0YW1wLCBwZXJpb2QpO1xuICAgIGApO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHJlY29yZEV2ZW50KGV2ZW50OiBBbmFseXRpY3NFdmVudCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBJTlNFUlQgSU5UTyBhbmFseXRpY3NfZXZlbnRzIChldmVudF90eXBlLCBlbnRpdHlfaWQsIGVudGl0eV90eXBlLCBkYXRhLCB0aW1lc3RhbXAsIHVzZXJfaWQsIHNlc3Npb25faWQsIG1ldGFkYXRhKVxuICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICAgIGApO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oXG4gICAgICBldmVudC5ldmVudF90eXBlLFxuICAgICAgZXZlbnQuZW50aXR5X2lkLFxuICAgICAgZXZlbnQuZW50aXR5X3R5cGUsXG4gICAgICBKU09OLnN0cmluZ2lmeShldmVudC5kYXRhKSxcbiAgICAgIGV2ZW50LnRpbWVzdGFtcC5nZXRUaW1lKCksXG4gICAgICBldmVudC51c2VyX2lkLFxuICAgICAgZXZlbnQuc2Vzc2lvbl9pZCxcbiAgICAgIGV2ZW50Lm1ldGFkYXRhID8gSlNPTi5zdHJpbmdpZnkoZXZlbnQubWV0YWRhdGEpIDogbnVsbFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzdWx0Lmxhc3RJbnNlcnRSb3dpZC50b1N0cmluZygpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHJlY29yZEJhdGNoKGV2ZW50czogQW5hbHl0aWNzRXZlbnRbXSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBJTlRPIGFuYWx5dGljc19ldmVudHMgKGV2ZW50X3R5cGUsIGVudGl0eV9pZCwgZW50aXR5X3R5cGUsIGRhdGEsIHRpbWVzdGFtcCwgdXNlcl9pZCwgc2Vzc2lvbl9pZCwgbWV0YWRhdGEpXG4gICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgYCk7XG5cbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oKCkgPT4ge1xuICAgICAgY29uc3QgaWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oXG4gICAgICAgICAgZXZlbnQuZXZlbnRfdHlwZSxcbiAgICAgICAgICBldmVudC5lbnRpdHlfaWQsXG4gICAgICAgICAgZXZlbnQuZW50aXR5X3R5cGUsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZXZlbnQuZGF0YSksXG4gICAgICAgICAgZXZlbnQudGltZXN0YW1wLmdldFRpbWUoKSxcbiAgICAgICAgICBldmVudC51c2VyX2lkLFxuICAgICAgICAgIGV2ZW50LnNlc3Npb25faWQsXG4gICAgICAgICAgZXZlbnQubWV0YWRhdGEgPyBKU09OLnN0cmluZ2lmeShldmVudC5tZXRhZGF0YSkgOiBudWxsXG4gICAgICAgICk7XG4gICAgICAgIGlkcy5wdXNoKHJlc3VsdC5sYXN0SW5zZXJ0Um93aWQudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaWRzO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uKCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0RXZlbnRzKHF1ZXJ5OiBFdmVudFF1ZXJ5KTogUHJvbWlzZTxBbmFseXRpY3NFdmVudFtdPiB7XG4gICAgbGV0IHNxbCA9IGBcbiAgICAgIFNFTEVDVCBpZCwgZXZlbnRfdHlwZSwgZW50aXR5X2lkLCBlbnRpdHlfdHlwZSwgZGF0YSwgdGltZXN0YW1wLCB1c2VyX2lkLCBzZXNzaW9uX2lkLCBtZXRhZGF0YVxuICAgICAgRlJPTSBhbmFseXRpY3NfZXZlbnRzXG4gICAgICBXSEVSRSAxPTFcbiAgICBgO1xuICAgIGNvbnN0IHBhcmFtczogYW55W10gPSBbXTtcblxuICAgIGlmIChxdWVyeS5ldmVudF90eXBlKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgZXZlbnRfdHlwZSA9ID9gO1xuICAgICAgcGFyYW1zLnB1c2gocXVlcnkuZXZlbnRfdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5LmVudGl0eV90eXBlKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgZW50aXR5X3R5cGUgPSA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHF1ZXJ5LmVudGl0eV90eXBlKTtcbiAgICB9XG5cbiAgICBpZiAocXVlcnkuZW50aXR5X2lkKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgZW50aXR5X2lkID0gP2A7XG4gICAgICBwYXJhbXMucHVzaChxdWVyeS5lbnRpdHlfaWQpO1xuICAgIH1cblxuICAgIGlmIChxdWVyeS5zdGFydF90aW1lKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgdGltZXN0YW1wID49ID9gO1xuICAgICAgcGFyYW1zLnB1c2gocXVlcnkuc3RhcnRfdGltZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGlmIChxdWVyeS5lbmRfdGltZSkge1xuICAgICAgc3FsICs9IGAgQU5EIHRpbWVzdGFtcCA8PSA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHF1ZXJ5LmVuZF90aW1lLmdldFRpbWUoKSk7XG4gICAgfVxuXG4gICAgc3FsICs9IGAgT1JERVIgQlkgdGltZXN0YW1wIERFU0NgO1xuXG4gICAgaWYgKHF1ZXJ5LmxpbWl0KSB7XG4gICAgICBzcWwgKz0gYCBMSU1JVCA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHF1ZXJ5LmxpbWl0KTtcbiAgICB9XG5cbiAgICBpZiAocXVlcnkub2Zmc2V0KSB7XG4gICAgICBzcWwgKz0gYCBPRkZTRVQgP2A7XG4gICAgICBwYXJhbXMucHVzaChxdWVyeS5vZmZzZXQpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoc3FsKTtcbiAgICBjb25zdCByb3dzID0gc3RtdC5hbGwoLi4ucGFyYW1zKTtcblxuICAgIHJldHVybiByb3dzLm1hcChyb3cgPT4ge1xuICAgICAgY29uc3QgdHlwZWRSb3cgPSByb3cgYXMgYW55O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHR5cGVkUm93LmlkLFxuICAgICAgICBldmVudF90eXBlOiB0eXBlZFJvdy5ldmVudF90eXBlLFxuICAgICAgICBlbnRpdHlfaWQ6IHR5cGVkUm93LmVudGl0eV9pZCxcbiAgICAgICAgZW50aXR5X3R5cGU6IHR5cGVkUm93LmVudGl0eV90eXBlLFxuICAgICAgICBkYXRhOiBKU09OLnBhcnNlKHR5cGVkUm93LmRhdGEpLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKHR5cGVkUm93LnRpbWVzdGFtcCksXG4gICAgICAgIHVzZXJfaWQ6IHR5cGVkUm93LnVzZXJfaWQsXG4gICAgICAgIHNlc3Npb25faWQ6IHR5cGVkUm93LnNlc3Npb25faWQsXG4gICAgICAgIG1ldGFkYXRhOiB0eXBlZFJvdy5tZXRhZGF0YSA/IEpTT04ucGFyc2UodHlwZWRSb3cubWV0YWRhdGEpIDogbnVsbFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRFdmVudENvdW50KHF1ZXJ5OiBFdmVudFF1ZXJ5KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBsZXQgc3FsID0gYFxuICAgICAgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50XG4gICAgICBGUk9NIGFuYWx5dGljc19ldmVudHNcbiAgICAgIFdIRVJFIDE9MVxuICAgIGA7XG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdO1xuXG4gICAgaWYgKHF1ZXJ5LmV2ZW50X3R5cGUpIHtcbiAgICAgIHNxbCArPSBgIEFORCBldmVudF90eXBlID0gP2A7XG4gICAgICBwYXJhbXMucHVzaChxdWVyeS5ldmVudF90eXBlKTtcbiAgICB9XG5cbiAgICBpZiAocXVlcnkuZW50aXR5X3R5cGUpIHtcbiAgICAgIHNxbCArPSBgIEFORCBlbnRpdHlfdHlwZSA9ID9gO1xuICAgICAgcGFyYW1zLnB1c2gocXVlcnkuZW50aXR5X3R5cGUpO1xuICAgIH1cblxuICAgIGlmIChxdWVyeS5lbnRpdHlfaWQpIHtcbiAgICAgIHNxbCArPSBgIEFORCBlbnRpdHlfaWQgPSA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHF1ZXJ5LmVudGl0eV9pZCk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5LnN0YXJ0X3RpbWUpIHtcbiAgICAgIHNxbCArPSBgIEFORCB0aW1lc3RhbXAgPj0gP2A7XG4gICAgICBwYXJhbXMucHVzaChxdWVyeS5zdGFydF90aW1lLmdldFRpbWUoKSk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5LmVuZF90aW1lKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgdGltZXN0YW1wIDw9ID9gO1xuICAgICAgcGFyYW1zLnB1c2gocXVlcnkuZW5kX3RpbWUuZ2V0VGltZSgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XG4gICAgY29uc3QgcmVzdWx0ID0gc3RtdC5nZXQoLi4ucGFyYW1zKSBhcyBhbnk7XG4gICAgcmV0dXJuIHJlc3VsdC5jb3VudDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdG9yZU1ldHJpYyhcbiAgICBtZXRyaWNUeXBlOiBzdHJpbmcsXG4gICAgbWV0cmljTmFtZTogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgZGltZW5zaW9ucz86IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgcGVyaW9kOiBzdHJpbmcgPSAnaG91cidcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICBJTlNFUlQgSU5UTyBhbmFseXRpY3NfbWV0cmljcyAobWV0cmljX3R5cGUsIG1ldHJpY19uYW1lLCB2YWx1ZSwgZGltZW5zaW9ucywgdGltZXN0YW1wLCBwZXJpb2QpXG4gICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8pXG4gICAgYCk7XG5cbiAgICBzdG10LnJ1bihcbiAgICAgIG1ldHJpY1R5cGUsXG4gICAgICBtZXRyaWNOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBkaW1lbnNpb25zID8gSlNPTi5zdHJpbmdpZnkoZGltZW5zaW9ucykgOiBudWxsLFxuICAgICAgRGF0ZS5ub3coKSxcbiAgICAgIHBlcmlvZFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0TWV0cmljcyhcbiAgICBtZXRyaWNUeXBlOiBzdHJpbmcsXG4gICAgbWV0cmljTmFtZTogc3RyaW5nLFxuICAgIHN0YXJ0VGltZT86IERhdGUsXG4gICAgZW5kVGltZT86IERhdGUsXG4gICAgcGVyaW9kPzogc3RyaW5nXG4gICk6IFByb21pc2U8YW55W10+IHtcbiAgICBsZXQgc3FsID0gYFxuICAgICAgU0VMRUNUIG1ldHJpY19uYW1lLCB2YWx1ZSwgZGltZW5zaW9ucywgdGltZXN0YW1wLCBwZXJpb2RcbiAgICAgIEZST00gYW5hbHl0aWNzX21ldHJpY3NcbiAgICAgIFdIRVJFIG1ldHJpY190eXBlID0gPyBBTkQgbWV0cmljX25hbWUgPSA/XG4gICAgYDtcbiAgICBjb25zdCBwYXJhbXM6IGFueVtdID0gW21ldHJpY1R5cGUsIG1ldHJpY05hbWVdO1xuXG4gICAgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgc3FsICs9IGAgQU5EIHRpbWVzdGFtcCA+PSA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGlmIChlbmRUaW1lKSB7XG4gICAgICBzcWwgKz0gYCBBTkQgdGltZXN0YW1wIDw9ID9gO1xuICAgICAgcGFyYW1zLnB1c2goZW5kVGltZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGlmIChwZXJpb2QpIHtcbiAgICAgIHNxbCArPSBgIEFORCBwZXJpb2QgPSA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKHBlcmlvZCk7XG4gICAgfVxuXG4gICAgc3FsICs9IGAgT1JERVIgQlkgdGltZXN0YW1wIERFU0NgO1xuXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShzcWwpO1xuICAgIGNvbnN0IHJvd3MgPSBzdG10LmFsbCguLi5wYXJhbXMpO1xuXG4gICAgcmV0dXJuIHJvd3MubWFwKHJvdyA9PiB7XG4gICAgICBjb25zdCB0eXBlZFJvdyA9IHJvdyBhcyBhbnk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXRyaWNfbmFtZTogdHlwZWRSb3cubWV0cmljX25hbWUsXG4gICAgICAgIHZhbHVlOiB0eXBlZFJvdy52YWx1ZSxcbiAgICAgICAgZGltZW5zaW9uczogdHlwZWRSb3cuZGltZW5zaW9ucyA/IEpTT04ucGFyc2UodHlwZWRSb3cuZGltZW5zaW9ucykgOiBudWxsLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKHR5cGVkUm93LnRpbWVzdGFtcCksXG4gICAgICAgIHBlcmlvZDogdHlwZWRSb3cucGVyaW9kXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGNsZWFyT2xkRXZlbnRzKG9sZGVyVGhhbkRheXM6IG51bWJlciA9IDkwKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBjdXRvZmZUaW1lID0gbmV3IERhdGUoKTtcbiAgICBjdXRvZmZUaW1lLnNldERhdGUoY3V0b2ZmVGltZS5nZXREYXRlKCkgLSBvbGRlclRoYW5EYXlzKTtcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgREVMRVRFIEZST00gYW5hbHl0aWNzX2V2ZW50c1xuICAgICAgV0hFUkUgdGltZXN0YW1wIDwgP1xuICAgIGApO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oY3V0b2ZmVGltZS5nZXRUaW1lKCkpO1xuICAgIHJldHVybiByZXN1bHQuY2hhbmdlcztcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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