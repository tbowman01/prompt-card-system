5bcdad965024dd81af4e91138e71fa71
"use strict";
// Mock Next.js router
jest.mock("next/navigation", ()=>({
        useRouter: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _PromptCardForm = /*#__PURE__*/ _interop_require_default(require("../../../components/PromptCard/PromptCardForm"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockRouter = {
    push: jest.fn(),
    replace: jest.fn(),
    back: jest.fn()
};
const mockUseRouter = _navigation.useRouter;
describe("PromptCardForm", ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        mockUseRouter.mockReturnValue(mockRouter);
    });
    it("renders create form correctly", ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        expect(_react.screen.getByText("Create New Prompt Card")).toBeInTheDocument();
        expect(_react.screen.getByText("Create a new prompt template with test cases")).toBeInTheDocument();
        expect(_react.screen.getByLabelText(/title/i)).toBeInTheDocument();
        expect(_react.screen.getByLabelText(/description/i)).toBeInTheDocument();
        expect(_react.screen.getByLabelText(/template/i)).toBeInTheDocument();
        expect(_react.screen.getByRole("button", {
            name: /create card/i
        })).toBeInTheDocument();
    });
    it("renders edit form with initial data", ()=>{
        const initialData = {
            id: 1,
            title: "Test Card",
            description: "Test description",
            prompt_template: "Hello {{name}}",
            variables: [
                "name"
            ],
            created_at: "2024-01-01T00:00:00Z",
            updated_at: "2024-01-01T00:00:00Z"
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {
            cardId: 1,
            initialData: initialData
        }));
        expect(_react.screen.getByText("Edit Prompt Card")).toBeInTheDocument();
        expect(_react.screen.getByDisplayValue("Test Card")).toBeInTheDocument();
        expect(_react.screen.getByDisplayValue("Test description")).toBeInTheDocument();
        expect(_react.screen.getByDisplayValue("Hello {{name}}")).toBeInTheDocument();
        expect(_react.screen.getByText("name")).toBeInTheDocument() // Variable badge
        ;
        expect(_react.screen.getByRole("button", {
            name: /update card/i
        })).toBeInTheDocument();
    });
    it("extracts variables from prompt template", ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        const templateInput = _react.screen.getByLabelText(/template/i);
        _react.fireEvent.change(templateInput, {
            target: {
                value: "Hello {{name}}, you are {{age}} years old. Welcome {{name}}!"
            }
        });
        // Should show unique variables
        expect(_react.screen.getByText("name")).toBeInTheDocument();
        expect(_react.screen.getByText("age")).toBeInTheDocument();
        // Should only show unique variables (name appears twice but should only show once)
        const nameBadges = _react.screen.getAllByText("name");
        expect(nameBadges).toHaveLength(1);
    });
    it("shows validation errors for empty required fields", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        const submitButton = _react.screen.getByRole("button", {
            name: /create card/i
        });
        _react.fireEvent.click(submitButton);
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("Title and prompt template are required")).toBeInTheDocument();
        });
    });
    it("submits form successfully for new card", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        // Fill out the form
        _react.fireEvent.change(_react.screen.getByLabelText(/title/i), {
            target: {
                value: "New Test Card"
            }
        });
        _react.fireEvent.change(_react.screen.getByLabelText(/description/i), {
            target: {
                value: "Test description"
            }
        });
        _react.fireEvent.change(_react.screen.getByLabelText(/template/i), {
            target: {
                value: "Hello {{name}}"
            }
        });
        const submitButton = _react.screen.getByRole("button", {
            name: /create card/i
        });
        _react.fireEvent.click(submitButton);
        await (0, _react.waitFor)(()=>{
            expect(mockRouter.push).toHaveBeenCalledWith("/prompt-cards");
        });
    });
    it("handles form submission errors", async ()=>{
        // Mock fetch to return error
        global.fetch = jest.fn().mockResolvedValueOnce({
            json: async ()=>({
                    success: false,
                    error: "Server error"
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        // Fill out the form
        _react.fireEvent.change(_react.screen.getByLabelText(/title/i), {
            target: {
                value: "Test Card"
            }
        });
        _react.fireEvent.change(_react.screen.getByLabelText(/template/i), {
            target: {
                value: "Hello {{name}}"
            }
        });
        const submitButton = _react.screen.getByRole("button", {
            name: /create card/i
        });
        _react.fireEvent.click(submitButton);
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("Server error")).toBeInTheDocument();
        });
    });
    it("handles network errors", async ()=>{
        // Mock fetch to throw network error
        global.fetch = jest.fn().mockRejectedValueOnce(new Error("Network error"));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        // Fill out the form
        _react.fireEvent.change(_react.screen.getByLabelText(/title/i), {
            target: {
                value: "Test Card"
            }
        });
        _react.fireEvent.change(_react.screen.getByLabelText(/template/i), {
            target: {
                value: "Hello {{name}}"
            }
        });
        const submitButton = _react.screen.getByRole("button", {
            name: /create card/i
        });
        _react.fireEvent.click(submitButton);
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("Network error: Failed to save prompt card")).toBeInTheDocument();
        });
    });
    it("navigates back on cancel", ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        const cancelButton = _react.screen.getByRole("button", {
            name: /cancel/i
        });
        _react.fireEvent.click(cancelButton);
        expect(mockRouter.push).toHaveBeenCalledWith("/prompt-cards");
    });
    it("loads existing card data when cardId is provided", async ()=>{
        global.fetch = jest.fn().mockResolvedValueOnce({
            json: async ()=>({
                    success: true,
                    data: {
                        id: 1,
                        title: "Loaded Card",
                        description: "Loaded description",
                        prompt_template: "Hello {{user}}",
                        variables: [
                            "user"
                        ],
                        test_cases: []
                    }
                })
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {
            cardId: 1
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByDisplayValue("Loaded Card")).toBeInTheDocument();
            expect(_react.screen.getByDisplayValue("Loaded description")).toBeInTheDocument();
            expect(_react.screen.getByDisplayValue("Hello {{user}}")).toBeInTheDocument();
        });
    });
    it("shows loading state while submitting", async ()=>{
        // Mock fetch with delay
        global.fetch = jest.fn().mockImplementation(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                        json: async ()=>({
                                success: true,
                                data: {}
                            })
                    }), 100)));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        // Fill out form
        _react.fireEvent.change(_react.screen.getByLabelText(/title/i), {
            target: {
                value: "Test Card"
            }
        });
        _react.fireEvent.change(_react.screen.getByLabelText(/template/i), {
            target: {
                value: "Hello {{name}}"
            }
        });
        const submitButton = _react.screen.getByRole("button", {
            name: /create card/i
        });
        _react.fireEvent.click(submitButton);
        // Should show loading spinner in button
        expect(submitButton).toBeDisabled();
        expect(submitButton.querySelector(".animate-spin")).toBeInTheDocument();
    });
    it("shows test runner button for existing cards with test cases", ()=>{
        const initialData = {
            id: 1,
            title: "Test Card",
            prompt_template: "Hello {{name}}",
            variables: [
                "name"
            ],
            created_at: "2024-01-01T00:00:00Z",
            updated_at: "2024-01-01T00:00:00Z",
            test_cases: [
                {
                    id: 1,
                    prompt_card_id: 1,
                    name: "Test case 1",
                    input_variables: {
                        name: "John"
                    },
                    assertions: [],
                    created_at: "2024-01-01T00:00:00Z"
                },
                {
                    id: 2,
                    prompt_card_id: 1,
                    name: "Test case 2",
                    input_variables: {
                        name: "Jane"
                    },
                    assertions: [],
                    created_at: "2024-01-01T00:00:00Z"
                }
            ]
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {
            cardId: 1,
            initialData: initialData
        }));
        const testButton = _react.screen.getByRole("button", {
            name: /run tests \(2\)/i
        });
        expect(testButton).toBeInTheDocument();
        _react.fireEvent.click(testButton);
        expect(mockRouter.push).toHaveBeenCalledWith("/prompt-cards/1/test");
    });
    it("shows helpful tip for new cards", ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_PromptCardForm.default, {}));
        expect(_react.screen.getByText(/After creating the prompt card/)).toBeInTheDocument();
        expect(_react.screen.getByText(/you'll be able to add test cases/)).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL3Byb21wdC1jYXJkLXN5c3RlbS9mcm9udGVuZC9zcmMvX190ZXN0c19fL2NvbXBvbmVudHMvUHJvbXB0Q2FyZC9Qcm9tcHRDYXJkRm9ybS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcbmltcG9ydCBQcm9tcHRDYXJkRm9ybSBmcm9tICdAL2NvbXBvbmVudHMvUHJvbXB0Q2FyZC9Qcm9tcHRDYXJkRm9ybSdcbmltcG9ydCB7IFByb21wdENhcmQgfSBmcm9tICdAL3R5cGVzJ1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogamVzdC5mbigpLFxufSkpXG5cbmNvbnN0IG1vY2tSb3V0ZXIgPSB7XG4gIHB1c2g6IGplc3QuZm4oKSxcbiAgcmVwbGFjZTogamVzdC5mbigpLFxuICBiYWNrOiBqZXN0LmZuKCksXG59XG5cbmNvbnN0IG1vY2tVc2VSb3V0ZXIgPSB1c2VSb3V0ZXIgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUm91dGVyPlxuXG5kZXNjcmliZSgnUHJvbXB0Q2FyZEZvcm0nLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gICAgbW9ja1VzZVJvdXRlci5tb2NrUmV0dXJuVmFsdWUobW9ja1JvdXRlcilcbiAgfSlcblxuICBpdCgncmVuZGVycyBjcmVhdGUgZm9ybSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxQcm9tcHRDYXJkRm9ybSAvPilcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDcmVhdGUgTmV3IFByb21wdCBDYXJkJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ3JlYXRlIGEgbmV3IHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRlc3QgY2FzZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RpdGxlL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZGVzY3JpcHRpb24vaSkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90ZW1wbGF0ZS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jcmVhdGUgY2FyZC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgZWRpdCBmb3JtIHdpdGggaW5pdGlhbCBkYXRhJywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxEYXRhOiBQcm9tcHRDYXJkID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICB0aXRsZTogJ1Rlc3QgQ2FyZCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgZGVzY3JpcHRpb24nLFxuICAgICAgcHJvbXB0X3RlbXBsYXRlOiAnSGVsbG8ge3tuYW1lfX0nLFxuICAgICAgdmFyaWFibGVzOiBbJ25hbWUnXSxcbiAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgIH1cblxuICAgIHJlbmRlcig8UHJvbXB0Q2FyZEZvcm0gY2FyZElkPXsxfSBpbml0aWFsRGF0YT17aW5pdGlhbERhdGF9IC8+KVxuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VkaXQgUHJvbXB0IENhcmQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1Rlc3QgQ2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnVGVzdCBkZXNjcmlwdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnSGVsbG8ge3tuYW1lfX0nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCduYW1lJykpLnRvQmVJblRoZURvY3VtZW50KCkgLy8gVmFyaWFibGUgYmFkZ2VcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdXBkYXRlIGNhcmQvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIGl0KCdleHRyYWN0cyB2YXJpYWJsZXMgZnJvbSBwcm9tcHQgdGVtcGxhdGUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxQcm9tcHRDYXJkRm9ybSAvPilcblxuICAgIGNvbnN0IHRlbXBsYXRlSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RlbXBsYXRlL2kpXG4gICAgZmlyZUV2ZW50LmNoYW5nZSh0ZW1wbGF0ZUlucHV0LCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdIZWxsbyB7e25hbWV9fSwgeW91IGFyZSB7e2FnZX19IHllYXJzIG9sZC4gV2VsY29tZSB7e25hbWV9fSEnIH1cbiAgICB9KVxuXG4gICAgLy8gU2hvdWxkIHNob3cgdW5pcXVlIHZhcmlhYmxlc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCduYW1lJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnYWdlJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBcbiAgICAvLyBTaG91bGQgb25seSBzaG93IHVuaXF1ZSB2YXJpYWJsZXMgKG5hbWUgYXBwZWFycyB0d2ljZSBidXQgc2hvdWxkIG9ubHkgc2hvdyBvbmNlKVxuICAgIGNvbnN0IG5hbWVCYWRnZXMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCduYW1lJylcbiAgICBleHBlY3QobmFtZUJhZGdlcykudG9IYXZlTGVuZ3RoKDEpXG4gIH0pXG5cbiAgaXQoJ3Nob3dzIHZhbGlkYXRpb24gZXJyb3JzIGZvciBlbXB0eSByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxQcm9tcHRDYXJkRm9ybSAvPilcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NyZWF0ZSBjYXJkL2kgfSlcbiAgICBmaXJlRXZlbnQuY2xpY2soc3VibWl0QnV0dG9uKVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGl0bGUgYW5kIHByb21wdCB0ZW1wbGF0ZSBhcmUgcmVxdWlyZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3N1Ym1pdHMgZm9ybSBzdWNjZXNzZnVsbHkgZm9yIG5ldyBjYXJkJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8UHJvbXB0Q2FyZEZvcm0gLz4pXG5cbiAgICAvLyBGaWxsIG91dCB0aGUgZm9ybVxuICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90aXRsZS9pKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnTmV3IFRlc3QgQ2FyZCcgfVxuICAgIH0pXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2Rlc2NyaXB0aW9uL2kpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IGRlc2NyaXB0aW9uJyB9XG4gICAgfSlcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdGVtcGxhdGUvaSksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ0hlbGxvIHt7bmFtZX19JyB9XG4gICAgfSlcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NyZWF0ZSBjYXJkL2kgfSlcbiAgICBmaXJlRXZlbnQuY2xpY2soc3VibWl0QnV0dG9uKVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Byb21wdC1jYXJkcycpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnaGFuZGxlcyBmb3JtIHN1Ym1pc3Npb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgZmV0Y2ggdG8gcmV0dXJuIGVycm9yXG4gICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdTZXJ2ZXIgZXJyb3InIH0pLFxuICAgIH0pXG5cbiAgICByZW5kZXIoPFByb21wdENhcmRGb3JtIC8+KVxuXG4gICAgLy8gRmlsbCBvdXQgdGhlIGZvcm1cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdGl0bGUvaSksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgQ2FyZCcgfVxuICAgIH0pXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RlbXBsYXRlL2kpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdIZWxsbyB7e25hbWV9fScgfVxuICAgIH0pXG5cbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jcmVhdGUgY2FyZC9pIH0pXG4gICAgZmlyZUV2ZW50LmNsaWNrKHN1Ym1pdEJ1dHRvbilcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlcnZlciBlcnJvcicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnaGFuZGxlcyBuZXR3b3JrIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIGZldGNoIHRvIHRocm93IG5ldHdvcmsgZXJyb3JcbiAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKVxuXG4gICAgcmVuZGVyKDxQcm9tcHRDYXJkRm9ybSAvPilcblxuICAgIC8vIEZpbGwgb3V0IHRoZSBmb3JtXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RpdGxlL2kpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IENhcmQnIH1cbiAgICB9KVxuICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90ZW1wbGF0ZS9pKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnSGVsbG8ge3tuYW1lfX0nIH1cbiAgICB9KVxuXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY3JlYXRlIGNhcmQvaSB9KVxuICAgIGZpcmVFdmVudC5jbGljayhzdWJtaXRCdXR0b24pXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOZXR3b3JrIGVycm9yOiBGYWlsZWQgdG8gc2F2ZSBwcm9tcHQgY2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnbmF2aWdhdGVzIGJhY2sgb24gY2FuY2VsJywgKCkgPT4ge1xuICAgIHJlbmRlcig8UHJvbXB0Q2FyZEZvcm0gLz4pXG5cbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KVxuICAgIGZpcmVFdmVudC5jbGljayhjYW5jZWxCdXR0b24pXG5cbiAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Byb21wdC1jYXJkcycpXG4gIH0pXG5cbiAgaXQoJ2xvYWRzIGV4aXN0aW5nIGNhcmQgZGF0YSB3aGVuIGNhcmRJZCBpcyBwcm92aWRlZCcsIGFzeW5jICgpID0+IHtcbiAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICB0aXRsZTogJ0xvYWRlZCBDYXJkJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0xvYWRlZCBkZXNjcmlwdGlvbicsXG4gICAgICAgICAgcHJvbXB0X3RlbXBsYXRlOiAnSGVsbG8ge3t1c2VyfX0nLFxuICAgICAgICAgIHZhcmlhYmxlczogWyd1c2VyJ10sXG4gICAgICAgICAgdGVzdF9jYXNlczogW10sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9KVxuXG4gICAgcmVuZGVyKDxQcm9tcHRDYXJkRm9ybSBjYXJkSWQ9ezF9IC8+KVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdMb2FkZWQgQ2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdMb2FkZWQgZGVzY3JpcHRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnSGVsbG8ge3t1c2VyfX0nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3Nob3dzIGxvYWRpbmcgc3RhdGUgd2hpbGUgc3VibWl0dGluZycsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIGZldGNoIHdpdGggZGVsYXlcbiAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFxuICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHtcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7fSB9KSxcbiAgICAgICAgfSksIDEwMClcbiAgICAgIClcbiAgICApXG5cbiAgICByZW5kZXIoPFByb21wdENhcmRGb3JtIC8+KVxuXG4gICAgLy8gRmlsbCBvdXQgZm9ybVxuICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90aXRsZS9pKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnVGVzdCBDYXJkJyB9XG4gICAgfSlcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdGVtcGxhdGUvaSksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ0hlbGxvIHt7bmFtZX19JyB9XG4gICAgfSlcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NyZWF0ZSBjYXJkL2kgfSlcbiAgICBmaXJlRXZlbnQuY2xpY2soc3VibWl0QnV0dG9uKVxuXG4gICAgLy8gU2hvdWxkIHNob3cgbG9hZGluZyBzcGlubmVyIGluIGJ1dHRvblxuICAgIGV4cGVjdChzdWJtaXRCdXR0b24pLnRvQmVEaXNhYmxlZCgpXG4gICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcuYW5pbWF0ZS1zcGluJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnc2hvd3MgdGVzdCBydW5uZXIgYnV0dG9uIGZvciBleGlzdGluZyBjYXJkcyB3aXRoIHRlc3QgY2FzZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbERhdGE6IFByb21wdENhcmQgPSB7XG4gICAgICBpZDogMSxcbiAgICAgIHRpdGxlOiAnVGVzdCBDYXJkJyxcbiAgICAgIHByb21wdF90ZW1wbGF0ZTogJ0hlbGxvIHt7bmFtZX19JyxcbiAgICAgIHZhcmlhYmxlczogWyduYW1lJ10sXG4gICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIHRlc3RfY2FzZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgIHByb21wdF9jYXJkX2lkOiAxLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IGNhc2UgMScsXG4gICAgICAgICAgaW5wdXRfdmFyaWFibGVzOiB7IG5hbWU6ICdKb2huJyB9LFxuICAgICAgICAgIGFzc2VydGlvbnM6IFtdLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogMixcbiAgICAgICAgICBwcm9tcHRfY2FyZF9pZDogMSxcbiAgICAgICAgICBuYW1lOiAnVGVzdCBjYXNlIDInLFxuICAgICAgICAgIGlucHV0X3ZhcmlhYmxlczogeyBuYW1lOiAnSmFuZScgfSxcbiAgICAgICAgICBhc3NlcnRpb25zOiBbXSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9XG5cbiAgICByZW5kZXIoPFByb21wdENhcmRGb3JtIGNhcmRJZD17MX0gaW5pdGlhbERhdGE9e2luaXRpYWxEYXRhfSAvPilcblxuICAgIGNvbnN0IHRlc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ydW4gdGVzdHMgXFwoMlxcKS9pIH0pXG4gICAgZXhwZWN0KHRlc3RCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBcbiAgICBmaXJlRXZlbnQuY2xpY2sodGVzdEJ1dHRvbilcbiAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Byb21wdC1jYXJkcy8xL3Rlc3QnKVxuICB9KVxuXG4gIGl0KCdzaG93cyBoZWxwZnVsIHRpcCBmb3IgbmV3IGNhcmRzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8UHJvbXB0Q2FyZEZvcm0gLz4pXG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvQWZ0ZXIgY3JlYXRpbmcgdGhlIHByb21wdCBjYXJkLykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgveW91J2xsIGJlIGFibGUgdG8gYWRkIHRlc3QgY2FzZXMvKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxufSkiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJmbiIsIm1vY2tSb3V0ZXIiLCJwdXNoIiwicmVwbGFjZSIsImJhY2siLCJtb2NrVXNlUm91dGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0IiwicmVuZGVyIiwiUHJvbXB0Q2FyZEZvcm0iLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5TGFiZWxUZXh0IiwiZ2V0QnlSb2xlIiwibmFtZSIsImluaXRpYWxEYXRhIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicHJvbXB0X3RlbXBsYXRlIiwidmFyaWFibGVzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJjYXJkSWQiLCJnZXRCeURpc3BsYXlWYWx1ZSIsInRlbXBsYXRlSW5wdXQiLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm5hbWVCYWRnZXMiLCJnZXRBbGxCeVRleHQiLCJ0b0hhdmVMZW5ndGgiLCJzdWJtaXRCdXR0b24iLCJjbGljayIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImdsb2JhbCIsImZldGNoIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwiY2FuY2VsQnV0dG9uIiwiZGF0YSIsInRlc3RfY2FzZXMiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0b0JlRGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yIiwicHJvbXB0X2NhcmRfaWQiLCJpbnB1dF92YXJpYWJsZXMiLCJhc3NlcnRpb25zIiwidGVzdEJ1dHRvbiJdLCJtYXBwaW5ncyI6IjtBQUtBLHNCQUFzQjtBQUN0QkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVdGLEtBQUtHLEVBQUU7SUFDcEIsQ0FBQTs7Ozs7dUJBUm1EOzRCQUN6Qjt1RUFDQzs7Ozs7O0FBUTNCLE1BQU1DLGFBQWE7SUFDakJDLE1BQU1MLEtBQUtHLEVBQUU7SUFDYkcsU0FBU04sS0FBS0csRUFBRTtJQUNoQkksTUFBTVAsS0FBS0csRUFBRTtBQUNmO0FBRUEsTUFBTUssZ0JBQWdCTixxQkFBUztBQUUvQk8sU0FBUyxrQkFBa0I7SUFDekJDLFdBQVc7UUFDVFYsS0FBS1csYUFBYTtRQUNsQkgsY0FBY0ksZUFBZSxDQUFDUjtJQUNoQztJQUVBUyxHQUFHLGlDQUFpQztRQUNsQ0MsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsdUJBQWM7UUFFdEJDLE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLDJCQUEyQkMsaUJBQWlCO1FBQ3BFSCxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxpREFBaURDLGlCQUFpQjtRQUMxRkgsT0FBT0Ms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