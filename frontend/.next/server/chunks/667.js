exports.id=667,exports.ids=[667],exports.modules={57:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},1135:()=>{},1170:(a,b,c)=>{"use strict";c.d(b,{E:()=>e});var d=c(687);function e({children:a,variant:b="default",size:c="md"}){return(0,d.jsx)("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",outline:"border border-gray-300 bg-white text-gray-700"}[b]} ${{sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm"}[c]}`,children:a})}c(3210)},2185:(a,b,c)=>{"use strict";c.d(b,{FH:()=>g});let d="http://localhost:3001";class e extends Error{constructor(a,b){super(b),this.status=a,this.name="ApiError"}}async function f(a,b={}){let c=`${d}${a}`,g={headers:{"Content-Type":"application/json",...b.headers},...b};try{let a=await fetch(c,g),b=await a.json();if(!a.ok)throw new e(a.status,b.error||"Request failed");if(!b.success)throw Error(b.error||"API request failed");return b.data}catch(a){if(a instanceof e)throw a;throw Error("Network error: "+a.message)}}let g={getPromptCards:a=>{let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.search&&b.set("search",a.search);let c=b.toString();return f(`/prompt-cards${c?`?${c}`:""}`)},getPromptCard:a=>f(`/prompt-cards/${a}`),createPromptCard:a=>f("/prompt-cards",{method:"POST",body:JSON.stringify(a)}),updatePromptCard:(a,b)=>f(`/prompt-cards/${a}`,{method:"PUT",body:JSON.stringify(b)}),deletePromptCard:a=>f(`/prompt-cards/${a}`,{method:"DELETE"}),getTestCases:a=>f(`/test-cases/prompt-cards/${a}/test-cases`),createTestCase:a=>f("/test-cases",{method:"POST",body:JSON.stringify(a)}),updateTestCase:(a,b)=>f(`/test-cases/${a}`,{method:"PUT",body:JSON.stringify(b)}),deleteTestCase:a=>f(`/test-cases/${a}`,{method:"DELETE"}),importYAML:a=>f("/yaml/import",{method:"POST",body:JSON.stringify({yamlContent:a})}),validateYAML:a=>f("/yaml/validate",{method:"POST",body:JSON.stringify({yamlContent:a})}),exportYAML:a=>{let b=a?`/yaml/export/${a}`:"/yaml/export";return fetch(`${d}${b}`)},getHealth:()=>f("/health"),runTests:a=>f("/test-execution/run",{method:"POST",body:JSON.stringify(a)}),getTestExecution:a=>f(`/test-execution/${a}`),getTestExecutionResults:a=>f(`/test-execution/${a}/results`),runSingleTest:(a,b)=>f(`/test-execution/test-case/${a}/run`,{method:"POST",body:JSON.stringify(b||{})}),getDashboardMetrics:()=>f("/analytics/dashboard"),getRealtimeMetrics:()=>f("/analytics/realtime"),getHistoricalMetrics:()=>f("/analytics/historical"),getTrends:(a,b)=>{let c=new URLSearchParams;a&&c.set("period",a),b&&c.set("limit",b.toString());let d=c.toString();return f(`/analytics/trends${d?`?${d}`:""}`)},getInsights:()=>f("/analytics/insights"),recordTestExecution:a=>f("/analytics/events/test-execution",{method:"POST",body:JSON.stringify(a)}),recordBatchExecution:a=>f("/analytics/events/batch-execution",{method:"POST",body:JSON.stringify(a)}),recordModelUsage:(a,b)=>f("/analytics/events/model-usage",{method:"POST",body:JSON.stringify({model:a,usage:b})}),recordSystemMetrics:a=>f("/analytics/events/system-metrics",{method:"POST",body:JSON.stringify({metrics:a})})}},2643:(a,b,c)=>{"use strict";c.d(b,{$:()=>e});var d=c(687);function e({variant:a="primary",size:b="md",loading:c=!1,children:e,className:f="",disabled:g,...h}){return(0,d.jsxs)("button",{className:`inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500",outline:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-primary-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[a]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[b]} ${f}`,disabled:g||c,...h,children:[c&&(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})}c(3210)},3503:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(687),e=c(3210),f=c(1170),g=c(2643);function h({execution:a,onClear:b}){let[c,h]=(0,e.useState)(new Set),i=a=>{switch(a){case"passed":return(0,d.jsx)(f.E,{variant:"success",children:"Passed"});case"failed":return(0,d.jsx)(f.E,{variant:"danger",children:"Failed"});case"error":return(0,d.jsx)(f.E,{variant:"warning",children:"Error"});default:return(0,d.jsx)(f.E,{variant:"default",children:a})}},j=a=>a<1e3?`${a}ms`:`${(a/1e3).toFixed(2)}s`;return(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Executed at ",new Date(a.created_at).toLocaleString()]})]}),b&&(0,d.jsx)(g.$,{variant:"outline",size:"sm",onClick:b,children:"Clear Results"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:a.total_tests}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Total Tests"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.passed_tests}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Passed"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:a.failed_tests}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Failed"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:j(a.execution_time_ms)}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Duration"})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 p-3 bg-blue-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),i(a.status)]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Model:"}),(0,d.jsx)(f.E,{variant:"outline",children:a.model_used})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Execution ID:"}),(0,d.jsx)("code",{className:"text-xs bg-white px-2 py-1 rounded border",children:a.id})]})]}),a.error_message&&(0,d.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-red-800 mb-1",children:"Execution Error"}),(0,d.jsx)("div",{className:"text-sm text-red-700",children:a.error_message})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Individual Results"}),0===a.test_results.length?(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No test results available"}):a.test_results.map(a=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,d.jsx)("div",{className:"p-4 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>{var b;return b=a.id,void h(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[i(a.status),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:a.test_case_name})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-sm text-gray-500",children:j(a.execution_time_ms)}),(0,d.jsx)(g.$,{variant:"outline",size:"sm",children:c.has(a.id)?"Collapse":"Expand"})]})]})}),c.has(a.id)&&(0,d.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[a.error_message&&(0,d.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-red-800 mb-1",children:"Error"}),(0,d.jsx)("div",{className:"text-sm text-red-700",children:a.error_message})]}),a.assertion_results.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assertions"}),(0,d.jsx)("div",{className:"space-y-2",children:a.assertion_results.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-3 p-2 bg-gray-50 rounded",children:[a.passed?(0,d.jsx)(f.E,{variant:"success",size:"sm",children:"✓"}):(0,d.jsx)(f.E,{variant:"danger",size:"sm",children:"✗"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsxs)("span",{className:"font-medium",children:[a.type,":"]}),(0,d.jsxs)("span",{className:"ml-1",children:['Expected "',a.expected,'", got "',a.actual,'"']})]}),a.description&&(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:a.description})]})]},b))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.expected_output&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Expected Output"}),(0,d.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:(0,d.jsx)("pre",{className:"text-sm text-green-800 whitespace-pre-wrap",children:a.expected_output})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Actual Output"}),(0,d.jsx)("div",{className:`p-3 border rounded-md ${"passed"===a.status?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:(0,d.jsx)("pre",{className:`text-sm whitespace-pre-wrap ${"passed"===a.status?"text-green-800":"text-red-800"}`,children:a.actual_output})})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-gray-500",children:[(0,d.jsxs)("span",{children:["Test Case ID: ",a.test_case_id]}),(0,d.jsxs)("span",{children:["Model: ",a.model_used]}),(0,d.jsxs)("span",{children:["Execution Time: ",j(a.execution_time_ms)]})]})]})]},a.id))]})]})}},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(7413);c(1135);var e=c(7339),f=c.n(e);let g={title:"Prompt Card System",description:"Test-driven prompt development with local LLM integration"};function h({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("header",{className:"bg-white shadow",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Prompt Card System"})}),(0,d.jsxs)("nav",{className:"flex space-x-4",children:[(0,d.jsx)("a",{href:"/",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),(0,d.jsx)("a",{href:"/prompt-cards",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Prompt Cards"}),(0,d.jsx)("a",{href:"/analytics",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Analytics"}),(0,d.jsx)("a",{href:"/yaml",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"YAML Import/Export"})]})]})})}),(0,d.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"px-4 py-6 sm:px-0",children:a})})]})})})}},6505:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},6627:(a,b,c)=>{"use strict";c.d(b,{A:()=>j});var d=c(687),e=c(3210),f=c(2643),g=c(9776),h=c(1170),i=c(2185);function j({promptCardId:a,testCases:b,onTestComplete:c,onError:j}){let[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)("llama3.2"),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)("sequential"),u=async()=>{if(0===m.length&&!q)return void j?.("Please select at least one test to run");l(!0);try{let d=q?b.map(a=>a.id):m;if("parallel"===s){let b=await fetch("/api/test-cases/execute-parallel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt_card_id:a,test_case_ids:d,model:o,configuration:{max_concurrent_tests:3,timeout_per_test:3e4,retry_failed_tests:!1,max_retries:1,resource_limits:{memory_mb:1024,cpu_percent:50}},priority:0})}),e=await b.json();if(!b.ok)throw Error(e.error||"Failed to start parallel execution");c?.({execution_id:e.data.execution_id,status:"running",mode:"parallel"})}else{let b=await i.FH.runTests({prompt_card_id:a,model:o,test_case_ids:q?void 0:m});b.execution?c?.(b.execution):setTimeout(async()=>{try{let a=await i.FH.getTestExecution(b.execution_id);c?.(a)}catch(a){j?.(a instanceof Error?a.message:"Failed to get test results")}},1e3)}}catch(a){j?.(a instanceof Error?a.message:"Failed to run tests")}finally{l(!1)}},v=async a=>{try{let b=await i.FH.runSingleTest(a,{model:o});console.log("Single test result:",b)}catch(a){j?.(a instanceof Error?a.message:"Failed to run test")}};return 0===b.length?(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,d.jsx)("div",{className:"text-gray-500 mb-2",children:(0,d.jsx)("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,d.jsx)("p",{className:"text-gray-600",children:"No test cases available to run"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Create test cases first to start testing"})]}):(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Runner"}),(0,d.jsxs)(h.E,{variant:"default",children:[b.length," test cases"]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,d.jsxs)("select",{value:o,onChange:a=>p(a.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:k,children:[(0,d.jsx)("option",{value:"llama3.2",children:"Llama 3.2"}),(0,d.jsx)("option",{value:"llama3.1",children:"Llama 3.1"}),(0,d.jsx)("option",{value:"mistral",children:"Mistral"}),(0,d.jsx)("option",{value:"codellama",children:"CodeLlama"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Execution Mode"}),(0,d.jsxs)("div",{className:"flex space-x-4",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"executionMode",value:"sequential",checked:"sequential"===s,onChange:a=>t(a.target.value),disabled:k,className:"mr-2"}),(0,d.jsx)("span",{className:"text-sm",children:"Sequential"})]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"executionMode",value:"parallel",checked:"parallel"===s,onChange:a=>t(a.target.value),disabled:k,className:"mr-2"}),(0,d.jsx)("span",{className:"text-sm",children:"Parallel"}),(0,d.jsx)("span",{className:"ml-1 text-xs text-blue-600",children:"⚡ Faster"})]})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"sequential"===s?"Run tests one at a time (traditional mode)":"Run multiple tests simultaneously with real-time progress tracking"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Tests to Run"}),(0,d.jsx)(f.$,{variant:"outline",size:"sm",onClick:()=>{q?n([]):n(b.map(a=>a.id)),r(!q)},disabled:k,children:q?"Deselect All":"Select All"})]}),(0,d.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:b.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("input",{type:"checkbox",id:`test-${a.id}`,checked:q||m.includes(a.id),onChange:()=>{var b;return b=a.id,void n(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},disabled:k,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:`test-${a.id}`,className:"text-sm text-gray-900 cursor-pointer",children:a.name})]}),(0,d.jsx)(f.$,{variant:"outline",size:"sm",onClick:()=>v(a.id),disabled:k,className:"text-xs",children:"Run Solo"})]},a.id))})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(f.$,{onClick:u,disabled:k||0===m.length&&!q,loading:k,className:"px-6",children:k?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.k,{size:"sm",className:"mr-2"}),"parallel"===s?"Starting Parallel Tests...":"Running Tests..."]}):(0,d.jsxs)(d.Fragment,{children:["parallel"===s?"⚡ ":"","Run ",q?"All":m.length," Test",(q?b.length:m.length)!==1?"s":"","parallel"===s?" (Parallel)":""]})})})]})}},7793:()=>{},8289:()=>{},9776:(a,b,c)=>{"use strict";c.d(b,{k:()=>e});var d=c(687);function e({size:a="md",className:b=""}){return(0,d.jsx)("div",{className:`animate-spin rounded-full border-b-2 border-primary-600 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[a]} ${b}`,children:(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})})}c(3210)}};