(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{8648:function(e,s,t){Promise.resolve().then(t.bind(t,9352))},9352:function(e,s,t){"use strict";t.d(s,{default:function(){return A}});var a=t(7821),r=t(8078),l=t(8006);let n=e=>{let{variant:s="default",className:t="",children:r}=e;return(0,a.jsx)("span",{className:"".concat("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"," ").concat({default:"bg-blue-100 text-blue-800",secondary:"bg-yellow-100 text-yellow-800",destructive:"bg-red-100 text-red-800",outline:"border border-gray-200 text-gray-700"}[s]," ").concat(t),children:r})},c=e=>{let{variant:s="default",size:t="md",as:r="button",className:l="",children:n,...c}=e;return(0,a.jsx)(r,{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",ghost:"text-gray-700 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t]," ").concat(l),...c,children:n})},i=e=>{let{value:s,max:t=100,className:r=""}=e;return(0,a.jsx)("div",{className:"relative h-4 w-full overflow-hidden rounded-full bg-gray-200 ".concat(r),children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:"translateX(-".concat(100-Math.min(100,Math.max(0,s/t*100)),"%)")}})})},d=r.createContext(void 0),h=e=>{let{value:s,defaultValue:t="",onValueChange:l,className:n="",children:c}=e,[i,h]=r.useState(t);return(0,a.jsx)(d.Provider,{value:{value:void 0!==s?s:i,onValueChange:e=>{void 0===s&&h(e),null==l||l(e)}},children:(0,a.jsx)("div",{className:n,children:c})})},o=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-600 ".concat(s),children:t})},x=e=>{let{value:s,className:t="",children:l}=e,n=r.useContext(d);if(!n)throw Error("TabsTrigger must be used within a Tabs component");let c=n.value===s;return(0,a.jsx)("button",{className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"," ").concat(t),onClick:()=>n.onValueChange(s),children:l})},u=e=>{let{value:s,className:t="",children:l}=e,n=r.useContext(d);if(!n)throw Error("TabsContent must be used within a Tabs component");return n.value!==s?null:(0,a.jsx)("div",{className:"mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ".concat(t),children:l})};var m=t(6576);let f=(0,m.Z)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var j=t(981),y=t(2581);let v=(0,m.Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var g=t(6946),p=t(9234),N=t(496),b=t(7256),w=t(3336),k=t(6200),Z=t(9578),M=t(1996);let C=e=>{let{status:s}=e;switch(s){case"healthy":return(0,a.jsx)(f,{className:"h-4 w-4 text-green-500"});case"degraded":return(0,a.jsx)(j.Z,{className:"h-4 w-4 text-yellow-500"});case"unhealthy":return(0,a.jsx)(y.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(v,{className:"h-4 w-4 text-gray-500"})}},S=e=>{let{status:s}=e,t={healthy:"bg-green-100 text-green-800",degraded:"bg-yellow-100 text-yellow-800",unhealthy:"bg-red-100 text-red-800",offline:"bg-gray-100 text-gray-800"};return(0,a.jsx)(n,{className:t[s]||t.offline,children:s.toUpperCase()})},z=e=>{let{serviceName:s}=e;return({database:(0,a.jsx)(g.Z,{className:"h-5 w-5"}),redis:(0,a.jsx)(g.Z,{className:"h-5 w-5"}),ollama:(0,a.jsx)(p.Z,{className:"h-5 w-5"}),frontend:(0,a.jsx)(N.Z,{className:"h-5 w-5"}),backend:(0,a.jsx)(N.Z,{className:"h-5 w-5"}),websocket:(0,a.jsx)(b.Z,{className:"h-5 w-5"}),prometheus:(0,a.jsx)(w.Z,{className:"h-5 w-5"}),grafana:(0,a.jsx)(w.Z,{className:"h-5 w-5"})})[s]||(0,a.jsx)(k.Z,{className:"h-5 w-5"})};function A(){let[e,s]=(0,r.useState)(null),[t,d]=(0,r.useState)({}),[m,j]=(0,r.useState)(!0),[v,g]=(0,r.useState)(null),[p,N]=(0,r.useState)(!0),b=async()=>{try{g(null);let e=await fetch("/api/health/orchestrator/summary");if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let t=await e.json();s(t);let a=await fetch("/api/health/orchestrator/system");if(a.ok){let e=await a.json();d(e.services||{})}}catch(e){console.error("Failed to fetch health data:",e),g(e instanceof Error?e.message:"Failed to fetch health data")}finally{j(!1)}};(0,r.useEffect)(()=>{b()},[]),(0,r.useEffect)(()=>{if(!p)return;let e=setInterval(b,3e4);return()=>clearInterval(e)},[p]);let w=e=>e<1e3?"".concat(e,"ms"):"".concat((e/1e3).toFixed(1),"s"),k=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/6e4);if(t<1)return"Just now";if(t<60)return"".concat(t,"m ago");let a=Math.floor(t/60);return a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")};return m?(0,a.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,a.jsx)(Z.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-lg",children:"Loading health data..."})]}):v?(0,a.jsxs)(l.Zb,{className:"m-4",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center text-red-600",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 mr-2"}),"Health Dashboard Error"]})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:v}),(0,a.jsxs)(c,{onClick:b,variant:"outline",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]}):e?(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"System Health Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Real-time monitoring of all services"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c,{variant:"outline",size:"sm",onClick:()=>N(!p),children:[p?"Disable":"Enable"," Auto-refresh"]}),(0,a.jsxs)(c,{onClick:b,size:"sm",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center",children:[(0,a.jsx)(C,{status:e.overallStatus}),(0,a.jsx)("span",{className:"ml-2",children:"Overall System Status"}),(0,a.jsx)(S,{status:e.overallStatus})]}),(0,a.jsxs)(l.SZ,{children:["Last checked: ",k(e.lastCheck)]})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.healthyServices}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Healthy"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.degradedServices}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Degraded"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.unhealthyServices}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Unhealthy"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:e.offlineServices}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Offline"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"System Health"}),(0,a.jsxs)("span",{children:[e.healthPercentage,"%"]})]}),(0,a.jsx)(i,{value:e.healthPercentage,className:"h-2"})]})]})]}),(0,a.jsxs)(h,{defaultValue:"services",className:"space-y-4",children:[(0,a.jsxs)(o,{children:[(0,a.jsx)(x,{value:"services",children:"All Services"}),(0,a.jsx)(x,{value:"critical",children:"Critical Services"}),(0,a.jsx)(x,{value:"issues",children:"Recent Issues"})]}),(0,a.jsx)(u,{value:"services",children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(t).map(e=>{let[s,t]=e;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"pb-3",children:[(0,a.jsxs)(l.ll,{className:"flex items-center justify-between text-base",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(z,{serviceName:s}),(0,a.jsx)("span",{className:"ml-2 capitalize",children:s})]}),(0,a.jsx)(S,{status:t.status})]}),t.criticalService&&(0,a.jsx)(n,{variant:"outline",className:"w-fit",children:"Critical"})]}),(0,a.jsx)(l.aY,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[t.message&&(0,a.jsx)("p",{className:"text-gray-600",children:t.message}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Response Time:"}),(0,a.jsx)("span",{className:t.responseTime>5e3?"text-red-600":"text-green-600",children:w(t.responseTime)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Last Check:"}),(0,a.jsx)("span",{children:k(t.lastCheck)})]})]})})]},s)})})}),(0,a.jsx)(u,{value:"critical",children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.criticalServices.map(e=>(0,a.jsxs)(l.Zb,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(z,{serviceName:e.name}),(0,a.jsx)("span",{className:"ml-2 capitalize",children:e.name})]}),(0,a.jsx)(S,{status:e.status})]})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[e.message&&(0,a.jsx)("p",{className:"text-gray-600",children:e.message}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Response Time:"}),(0,a.jsx)("div",{className:e.responseTime>5e3?"text-red-600 font-medium":"text-green-600",children:w(e.responseTime)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Last Check:"}),(0,a.jsx)("div",{children:k(e.lastCheck)})]})]})]})})]},e.name))})}),(0,a.jsx)(u,{value:"issues",children:e.recentIssues.length>0?(0,a.jsx)("div",{className:"space-y-4",children:e.recentIssues.map((e,s)=>(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(C,{status:e.status}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"font-medium capitalize",children:e.service}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.message})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(S,{status:e.status}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,a.jsx)(M.Z,{className:"h-3 w-3 inline mr-1"}),k(e.lastCheck)]})]})]})})},s))}):(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"pt-8 text-center",children:[(0,a.jsx)(f,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No Recent Issues"}),(0,a.jsx)("p",{className:"text-gray-600",children:"All services are running smoothly!"})]})})})]})]}):(0,a.jsx)(l.Zb,{className:"m-4",children:(0,a.jsx)(l.aY,{className:"p-8 text-center",children:(0,a.jsx)("p",{children:"No health data available"})})})}},8006:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return r},aY:function(){return i},ll:function(){return n}});var a=t(7821);t(8078);let r=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm ".concat(s),children:t})},l=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"p-6 pb-0 ".concat(s),children:t})},n=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight ".concat(s),children:t})},c=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("p",{className:"text-sm text-gray-600 ".concat(s),children:t})},i=e=>{let{className:s="",children:t}=e;return(0,a.jsx)("div",{className:"p-6 pt-0 ".concat(s),children:t})}},6576:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(5565);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),n=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},c=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()},i=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,a.Gp)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:h="",children:o,iconNode:x,...u}=e;return(0,a.az)("svg",{ref:s,...d,width:r,height:r,stroke:t,strokeWidth:n?24*Number(l)/Number(r):l,className:c("lucide",h),...!o&&!i(u)&&{"aria-hidden":"true"},...u},[...x.map(e=>{let[s,t]=e;return(0,a.az)(s,t)}),...Array.isArray(o)?o:[o]])}),o=(e,s)=>{let t=(0,a.Gp)((t,l)=>{let{className:i,...d}=t;return(0,a.az)(h,{ref:l,iconNode:s,className:c("lucide-".concat(r(n(e))),"lucide-".concat(e),i),...d})});return t.displayName=n(e),t}},6200:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},9234:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},3336:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2581:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1996:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6946:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},9578:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},496:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},981:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7256:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6576).Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},5565:function(e,s,t){"use strict";t.d(s,{Gp:function(){return a.forwardRef},az:function(){return a.createElement}});var a=t(8078)}},function(e){e.O(0,[115,364,744],function(){return e(e.s=8648)}),_N_E=e.O()}]);